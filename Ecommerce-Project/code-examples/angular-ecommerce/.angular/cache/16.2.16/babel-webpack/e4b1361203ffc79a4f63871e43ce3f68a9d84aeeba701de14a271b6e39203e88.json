{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/icon\";\nfunction StarRatingComponent_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function StarRatingComponent_button_1_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(!ctx_r4.readOnly && ctx_r4.rate(i_r3 + 1));\n    })(\"mouseenter\", function StarRatingComponent_button_1_Template_button_mouseenter_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(!ctx_r6.readOnly && ctx_r6.onStarHover(i_r3 + 1));\n    })(\"mouseleave\", function StarRatingComponent_button_1_Template_button_mouseleave_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(!ctx_r7.readOnly && ctx_r7.onStarLeave());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"filled\", i_r3 < ctx_r0.currentRating)(\"hovered\", !ctx_r0.readOnly && ctx_r0.hoverRating !== null && i_r3 < ctx_r0.hoverRating);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hoverRating !== null && i_r3 < ctx_r0.hoverRating ? \"star\" : i_r3 < ctx_r0.currentRating ? \"star\" : \"star_border\");\n  }\n}\nfunction StarRatingComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" (\", ctx_r1.reviewCount, \" \", ctx_r1.reviewCount === 1 ? \"review\" : \"reviews\", \") \");\n  }\n}\nclass StarRatingComponent {\n  constructor() {\n    this.rating = 0;\n    this.maxRating = 5;\n    this.readOnly = false; // Added Input\n    this.showReviewCount = true;\n    this.ratingChange = new EventEmitter();\n    this.stars = [];\n    this.currentRating = 0;\n    this.hoverRating = null;\n  }\n  ngOnChanges(changes) {\n    if (changes['rating'] || changes['maxRating']) {\n      this.currentRating = this.rating;\n      this.stars = Array(this.maxRating).fill(0);\n    }\n  }\n  rate(ratingValue) {\n    if (!this.readOnly) {\n      this.currentRating = ratingValue;\n      this.ratingChange.emit(this.currentRating);\n    }\n  }\n  onStarHover(ratingValue) {\n    if (!this.readOnly) {\n      this.hoverRating = ratingValue;\n    }\n  }\n  onStarLeave() {\n    if (!this.readOnly) {\n      this.hoverRating = null;\n    }\n  }\n  static {\n    this.ɵfac = function StarRatingComponent_Factory(t) {\n      return new (t || StarRatingComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StarRatingComponent,\n      selectors: [[\"app-star-rating\"]],\n      inputs: {\n        rating: \"rating\",\n        maxRating: \"maxRating\",\n        readOnly: \"readOnly\",\n        reviewCount: \"reviewCount\",\n        showReviewCount: \"showReviewCount\"\n      },\n      outputs: {\n        ratingChange: \"ratingChange\"\n      },\n      features: [i0.ɵɵNgOnChangesFeature],\n      decls: 3,\n      vars: 4,\n      consts: [[1, \"star-rating-container\"], [\"type\", \"button\", \"class\", \"star-button\", 3, \"filled\", \"hovered\", \"click\", \"mouseenter\", \"mouseleave\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"review-count\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"star-button\", 3, \"click\", \"mouseenter\", \"mouseleave\"], [1, \"review-count\"]],\n      template: function StarRatingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, StarRatingComponent_button_1_Template, 3, 5, \"button\", 1);\n          i0.ɵɵtemplate(2, StarRatingComponent_span_2_Template, 2, 2, \"span\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"readonly\", ctx.readOnly);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.stars);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showReviewCount && ctx.reviewCount !== undefined);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf, i2.MatIcon],\n      styles: [\".star-rating-container[_ngcontent-%COMP%] {\\n  display: inline-flex;\\n  align-items: center;\\n  gap: 2px;\\n}\\n.star-rating-container[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  padding: 0;\\n  margin: 0;\\n  cursor: pointer;\\n  color: #f9a825;\\n}\\n.star-rating-container[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  vertical-align: middle;\\n}\\n.star-rating-container.readonly[_ngcontent-%COMP%]   .star-button[_ngcontent-%COMP%] {\\n  cursor: default;\\n}\\n.star-rating-container[_ngcontent-%COMP%]   .review-count[_ngcontent-%COMP%] {\\n  margin-left: 8px;\\n  font-size: 0.9em;\\n  color: #757575;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvc3Rhci1yYXRpbmcvc3Rhci1yYXRpbmcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQkFBQTtFQUNBLG1CQUFBO0VBQ0EsUUFBQTtBQUNGO0FBQ0U7RUFDRSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBQ0o7QUFDSTtFQUNFLGVBQUE7RUFDQSxzQkFBQTtBQUNOO0FBR0U7RUFDRSxlQUFBO0FBREo7QUFJRTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0FBRkoiLCJzb3VyY2VzQ29udGVudCI6WyIuc3Rhci1yYXRpbmctY29udGFpbmVyIHtcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMnB4O1xuXG4gIC5zdGFyLWJ1dHRvbiB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IDA7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGNvbG9yOiAjZjlhODI1OyAvLyBHb2xkIGNvbG9yIGZvciBzdGFyc1xuXG4gICAgbWF0LWljb24ge1xuICAgICAgZm9udC1zaXplOiAyMHB4OyAvLyBBZGp1c3Qgc2l6ZSBhcyBuZWVkZWRcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgfVxuICB9XG5cbiAgJi5yZWFkb25seSAuc3Rhci1idXR0b24ge1xuICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgfVxuXG4gIC5yZXZpZXctY291bnQge1xuICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgZm9udC1zaXplOiAwLjllbTtcbiAgICBjb2xvcjogIzc1NzU3NTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}\nexport { StarRatingComponent };","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵlistener","StarRatingComponent_button_1_Template_button_click_0_listener","restoredCtx","ɵɵrestoreView","_r5","i_r3","index","ctx_r4","ɵɵnextContext","ɵɵresetView","readOnly","rate","StarRatingComponent_button_1_Template_button_mouseenter_0_listener","ctx_r6","onStarHover","StarRatingComponent_button_1_Template_button_mouseleave_0_listener","ctx_r7","onStarLeave","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","ctx_r0","currentRating","hoverRating","ɵɵadvance","ɵɵtextInterpolate","ɵɵtextInterpolate2","ctx_r1","reviewCount","StarRatingComponent","constructor","rating","maxRating","showReviewCount","ratingChange","stars","ngOnChanges","changes","Array","fill","ratingValue","emit","selectors","inputs","outputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","StarRatingComponent_Template","rf","ctx","ɵɵtemplate","StarRatingComponent_button_1_Template","StarRatingComponent_span_2_Template","ɵɵproperty","undefined"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/shared/components/star-rating/star-rating.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-star-rating',\n  template: `\n    <div class=\"star-rating-container\" [class.readonly]=\"readOnly\">\n      <button *ngFor=\"let star of stars; let i = index\" \n              type=\"button\"\n              class=\"star-button\"\n              [class.filled]=\"i < currentRating\"\n              [class.hovered]=\"!readOnly && hoverRating !== null && i < hoverRating\"\n              (click)=\"!readOnly && rate(i + 1)\"\n              (mouseenter)=\"!readOnly && onStarHover(i + 1)\"\n              (mouseleave)=\"!readOnly && onStarLeave()\">\n        <mat-icon>{{ (hoverRating !== null && i < hoverRating) ? 'star' : (i < currentRating ? 'star' : 'star_border') }}</mat-icon>\n      </button>\n      <span *ngIf=\"showReviewCount && reviewCount !== undefined\" class=\"review-count\">\n        ({{ reviewCount }} {{ reviewCount === 1 ? 'review' : 'reviews' }})\n      </span>\n    </div>\n  `,\n  styleUrls: ['./star-rating.component.scss'] // Create this SCSS file\n})\nexport class StarRatingComponent implements OnChanges {\n  @Input() rating: number = 0;\n  @Input() maxRating: number = 5;\n  @Input() readOnly: boolean = false; // Added Input\n  @Input() reviewCount?: number;\n  @Input() showReviewCount: boolean = true;\n\n  @Output() ratingChange = new EventEmitter<number>();\n\n  stars: any[] = [];\n  currentRating: number = 0;\n  hoverRating: number | null = null;\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['rating'] || changes['maxRating']) {\n      this.currentRating = this.rating;\n      this.stars = Array(this.maxRating).fill(0);\n    }\n  }\n\n  rate(ratingValue: number): void {\n    if (!this.readOnly) {\n      this.currentRating = ratingValue;\n      this.ratingChange.emit(this.currentRating);\n    }\n  }\n\n  onStarHover(ratingValue: number): void {\n    if (!this.readOnly) {\n      this.hoverRating = ratingValue;\n    }\n  }\n\n  onStarLeave(): void {\n    if (!this.readOnly) {\n      this.hoverRating = null;\n    }\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}