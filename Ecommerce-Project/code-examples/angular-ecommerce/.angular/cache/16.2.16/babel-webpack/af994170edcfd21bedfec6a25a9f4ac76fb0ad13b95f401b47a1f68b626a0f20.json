{"ast":null,"code":"import { of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nlet MockDataService = /*#__PURE__*/(() => {\n  class MockDataService {\n    constructor() {\n      this.products = [{\n        id: '1',\n        name: 'iPhone 15 Pro Max',\n        description: 'The ultimate iPhone experience with A17 Bionic chip and Pro camera system.',\n        price: 1199.99,\n        imageUrl: 'https://via.placeholder.com/400x400.png?text=iPhone+15+Pro',\n        images: [{\n          url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+1'\n        }, {\n          url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+2'\n        }],\n        category: {\n          id: 'smartphones',\n          name: 'Smartphones',\n          parentId: 'electronics'\n        },\n        categoryId: 'smartphones',\n        brand: 'Apple',\n        stockQuantity: 150,\n        rating: 4.8,\n        reviews: [{\n          id: 'r1p1',\n          productId: '1',\n          userId: 'u1',\n          userName: 'TechReviewer',\n          rating: 5,\n          comment: 'Amazing device!',\n          createdAt: new Date('2024-01-10T10:00:00Z')\n        }],\n        featured: true,\n        createdAt: new Date('2024-01-01T10:00:00Z'),\n        updatedAt: new Date('2024-01-05T10:00:00Z'),\n        keyFeatures: ['A17 Bionic Chip', 'Pro Camera System', 'ProMotion Display'],\n        freeShipping: true,\n        availabilityStatus: 'in-stock'\n      }, {\n        id: '2',\n        name: 'MacBook Pro 16-inch',\n        description: 'The most powerful MacBook Pro ever with M3 Max chip.',\n        price: 2499.00,\n        imageUrl: 'https://via.placeholder.com/400x400.png?text=MacBook+Pro+16',\n        images: [{\n          url: 'https://via.placeholder.com/600x600.png?text=MacBook+Pro+16+View+1'\n        }],\n        category: {\n          id: 'laptops',\n          name: 'Laptops',\n          parentId: 'electronics'\n        },\n        categoryId: 'laptops',\n        brand: 'Apple',\n        stockQuantity: 75,\n        rating: 4.9,\n        reviews: [],\n        featured: true,\n        createdAt: new Date('2023-11-15T10:00:00Z'),\n        updatedAt: new Date('2023-12-01T10:00:00Z'),\n        keyFeatures: ['M3 Max Chip', 'Liquid Retina XDR Display', '1080p FaceTime HD Camera'],\n        availabilityStatus: 'in-stock'\n      }, {\n        id: '3',\n        name: 'Sony WH-1000XM5 Headphones',\n        description: 'Industry-leading noise canceling headphones with exceptional sound quality.',\n        price: 348.00,\n        imageUrl: 'https://via.placeholder.com/400x400.png?text=Sony+XM5',\n        category: {\n          id: 'audio',\n          name: 'Audio',\n          parentId: 'electronics'\n        },\n        categoryId: 'audio',\n        brand: 'Sony',\n        stockQuantity: 200,\n        rating: 4.7,\n        reviews: [],\n        featured: false,\n        createdAt: new Date('2023-05-01T10:00:00Z'),\n        updatedAt: new Date('2023-05-01T10:00:00Z'),\n        keyFeatures: ['Noise Canceling', '30-hour battery life', 'Multipoint connection'],\n        fastDelivery: true,\n        availabilityStatus: 'in-stock'\n      },\n      // Add more diverse mock products here, ensuring they conform to the Product model\n      {\n        id: '4',\n        name: 'Men\\'s Casual Shirt',\n        description: 'Comfortable cotton casual shirt.',\n        price: 45.00,\n        imageUrl: 'https://via.placeholder.com/400x400.png?text=Casual+Shirt',\n        category: {\n          id: 'mens-clothing',\n          name: 'Men\\'s Clothing',\n          parentId: 'fashion'\n        },\n        categoryId: 'mens-clothing',\n        stockQuantity: 120,\n        rating: 4.0,\n        brand: 'ClothCo',\n        createdAt: new Date('2023-03-01T10:00:00Z'),\n        regularPrice: 50.00,\n        availabilityStatus: 'in-stock'\n      }, {\n        id: '5',\n        name: 'Running Shoes',\n        description: 'Lightweight running shoes for athletes.',\n        price: 89.99,\n        imageUrl: 'https://via.placeholder.com/400x400.png?text=Running+Shoes',\n        category: {\n          id: 'footwear',\n          name: 'Footwear',\n          parentId: 'fashion'\n        },\n        categoryId: 'footwear',\n        stockQuantity: 75,\n        rating: 4.6,\n        brand: 'FitGear',\n        createdAt: new Date('2023-02-10T10:00:00Z'),\n        availabilityStatus: 'in-stock'\n      }, {\n        id: '6',\n        name: 'Coffee Maker Deluxe',\n        description: 'Drip coffee maker with timer and grinder.',\n        price: 79.95,\n        imageUrl: 'https://via.placeholder.com/400x400.png?text=Coffee+Maker',\n        category: {\n          id: 'kitchen-appliances',\n          name: 'Kitchen Appliances',\n          parentId: 'home-garden'\n        },\n        categoryId: 'kitchen-appliances',\n        stockQuantity: 60,\n        rating: 4.2,\n        brand: 'HomeEase',\n        createdAt: new Date('2023-04-05T10:00:00Z'),\n        keyFeatures: ['Programmable', 'Built-in Grinder'],\n        availabilityStatus: 'low-stock'\n      }];\n      this.categories = [{\n        id: 'electronics',\n        name: 'Electronics',\n        description: 'Gadgets and devices',\n        image: 'https://via.placeholder.com/300x200.png?text=Electronics',\n        featured: true\n      }, {\n        id: 'smartphones',\n        name: 'Smartphones',\n        parentId: 'electronics',\n        image: 'https://via.placeholder.com/300x200.png?text=Smartphones'\n      }, {\n        id: 'laptops',\n        name: 'Laptops',\n        parentId: 'electronics',\n        image: 'https://via.placeholder.com/300x200.png?text=Laptops'\n      }, {\n        id: 'audio',\n        name: 'Audio',\n        parentId: 'electronics',\n        image: 'https://via.placeholder.com/300x200.png?text=Audio'\n      }, {\n        id: 'fashion',\n        name: 'Fashion',\n        description: 'Apparel and accessories',\n        image: 'https://via.placeholder.com/300x200.png?text=Fashion',\n        featured: true\n      }, {\n        id: 'mens-clothing',\n        name: 'Men\\'s Clothing',\n        parentId: 'fashion',\n        image: 'https://via.placeholder.com/300x200.png?text=Men%27s+Clothing'\n      }, {\n        id: 'womens-clothing',\n        name: 'Women\\'s Clothing',\n        parentId: 'fashion',\n        image: 'https://via.placeholder.com/300x200.png?text=Women%27s+Clothing'\n      }, {\n        id: 'footwear',\n        name: 'Footwear',\n        parentId: 'fashion',\n        image: 'https://via.placeholder.com/300x200.png?text=Footwear'\n      }, {\n        id: 'home-garden',\n        name: 'Home & Garden',\n        description: 'Items for your home',\n        image: 'https://via.placeholder.com/300x200.png?text=Home+Garden'\n      }, {\n        id: 'kitchen-appliances',\n        name: 'Kitchen Appliances',\n        parentId: 'home-garden',\n        image: 'https://via.placeholder.com/300x200.png?text=Kitchen'\n      }];\n      this.reviews = [{\n        id: 'r1p1',\n        productId: '1',\n        userId: 'user123',\n        userName: 'Jane D.',\n        rating: 5,\n        comment: 'Absolutely love this phone!',\n        createdAt: new Date('2024-01-15T14:30:00Z')\n      }, {\n        id: 'r2p1',\n        productId: '1',\n        userId: 'user456',\n        userName: 'John S.',\n        rating: 4,\n        comment: 'Great features, a bit pricey.',\n        createdAt: new Date('2024-01-17T09:15:00Z')\n      }, {\n        id: 'r1p2',\n        productId: '2',\n        userId: 'user789',\n        userName: 'Alice B.',\n        rating: 5,\n        comment: 'Perfect for my development work.',\n        createdAt: new Date('2023-11-20T11:00:00Z')\n      }];\n    }\n    getProducts(options = {}) {\n      let filteredProducts = [...this.products];\n      if (options.search) {\n        const searchTerm = options.search.toLowerCase();\n        filteredProducts = filteredProducts.filter(p => p.name.toLowerCase().includes(searchTerm) || p.description.toLowerCase().includes(searchTerm) || p.brand?.toLowerCase().includes(searchTerm) || p.category?.name.toLowerCase().includes(searchTerm));\n      }\n      if (options.category) {\n        const categoryFilter = options.category.toLowerCase();\n        filteredProducts = filteredProducts.filter(p => p.category?.id.toLowerCase() === categoryFilter || p.category?.name.toLowerCase() === categoryFilter || p.categoryId?.toLowerCase() === categoryFilter);\n      }\n      if (options.subcategory) {\n        const subCategoryTerm = options.subcategory.toLowerCase();\n        // This is a simplified subcategory filter. \n        // A real app might have subcategories explicitly linked or as part of a category path.\n        filteredProducts = filteredProducts.filter(p => p.description?.toLowerCase().includes(subCategoryTerm) || p.name?.toLowerCase().includes(subCategoryTerm) || p.keyFeatures && p.keyFeatures.some(kf => kf.toLowerCase().includes(subCategoryTerm)) || p.category?.name.toLowerCase().includes(subCategoryTerm) // if subcat is part of main cat name\n        );\n      }\n\n      if (options.minPrice !== undefined) {\n        filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice);\n      }\n      if (options.maxPrice !== undefined) {\n        filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice);\n      }\n      if (options.sortBy) {\n        filteredProducts.sort((a, b) => {\n          let aValue;\n          let bValue;\n          if (options.sortBy === 'price') {\n            aValue = a.price;\n            bValue = b.price;\n          } else if (options.sortBy === 'name') {\n            aValue = a.name.toLowerCase();\n            bValue = b.name.toLowerCase();\n          } else if (options.sortBy === 'createdAt' && a.createdAt && b.createdAt) {\n            aValue = a.createdAt.getTime();\n            bValue = b.createdAt.getTime();\n          } else if (options.sortBy === 'rating' && a.rating !== undefined && b.rating !== undefined) {\n            aValue = a.rating;\n            bValue = b.rating;\n          } else {\n            return 0; // No sort or unknown field\n          }\n\n          if (aValue < bValue) return options.order === 'asc' ? -1 : 1;\n          if (aValue > bValue) return options.order === 'asc' ? 1 : -1;\n          return 0;\n        });\n      }\n      const page = options.page || 1;\n      const limit = options.limit || 10;\n      const totalCount = filteredProducts.length;\n      const startIndex = (page - 1) * limit;\n      const endIndex = page * limit;\n      const items = filteredProducts.slice(startIndex, endIndex);\n      const totalPages = Math.ceil(totalCount / limit);\n      const response = {\n        items,\n        totalCount,\n        page,\n        limit,\n        totalPages\n      };\n      return of(response).pipe(delay(300)); // Simulate network delay\n    }\n\n    getProductById(id) {\n      const product = this.products.find(p => p.id === id);\n      if (product) {\n        return of(product).pipe(delay(100));\n      }\n      return of(undefined).pipe(delay(100)); // Simulate not found\n    }\n\n    getCategories() {\n      return of(this.categories).pipe(delay(100));\n    }\n    getProductReviews(productId, page = 1, limit = 5) {\n      const productReviews = this.reviews.filter(r => r.productId === productId);\n      const totalCount = productReviews.length;\n      const startIndex = (page - 1) * limit;\n      const endIndex = page * limit;\n      const items = productReviews.slice(startIndex, endIndex);\n      return of({\n        reviews: items,\n        totalCount\n      }).pipe(delay(100));\n    }\n    getFeaturedProducts(limit = 8) {\n      const featured = this.products.filter(p => p.featured).slice(0, limit);\n      return of(featured).pipe(delay(200));\n    }\n    static {\n      this.ɵfac = function MockDataService_Factory(t) {\n        return new (t || MockDataService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: MockDataService,\n        factory: MockDataService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return MockDataService;\n})();\nexport { MockDataService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}