{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport * as ProductActions from '../actions/product.actions';\nexport const initialState = {\n  items: [],\n  categories: [],\n  reviews: [],\n  selectedProduct: null,\n  currentProduct: null,\n  total: 0,\n  loading: false,\n  error: null\n};\nexport const reducer = createReducer(initialState,\n// Load Products\non(ProductActions.loadProducts, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(ProductActions.loadProductsSuccess, (state, {\n  paginatedResponse\n}) => ({\n  ...state,\n  items: paginatedResponse.items,\n  total: paginatedResponse.totalCount,\n  loading: false,\n  error: null\n})), on(ProductActions.loadProductsFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error: error\n})),\n// Load Product By ID\non(ProductActions.loadProductById, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(ProductActions.loadProductByIdSuccess, (state, {\n  product\n}) => ({\n  ...state,\n  currentProduct: product,\n  selectedProduct: product,\n  loading: false,\n  error: null\n})), on(ProductActions.loadProductByIdFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error: error\n})),\n// Load Categories\non(ProductActions.loadCategories, state => ({\n  ...state,\n  loading: true,\n  error: null\n})), on(ProductActions.loadCategoriesSuccess, (state, {\n  categories\n}) => ({\n  ...state,\n  categories: categories,\n  loading: false,\n  error: null\n})), on(ProductActions.loadCategoriesFailure, (state, {\n  error\n}) => ({\n  ...state,\n  loading: false,\n  error: error\n})));","map":{"version":3,"names":["createReducer","on","ProductActions","initialState","items","categories","reviews","selectedProduct","currentProduct","total","loading","error","reducer","loadProducts","state","loadProductsSuccess","paginatedResponse","totalCount","loadProductsFailure","loadProductById","loadProductByIdSuccess","product","loadProductByIdFailure","loadCategories","loadCategoriesSuccess","loadCategoriesFailure"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/store/reducers/products.reducer.ts"],"sourcesContent":["import { createReducer, on } from '@ngrx/store';\nimport { Product, Category, Review } from '../../core/models/product.model';\nimport * as ProductActions from '../actions/product.actions';\n\nexport interface State {\n  items: Product[];\n  categories: Category[];\n  reviews: Review[];\n  selectedProduct: Product | null;\n  currentProduct: Product | null;\n  total: number;\n  loading: boolean;\n  error: string | null;\n}\n\nexport interface ProductState extends State {} // Add alias for ProductState\n\nexport const initialState: State = {\n  items: [],\n  categories: [],\n  reviews: [],\n  selectedProduct: null,\n  currentProduct: null,\n  total: 0,\n  loading: false,\n  error: null\n};\n\nexport const reducer = createReducer(\n  initialState,\n  \n  // Load Products\n  on(ProductActions.loadProducts, (state) => ({\n    ...state,\n    loading: true,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductsSuccess, (state, { paginatedResponse }) => ({\n    ...state,\n    items: paginatedResponse.items,\n    total: paginatedResponse.totalCount,\n    loading: false,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductsFailure, (state, { error }) => ({\n    ...state,\n    loading: false,\n    error: error\n  })),\n  \n  // Load Product By ID\n  on(ProductActions.loadProductById, (state) => ({\n    ...state,\n    loading: true,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductByIdSuccess, (state, { product }) => ({\n    ...state,\n    currentProduct: product,\n    selectedProduct: product,\n    loading: false,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductByIdFailure, (state, { error }) => ({\n    ...state,\n    loading: false,\n    error: error\n  })),\n  \n  // Load Categories\n  on(ProductActions.loadCategories, (state) => ({\n    ...state,\n    loading: true,\n    error: null\n  })),\n  \n  on(ProductActions.loadCategoriesSuccess, (state, { categories }) => ({\n    ...state,\n    categories: categories,\n    loading: false,\n    error: null\n  })),\n  \n  on(ProductActions.loadCategoriesFailure, (state, { error }) => ({\n    ...state,\n    loading: false,\n    error: error\n  }))\n);\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,EAAE,QAAQ,aAAa;AAE/C,OAAO,KAAKC,cAAc,MAAM,4BAA4B;AAe5D,OAAO,MAAMC,YAAY,GAAU;EACjCC,KAAK,EAAE,EAAE;EACTC,UAAU,EAAE,EAAE;EACdC,OAAO,EAAE,EAAE;EACXC,eAAe,EAAE,IAAI;EACrBC,cAAc,EAAE,IAAI;EACpBC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;CACR;AAED,OAAO,MAAMC,OAAO,GAAGZ,aAAa,CAClCG,YAAY;AAEZ;AACAF,EAAE,CAACC,cAAc,CAACW,YAAY,EAAGC,KAAK,KAAM;EAC1C,GAAGA,KAAK;EACRJ,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;CACR,CAAC,CAAC,EAEHV,EAAE,CAACC,cAAc,CAACa,mBAAmB,EAAE,CAACD,KAAK,EAAE;EAAEE;AAAiB,CAAE,MAAM;EACxE,GAAGF,KAAK;EACRV,KAAK,EAAEY,iBAAiB,CAACZ,KAAK;EAC9BK,KAAK,EAAEO,iBAAiB,CAACC,UAAU;EACnCP,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;CACR,CAAC,CAAC,EAEHV,EAAE,CAACC,cAAc,CAACgB,mBAAmB,EAAE,CAACJ,KAAK,EAAE;EAAEH;AAAK,CAAE,MAAM;EAC5D,GAAGG,KAAK;EACRJ,OAAO,EAAE,KAAK;EACdC,KAAK,EAAEA;CACR,CAAC,CAAC;AAEH;AACAV,EAAE,CAACC,cAAc,CAACiB,eAAe,EAAGL,KAAK,KAAM;EAC7C,GAAGA,KAAK;EACRJ,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;CACR,CAAC,CAAC,EAEHV,EAAE,CAACC,cAAc,CAACkB,sBAAsB,EAAE,CAACN,KAAK,EAAE;EAAEO;AAAO,CAAE,MAAM;EACjE,GAAGP,KAAK;EACRN,cAAc,EAAEa,OAAO;EACvBd,eAAe,EAAEc,OAAO;EACxBX,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;CACR,CAAC,CAAC,EAEHV,EAAE,CAACC,cAAc,CAACoB,sBAAsB,EAAE,CAACR,KAAK,EAAE;EAAEH;AAAK,CAAE,MAAM;EAC/D,GAAGG,KAAK;EACRJ,OAAO,EAAE,KAAK;EACdC,KAAK,EAAEA;CACR,CAAC,CAAC;AAEH;AACAV,EAAE,CAACC,cAAc,CAACqB,cAAc,EAAGT,KAAK,KAAM;EAC5C,GAAGA,KAAK;EACRJ,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;CACR,CAAC,CAAC,EAEHV,EAAE,CAACC,cAAc,CAACsB,qBAAqB,EAAE,CAACV,KAAK,EAAE;EAAET;AAAU,CAAE,MAAM;EACnE,GAAGS,KAAK;EACRT,UAAU,EAAEA,UAAU;EACtBK,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;CACR,CAAC,CAAC,EAEHV,EAAE,CAACC,cAAc,CAACuB,qBAAqB,EAAE,CAACX,KAAK,EAAE;EAAEH;AAAK,CAAE,MAAM;EAC9D,GAAGG,KAAK;EACRJ,OAAO,EAAE,KAAK;EACdC,KAAK,EAAEA;CACR,CAAC,CAAC,CACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}