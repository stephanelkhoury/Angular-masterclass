{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/button\";\nimport * as i3 from \"@angular/material/card\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"../star-rating/star-rating.component\";\nimport * as i6 from \"../../directives/highlight.directive\";\nimport * as i7 from \"../../directives/lazy-img.directive\";\nimport * as i8 from \"../../pipes/truncate.pipe\";\nimport * as i9 from \"../../pipes/price.pipe\";\nfunction ProductCardComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" -\", ctx_r0.discountPercentage, \"% \");\n  }\n}\nfunction ProductCardComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Sold Out \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductCardComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"price\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, ctx_r2.product.regularPrice), \" \");\n  }\n}\nfunction ProductCardComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"truncate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r3.product.description, 80), \" \");\n  }\n}\nfunction ProductCardComponent_mat_card_actions_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card-actions\")(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function ProductCardComponent_mat_card_actions_17_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onAddToCart());\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"shopping_cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Add to Cart \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ProductCardComponent_mat_card_actions_17_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onAddToWishlist());\n    });\n    i0.ɵɵelementStart(6, \"mat-icon\");\n    i0.ɵɵtext(7, \"favorite_border\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r4.product.stockQuantity === 0);\n  }\n}\nlet ProductCardComponent = /*#__PURE__*/(() => {\n  class ProductCardComponent {\n    constructor() {\n      this.showActions = true;\n      this.addToCart = new EventEmitter();\n      this.addToWishlist = new EventEmitter();\n      this.viewDetails = new EventEmitter();\n      this.discountPercentage = 0;\n    }\n    ngOnInit() {\n      // Calculate discount percentage if regular price exists and is higher than sale price\n      if (this.product.regularPrice && this.product.regularPrice > this.product.price) {\n        this.discountPercentage = Math.round((this.product.regularPrice - this.product.price) / this.product.regularPrice * 100);\n      }\n    }\n    onAddToCart() {\n      this.addToCart.emit(this.product);\n    }\n    onAddToWishlist() {\n      this.addToWishlist.emit(this.product);\n    }\n    onViewDetails() {\n      this.viewDetails.emit(this.product);\n    }\n    static {\n      this.ɵfac = function ProductCardComponent_Factory(t) {\n        return new (t || ProductCardComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductCardComponent,\n        selectors: [[\"app-product-card\"]],\n        inputs: {\n          product: \"product\",\n          showActions: \"showActions\"\n        },\n        outputs: {\n          addToCart: \"addToCart\",\n          addToWishlist: \"addToWishlist\",\n          viewDetails: \"viewDetails\"\n        },\n        decls: 18,\n        vars: 17,\n        consts: [[1, \"product-card\"], [\"class\", \"product-badge\", 4, \"ngIf\"], [\"class\", \"product-badge sold-out\", 4, \"ngIf\"], [1, \"product-image-container\", 3, \"click\"], [\"mat-card-image\", \"\", \"appLazyImg\", \"\", 1, \"product-image\", 3, \"src\", \"alt\"], [1, \"product-category\"], [1, \"product-name\", 3, \"appHighlight\", \"click\"], [3, \"rating\", \"reviewCount\"], [1, \"product-price\"], [1, \"current-price\"], [\"class\", \"regular-price\", 4, \"ngIf\"], [\"class\", \"product-description\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"product-badge\"], [1, \"product-badge\", \"sold-out\"], [1, \"regular-price\"], [1, \"product-description\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"mat-icon-button\", \"\", 3, \"click\"]],\n        template: function ProductCardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"mat-card\", 0);\n            i0.ɵɵtemplate(1, ProductCardComponent_div_1_Template, 2, 1, \"div\", 1);\n            i0.ɵɵtemplate(2, ProductCardComponent_div_2_Template, 2, 0, \"div\", 2);\n            i0.ɵɵelementStart(3, \"div\", 3);\n            i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_div_click_3_listener() {\n              return ctx.onViewDetails();\n            });\n            i0.ɵɵelement(4, \"img\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"mat-card-content\")(6, \"div\", 5);\n            i0.ɵɵtext(7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"h3\", 6);\n            i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_h3_click_8_listener() {\n              return ctx.onViewDetails();\n            });\n            i0.ɵɵtext(9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(10, \"app-star-rating\", 7);\n            i0.ɵɵelementStart(11, \"div\", 8)(12, \"span\", 9);\n            i0.ɵɵtext(13);\n            i0.ɵɵpipe(14, \"price\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(15, ProductCardComponent_span_15_Template, 3, 3, \"span\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(16, ProductCardComponent_p_16_Template, 3, 4, \"p\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(17, ProductCardComponent_mat_card_actions_17_Template, 8, 1, \"mat-card-actions\", 12);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵclassProp(\"out-of-stock\", ctx.product.stockQuantity === 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.discountPercentage > 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.stockQuantity === 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"src\", ctx.product.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx.product.name);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate(ctx.product.category.name);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"appHighlight\", ctx.product.featured);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate(ctx.product.name);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"rating\", ctx.product.rating)(\"reviewCount\", (ctx.product.reviews == null ? null : ctx.product.reviews.length) || 0);\n            i0.ɵɵadvance(3);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 15, ctx.product.price));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.regularPrice && ctx.product.regularPrice > ctx.product.price);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.product.description);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.showActions);\n          }\n        },\n        dependencies: [i1.NgIf, i2.MatButton, i2.MatIconButton, i3.MatCard, i3.MatCardActions, i3.MatCardContent, i3.MatCardImage, i4.MatIcon, i5.StarRatingComponent, i6.HighlightDirective, i7.LazyImgDirective, i8.TruncatePipe, i9.PricePipe],\n        styles: [\".product-card[_ngcontent-%COMP%]{position:relative;height:100%;display:flex;flex-direction:column;transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0000001a}.product-card.out-of-stock[_ngcontent-%COMP%]{opacity:.7}.product-card[_ngcontent-%COMP%]   .product-badge[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background-color:#f44336;color:#fff;padding:4px 8px;border-radius:4px;font-weight:500;font-size:12px;z-index:1}.product-card[_ngcontent-%COMP%]   .product-badge.sold-out[_ngcontent-%COMP%]{background-color:#616161}.product-card[_ngcontent-%COMP%]   .product-image-container[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer}.product-card[_ngcontent-%COMP%]   .product-image-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{height:200px;object-fit:contain;width:100%;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]   .product-image-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex-grow:1;padding-top:8px}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{color:#757575;font-size:12px;text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:8px 0;color:#212121;cursor:pointer}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]:hover{color:#3f51b5}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin:8px 0}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#3f51b5}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   .regular-price[_ngcontent-%COMP%]{font-size:14px;color:#757575;text-decoration:line-through;margin-left:8px}.product-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{font-size:14px;color:#616161;margin-top:8px;margin-bottom:0;line-height:1.4}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px}.product-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}\"]\n      });\n    }\n  }\n  return ProductCardComponent;\n})();\nexport { ProductCardComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}