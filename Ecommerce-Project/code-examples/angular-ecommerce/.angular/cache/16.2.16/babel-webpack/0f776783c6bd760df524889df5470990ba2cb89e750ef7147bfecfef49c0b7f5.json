{"ast":null,"code":"import { of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nclass MockDataService {\n  constructor() {\n    this.products = [{\n      id: '1',\n      name: 'iPhone 15 Pro Max',\n      description: 'The ultimate iPhone experience with A17 Bionic chip and Pro camera system.',\n      price: 1199.99,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=iPhone+15+Pro',\n      images: [{\n        url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+1'\n      }, {\n        url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+2'\n      }],\n      category: {\n        id: 'smartphones',\n        name: 'Smartphones',\n        parentId: 'electronics'\n      },\n      categoryId: 'smartphones',\n      brand: 'Apple',\n      stockQuantity: 150,\n      rating: 4.8,\n      reviews: [{\n        id: 'r1p1',\n        productId: '1',\n        userId: 'u1',\n        userName: 'TechReviewer',\n        rating: 5,\n        comment: 'Amazing device!',\n        createdAt: new Date('2024-01-10T10:00:00Z')\n      }],\n      featured: true,\n      createdAt: new Date('2024-01-01T10:00:00Z'),\n      updatedAt: new Date('2024-01-05T10:00:00Z'),\n      keyFeatures: ['A17 Bionic Chip', 'Pro Camera System', 'ProMotion Display'],\n      freeShipping: true,\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '2',\n      name: 'MacBook Pro 16-inch',\n      description: 'The most powerful MacBook Pro ever with M3 Max chip.',\n      price: 2499.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=MacBook+Pro+16',\n      images: [{\n        url: 'https://via.placeholder.com/600x600.png?text=MacBook+Pro+16+View+1'\n      }],\n      category: {\n        id: 'laptops',\n        name: 'Laptops',\n        parentId: 'electronics'\n      },\n      categoryId: 'laptops',\n      brand: 'Apple',\n      stockQuantity: 75,\n      rating: 4.9,\n      reviews: [],\n      featured: true,\n      createdAt: new Date('2023-11-15T10:00:00Z'),\n      updatedAt: new Date('2023-12-01T10:00:00Z'),\n      keyFeatures: ['M3 Max Chip', 'Liquid Retina XDR Display', '1080p FaceTime HD Camera'],\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '3',\n      name: 'Sony WH-1000XM5 Headphones',\n      description: 'Industry-leading noise canceling headphones with exceptional sound quality.',\n      price: 348.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Sony+XM5',\n      category: {\n        id: 'audio',\n        name: 'Audio',\n        parentId: 'electronics'\n      },\n      categoryId: 'audio',\n      brand: 'Sony',\n      stockQuantity: 200,\n      rating: 4.7,\n      reviews: [],\n      featured: false,\n      createdAt: new Date('2023-05-01T10:00:00Z'),\n      updatedAt: new Date('2023-05-01T10:00:00Z'),\n      keyFeatures: ['Noise Canceling', '30-hour battery life', 'Multipoint connection'],\n      fastDelivery: true,\n      availabilityStatus: 'in-stock'\n    },\n    // Add more diverse mock products here, ensuring they conform to the Product model\n    {\n      id: '4',\n      name: 'Men\\'s Casual Shirt',\n      description: 'Comfortable cotton casual shirt.',\n      price: 45.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Casual+Shirt',\n      category: {\n        id: 'mens-clothing',\n        name: 'Men\\'s Clothing',\n        parentId: 'fashion'\n      },\n      categoryId: 'mens-clothing',\n      stockQuantity: 120,\n      rating: 4.0,\n      brand: 'ClothCo',\n      createdAt: new Date('2023-03-01T10:00:00Z'),\n      regularPrice: 50.00,\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '5',\n      name: 'Running Shoes',\n      description: 'Lightweight running shoes for athletes.',\n      price: 89.99,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Running+Shoes',\n      category: {\n        id: 'footwear',\n        name: 'Footwear',\n        parentId: 'fashion'\n      },\n      categoryId: 'footwear',\n      stockQuantity: 75,\n      rating: 4.6,\n      brand: 'FitGear',\n      createdAt: new Date('2023-02-10T10:00:00Z'),\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '6',\n      name: 'Coffee Maker Deluxe',\n      description: 'Drip coffee maker with timer and grinder.',\n      price: 79.95,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Coffee+Maker',\n      category: {\n        id: 'kitchen-appliances',\n        name: 'Kitchen Appliances',\n        parentId: 'home-garden'\n      },\n      categoryId: 'kitchen-appliances',\n      stockQuantity: 60,\n      rating: 4.2,\n      brand: 'HomeEase',\n      createdAt: new Date('2023-04-05T10:00:00Z'),\n      keyFeatures: ['Programmable', 'Built-in Grinder'],\n      availabilityStatus: 'low-stock'\n    }];\n    this.categories = [{\n      id: 'electronics',\n      name: 'Electronics',\n      description: 'Gadgets and devices',\n      image: 'https://via.placeholder.com/300x200.png?text=Electronics',\n      featured: true\n    }, {\n      id: 'smartphones',\n      name: 'Smartphones',\n      parentId: 'electronics',\n      image: 'https://via.placeholder.com/300x200.png?text=Smartphones'\n    }, {\n      id: 'laptops',\n      name: 'Laptops',\n      parentId: 'electronics',\n      image: 'https://via.placeholder.com/300x200.png?text=Laptops'\n    }, {\n      id: 'audio',\n      name: 'Audio',\n      parentId: 'electronics',\n      image: 'https://via.placeholder.com/300x200.png?text=Audio'\n    }, {\n      id: 'fashion',\n      name: 'Fashion',\n      description: 'Apparel and accessories',\n      image: 'https://via.placeholder.com/300x200.png?text=Fashion',\n      featured: true\n    }, {\n      id: 'mens-clothing',\n      name: 'Men\\'s Clothing',\n      parentId: 'fashion',\n      image: 'https://via.placeholder.com/300x200.png?text=Men%27s+Clothing'\n    }, {\n      id: 'womens-clothing',\n      name: 'Women\\'s Clothing',\n      parentId: 'fashion',\n      image: 'https://via.placeholder.com/300x200.png?text=Women%27s+Clothing'\n    }, {\n      id: 'footwear',\n      name: 'Footwear',\n      parentId: 'fashion',\n      image: 'https://via.placeholder.com/300x200.png?text=Footwear'\n    }, {\n      id: 'home-garden',\n      name: 'Home & Garden',\n      description: 'Items for your home',\n      image: 'https://via.placeholder.com/300x200.png?text=Home+Garden'\n    }, {\n      id: 'kitchen-appliances',\n      name: 'Kitchen Appliances',\n      parentId: 'home-garden',\n      image: 'https://via.placeholder.com/300x200.png?text=Kitchen'\n    }];\n    this.reviews = [{\n      id: 'r1p1',\n      productId: '1',\n      userId: 'user123',\n      userName: 'Jane D.',\n      rating: 5,\n      comment: 'Absolutely love this phone!',\n      createdAt: new Date('2024-01-15T14:30:00Z')\n    }, {\n      id: 'r2p1',\n      productId: '1',\n      userId: 'user456',\n      userName: 'John S.',\n      rating: 4,\n      comment: 'Great features, a bit pricey.',\n      createdAt: new Date('2024-01-17T09:15:00Z')\n    }, {\n      id: 'r1p2',\n      productId: '2',\n      userId: 'user789',\n      userName: 'Alice B.',\n      rating: 5,\n      comment: 'Perfect for my development work.',\n      createdAt: new Date('2023-11-20T11:00:00Z')\n    }];\n  }\n  getProducts(options = {}) {\n    let filteredProducts = [...this.products];\n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      filteredProducts = filteredProducts.filter(p => p.name.toLowerCase().includes(searchTerm) || p.description.toLowerCase().includes(searchTerm) || p.brand?.toLowerCase().includes(searchTerm) || p.category?.name.toLowerCase().includes(searchTerm));\n    }\n    if (options.category) {\n      const categoryFilter = options.category.toLowerCase();\n      filteredProducts = filteredProducts.filter(p => p.category?.id.toLowerCase() === categoryFilter || p.category?.name.toLowerCase() === categoryFilter || p.categoryId?.toLowerCase() === categoryFilter);\n    }\n    if (options.subcategory) {\n      const subCategoryTerm = options.subcategory.toLowerCase();\n      // This is a simplified subcategory filter. \n      // A real app might have subcategories explicitly linked or as part of a category path.\n      filteredProducts = filteredProducts.filter(p => p.description?.toLowerCase().includes(subCategoryTerm) || p.name?.toLowerCase().includes(subCategoryTerm) || p.keyFeatures && p.keyFeatures.some(kf => kf.toLowerCase().includes(subCategoryTerm)) || p.category?.name.toLowerCase().includes(subCategoryTerm) // if subcat is part of main cat name\n      );\n    }\n\n    if (options.minPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice);\n    }\n    if (options.maxPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice);\n    }\n    if (options.sortBy) {\n      filteredProducts.sort((a, b) => {\n        let aValue;\n        let bValue;\n        if (options.sortBy === 'price') {\n          aValue = a.price;\n          bValue = b.price;\n        } else if (options.sortBy === 'name') {\n          aValue = a.name.toLowerCase();\n          bValue = b.name.toLowerCase();\n        } else if (options.sortBy === 'createdAt' && a.createdAt && b.createdAt) {\n          aValue = a.createdAt.getTime();\n          bValue = b.createdAt.getTime();\n        } else if (options.sortBy === 'rating' && a.rating !== undefined && b.rating !== undefined) {\n          aValue = a.rating;\n          bValue = b.rating;\n        } else {\n          return 0; // No sort or unknown field\n        }\n\n        if (aValue < bValue) return options.order === 'asc' ? -1 : 1;\n        if (aValue > bValue) return options.order === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n    const page = options.page || 1;\n    const limit = options.limit || 10;\n    const totalCount = filteredProducts.length;\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const items = filteredProducts.slice(startIndex, endIndex);\n    const totalPages = Math.ceil(totalCount / limit);\n    const response = {\n      items,\n      totalCount,\n      page,\n      limit,\n      totalPages\n    };\n    return of(response).pipe(delay(300)); // Simulate network delay\n  }\n\n  getProductById(id) {\n    const product = this.products.find(p => p.id === id);\n    if (product) {\n      return of(product).pipe(delay(100));\n    }\n    return of(undefined).pipe(delay(100)); // Simulate not found\n  }\n\n  getCategories() {\n    return of(this.categories).pipe(delay(100));\n  }\n  getProductReviews(productId, page = 1, limit = 5) {\n    const productReviews = this.reviews.filter(r => r.productId === productId);\n    const totalCount = productReviews.length;\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const items = productReviews.slice(startIndex, endIndex);\n    return of({\n      reviews: items,\n      totalCount\n    }).pipe(delay(100));\n  }\n  getFeaturedProducts(limit = 8) {\n    const featured = this.products.filter(p => p.featured).slice(0, limit);\n    return of(featured).pipe(delay(200));\n  }\n  static {\n    this.ɵfac = function MockDataService_Factory(t) {\n      return new (t || MockDataService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: MockDataService,\n      factory: MockDataService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}\nexport { MockDataService };","map":{"version":3,"names":["of","delay","MockDataService","constructor","products","id","name","description","price","imageUrl","images","url","category","parentId","categoryId","brand","stockQuantity","rating","reviews","productId","userId","userName","comment","createdAt","Date","featured","updatedAt","keyFeatures","freeShipping","availabilityStatus","fastDelivery","regularPrice","categories","image","getProducts","options","filteredProducts","search","searchTerm","toLowerCase","filter","p","includes","categoryFilter","subcategory","subCategoryTerm","some","kf","minPrice","undefined","maxPrice","sortBy","sort","a","b","aValue","bValue","getTime","order","page","limit","totalCount","length","startIndex","endIndex","items","slice","totalPages","Math","ceil","response","pipe","getProductById","product","find","getCategories","getProductReviews","productReviews","r","getFeaturedProducts","factory","ɵfac","providedIn"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/core/services/mock-data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\nimport { Product, Category, Review, PaginatedResponse, ProductImage } from '../models/product.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MockDataService {\n  private products: Product[] = [\n    {\n      id: '1',\n      name: 'iPhone 15 Pro Max',\n      description: 'The ultimate iPhone experience with A17 Bionic chip and Pro camera system.',\n      price: 1199.99,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=iPhone+15+Pro',\n      images: [\n        { url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+1' },\n        { url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+2' },\n      ],\n      category: { id: 'smartphones', name: 'Smartphones', parentId: 'electronics' },\n      categoryId: 'smartphones',\n      brand: 'Apple',\n      stockQuantity: 150,\n      rating: 4.8,\n      reviews: [\n        { id: 'r1p1', productId: '1', userId: 'u1', userName: 'TechReviewer', rating: 5, comment: 'Amazing device!', createdAt: new Date('2024-01-10T10:00:00Z') }\n      ],\n      featured: true,\n      createdAt: new Date('2024-01-01T10:00:00Z'),\n      updatedAt: new Date('2024-01-05T10:00:00Z'),\n      keyFeatures: ['A17 Bionic Chip', 'Pro Camera System', 'ProMotion Display'],\n      freeShipping: true,\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '2',\n      name: 'MacBook Pro 16-inch',\n      description: 'The most powerful MacBook Pro ever with M3 Max chip.',\n      price: 2499.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=MacBook+Pro+16',\n      images: [\n        { url: 'https://via.placeholder.com/600x600.png?text=MacBook+Pro+16+View+1' },\n      ],\n      category: { id: 'laptops', name: 'Laptops', parentId: 'electronics' },\n      categoryId: 'laptops',\n      brand: 'Apple',\n      stockQuantity: 75,\n      rating: 4.9,\n      reviews: [],\n      featured: true,\n      createdAt: new Date('2023-11-15T10:00:00Z'),\n      updatedAt: new Date('2023-12-01T10:00:00Z'),\n      keyFeatures: ['M3 Max Chip', 'Liquid Retina XDR Display', '1080p FaceTime HD Camera'],\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '3',\n      name: 'Sony WH-1000XM5 Headphones',\n      description: 'Industry-leading noise canceling headphones with exceptional sound quality.',\n      price: 348.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Sony+XM5',\n      category: { id: 'audio', name: 'Audio', parentId: 'electronics' },\n      categoryId: 'audio',\n      brand: 'Sony',\n      stockQuantity: 200,\n      rating: 4.7,\n      reviews: [],\n      featured: false,\n      createdAt: new Date('2023-05-01T10:00:00Z'),\n      updatedAt: new Date('2023-05-01T10:00:00Z'),\n      keyFeatures: ['Noise Canceling', '30-hour battery life', 'Multipoint connection'],\n      fastDelivery: true,\n      availabilityStatus: 'in-stock',\n    },\n    // Add more diverse mock products here, ensuring they conform to the Product model\n     {\n      id: '4', name: 'Men\\'s Casual Shirt', description: 'Comfortable cotton casual shirt.', price: 45.00, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Casual+Shirt', \n      category: { id: 'mens-clothing', name: 'Men\\'s Clothing', parentId: 'fashion'}, \n      categoryId: 'mens-clothing',\n      stockQuantity: 120, rating: 4.0, brand: 'ClothCo', \n      createdAt: new Date('2023-03-01T10:00:00Z'), regularPrice: 50.00,\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '5', name: 'Running Shoes', description: 'Lightweight running shoes for athletes.', price: 89.99, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Running+Shoes', \n      category: { id: 'footwear', name: 'Footwear', parentId: 'fashion'}, \n      categoryId: 'footwear',\n      stockQuantity: 75, rating: 4.6, brand: 'FitGear', \n      createdAt: new Date('2023-02-10T10:00:00Z'),\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '6', name: 'Coffee Maker Deluxe', description: 'Drip coffee maker with timer and grinder.', price: 79.95, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Coffee+Maker', \n      category: { id: 'kitchen-appliances', name: 'Kitchen Appliances', parentId: 'home-garden'}, \n      categoryId: 'kitchen-appliances',\n      stockQuantity: 60, rating: 4.2, brand: 'HomeEase', \n      createdAt: new Date('2023-04-05T10:00:00Z'), keyFeatures: ['Programmable', 'Built-in Grinder'],\n      availabilityStatus: 'low-stock',\n    }\n  ];\n\n  private categories: Category[] = [\n    { id: 'electronics', name: 'Electronics', description: 'Gadgets and devices', image: 'https://via.placeholder.com/300x200.png?text=Electronics', featured: true },\n    { id: 'smartphones', name: 'Smartphones', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Smartphones' },\n    { id: 'laptops', name: 'Laptops', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Laptops' },\n    { id: 'audio', name: 'Audio', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Audio' },\n    { id: 'fashion', name: 'Fashion', description: 'Apparel and accessories', image: 'https://via.placeholder.com/300x200.png?text=Fashion', featured: true },\n    { id: 'mens-clothing', name: 'Men\\'s Clothing', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Men%27s+Clothing' },\n    { id: 'womens-clothing', name: 'Women\\'s Clothing', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Women%27s+Clothing' },\n    { id: 'footwear', name: 'Footwear', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Footwear' },\n    { id: 'home-garden', name: 'Home & Garden', description: 'Items for your home', image: 'https://via.placeholder.com/300x200.png?text=Home+Garden' },\n    { id: 'kitchen-appliances', name: 'Kitchen Appliances', parentId: 'home-garden', image: 'https://via.placeholder.com/300x200.png?text=Kitchen' },\n  ];\n\n  private reviews: Review[] = [\n    { id: 'r1p1', productId: '1', userId: 'user123', userName: 'Jane D.', rating: 5, comment: 'Absolutely love this phone!', createdAt: new Date('2024-01-15T14:30:00Z') },\n    { id: 'r2p1', productId: '1', userId: 'user456', userName: 'John S.', rating: 4, comment: 'Great features, a bit pricey.', createdAt: new Date('2024-01-17T09:15:00Z') },\n    { id: 'r1p2', productId: '2', userId: 'user789', userName: 'Alice B.', rating: 5, comment: 'Perfect for my development work.', createdAt: new Date('2023-11-20T11:00:00Z') },\n  ];\n\n  constructor() {}\n\n  getProducts(options: {\n    page?: number;\n    limit?: number;\n    sortBy?: string;\n    order?: 'asc' | 'desc';\n    category?: string; // categoryId or categoryName\n    subcategory?: string; // subcategoryName\n    minPrice?: number;\n    maxPrice?: number;\n    search?: string;\n  } = {}): Observable<PaginatedResponse<Product>> {\n    let filteredProducts = [...this.products];\n\n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      filteredProducts = filteredProducts.filter(p =>\n        p.name.toLowerCase().includes(searchTerm) ||\n        p.description.toLowerCase().includes(searchTerm) ||\n        p.brand?.toLowerCase().includes(searchTerm) ||\n        p.category?.name.toLowerCase().includes(searchTerm)\n      );\n    }\n\n    if (options.category) {\n      const categoryFilter = options.category.toLowerCase();\n      filteredProducts = filteredProducts.filter(p =>\n        p.category?.id.toLowerCase() === categoryFilter ||\n        p.category?.name.toLowerCase() === categoryFilter ||\n        p.categoryId?.toLowerCase() === categoryFilter\n      );\n    }\n    \n    if (options.subcategory) {\n        const subCategoryTerm = options.subcategory.toLowerCase();\n        // This is a simplified subcategory filter. \n        // A real app might have subcategories explicitly linked or as part of a category path.\n        filteredProducts = filteredProducts.filter(p => \n           (p.description?.toLowerCase().includes(subCategoryTerm)) || \n           (p.name?.toLowerCase().includes(subCategoryTerm)) ||\n           (p.keyFeatures && p.keyFeatures.some(kf => kf.toLowerCase().includes(subCategoryTerm))) ||\n           (p.category?.name.toLowerCase().includes(subCategoryTerm)) // if subcat is part of main cat name\n       );\n    }\n\n\n    if (options.minPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice!);\n    }\n    if (options.maxPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice!);\n    }\n\n    if (options.sortBy) {\n      filteredProducts.sort((a, b) => {\n        let aValue: any;\n        let bValue: any;\n\n        if (options.sortBy === 'price') {\n          aValue = a.price;\n          bValue = b.price;\n        } else if (options.sortBy === 'name') {\n          aValue = a.name.toLowerCase();\n          bValue = b.name.toLowerCase();\n        } else if (options.sortBy === 'createdAt' && a.createdAt && b.createdAt) {\n          aValue = a.createdAt.getTime();\n          bValue = b.createdAt.getTime();\n        } else if (options.sortBy === 'rating' && a.rating !== undefined && b.rating !== undefined) {\n            aValue = a.rating;\n            bValue = b.rating;\n        } else {\n          return 0; // No sort or unknown field\n        }\n\n        if (aValue < bValue) return options.order === 'asc' ? -1 : 1;\n        if (aValue > bValue) return options.order === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n\n    const page = options.page || 1;\n    const limit = options.limit || 10;\n    const totalCount = filteredProducts.length;\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const items = filteredProducts.slice(startIndex, endIndex);\n    const totalPages = Math.ceil(totalCount / limit);\n\n    const response: PaginatedResponse<Product> = {\n      items,\n      totalCount,\n      page,\n      limit,\n      totalPages\n    };\n    return of(response).pipe(delay(300)); // Simulate network delay\n  }\n\n  getProductById(id: string): Observable<Product> {\n    const product = this.products.find(p => p.id === id);\n    if (product) {\n      return of(product).pipe(delay(100));\n    }\n    return of(undefined as any).pipe(delay(100)); // Simulate not found\n  }\n\n  getCategories(): Observable<Category[]> {\n    return of(this.categories).pipe(delay(100));\n  }\n\n  getProductReviews(productId: string, page = 1, limit = 5): Observable<{ reviews: Review[]; totalCount: number }> {\n    const productReviews = this.reviews.filter(r => r.productId === productId);\n    const totalCount = productReviews.length;\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const items = productReviews.slice(startIndex, endIndex);\n    \n    return of({ reviews: items, totalCount }).pipe(delay(100));\n  }\n  \n  getFeaturedProducts(limit = 8): Observable<Product[]> {\n    const featured = this.products.filter(p => p.featured).slice(0, limit);\n    return of(featured).pipe(delay(200));\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}