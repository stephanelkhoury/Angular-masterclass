{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HeaderComponent = class HeaderComponent {\n  constructor(store, authService, cartService, router) {\n    this.store = store;\n    this.authService = authService;\n    this.cartService = cartService;\n    this.router = router;\n    this.mobileMenuOpen = false;\n    this.isLoggedIn$ = this.store.select(state => !!state.auth.user);\n    this.currentUser$ = this.store.select(state => state.auth.user);\n    this.cartItems$ = this.store.select(state => state.cart.items);\n    this.cartItemCount$ = this.store.select(state => state.cart.items.reduce((count, item) => count + item.quantity, 0));\n    this.isAdmin$ = this.store.select(state => state.auth.user?.role === 'admin');\n  }\n  ngOnInit() {\n    // Load cart items when component initializes\n    this.cartService.loadCart();\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/']);\n  }\n  toggleMobileMenu() {\n    this.mobileMenuOpen = !this.mobileMenuOpen;\n  }\n};\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})], HeaderComponent);\nexport { HeaderComponent };","map":{"version":3,"names":["Component","HeaderComponent","constructor","store","authService","cartService","router","mobileMenuOpen","isLoggedIn$","select","state","auth","user","currentUser$","cartItems$","cart","items","cartItemCount$","reduce","count","item","quantity","isAdmin$","role","ngOnInit","loadCart","logout","navigate","toggleMobileMenu","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/shared/components/header/header.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\n\nimport { AppState } from '../../../store';\nimport { User } from '../../../core/models/user.model';\nimport { CartItem } from '../../../core/models/cart.model';\nimport { AuthService } from '../../../core/services/auth.service';\nimport { CartService } from '../../../core/services/cart.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n  isLoggedIn$: Observable<boolean>;\n  currentUser$: Observable<User | null>;\n  cartItems$: Observable<CartItem[]>;\n  cartItemCount$: Observable<number>;\n  isAdmin$: Observable<boolean>;\n\n  mobileMenuOpen = false;\n\n  constructor(\n    private store: Store<AppState>,\n    private authService: AuthService,\n    private cartService: CartService,\n    private router: Router\n  ) {\n    this.isLoggedIn$ = this.store.select(state => !!state.auth.user);\n    this.currentUser$ = this.store.select(state => state.auth.user);\n    this.cartItems$ = this.store.select(state => state.cart.items);\n    this.cartItemCount$ = this.store.select(state => state.cart.items.reduce((count, item) => count + item.quantity, 0));\n    this.isAdmin$ = this.store.select(state => state.auth.user?.role === 'admin');\n  }\n\n  ngOnInit(): void {\n    // Load cart items when component initializes\n    this.cartService.loadCart();\n  }\n\n  logout(): void {\n    this.authService.logout();\n    this.router.navigate(['/']);\n  }\n\n  toggleMobileMenu(): void {\n    this.mobileMenuOpen = !this.mobileMenuOpen;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAgBjD,IAAaC,eAAe,GAA5B,MAAaA,eAAe;EAS1BC,YACUC,KAAsB,EACtBC,WAAwB,EACxBC,WAAwB,EACxBC,MAAc;IAHd,KAAAH,KAAK,GAALA,KAAK;IACL,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IANhB,KAAAC,cAAc,GAAG,KAAK;IAQpB,IAAI,CAACC,WAAW,GAAG,IAAI,CAACL,KAAK,CAACM,MAAM,CAACC,KAAK,IAAI,CAAC,CAACA,KAAK,CAACC,IAAI,CAACC,IAAI,CAAC;IAChE,IAAI,CAACC,YAAY,GAAG,IAAI,CAACV,KAAK,CAACM,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAACC,IAAI,CAAC;IAC/D,IAAI,CAACE,UAAU,GAAG,IAAI,CAACX,KAAK,CAACM,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACK,IAAI,CAACC,KAAK,CAAC;IAC9D,IAAI,CAACC,cAAc,GAAG,IAAI,CAACd,KAAK,CAACM,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACK,IAAI,CAACC,KAAK,CAACE,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAGC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAAC,CAAC;IACpH,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACnB,KAAK,CAACM,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,CAACC,IAAI,EAAEW,IAAI,KAAK,OAAO,CAAC;EAC/E;EAEAC,QAAQA,CAAA;IACN;IACA,IAAI,CAACnB,WAAW,CAACoB,QAAQ,EAAE;EAC7B;EAEAC,MAAMA,CAAA;IACJ,IAAI,CAACtB,WAAW,CAACsB,MAAM,EAAE;IACzB,IAAI,CAACpB,MAAM,CAACqB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;EAEAC,gBAAgBA,CAAA;IACd,IAAI,CAACrB,cAAc,GAAG,CAAC,IAAI,CAACA,cAAc;EAC5C;CACD;AAnCYN,eAAe,GAAA4B,UAAA,EAL3B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACW/B,eAAe,CAmC3B;SAnCYA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}