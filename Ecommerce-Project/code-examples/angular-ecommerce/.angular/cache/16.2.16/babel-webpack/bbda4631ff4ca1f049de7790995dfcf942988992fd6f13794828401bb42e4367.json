{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(store, productService, cartService, notificationService, router) {\n    this.store = store;\n    this.productService = productService;\n    this.cartService = cartService;\n    this.notificationService = notificationService;\n    this.router = router;\n    this.featuredProducts$ = this.store.select(state => state.products.items.filter(product => product.featured).slice(0, 8));\n    this.newArrivals$ = this.store.select(state => state.products.items.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()).slice(0, 8));\n    this.popularCategories$ = this.store.select(state => state.products.categories.filter(category => category.featured).slice(0, 6));\n    this.loading$ = this.store.select(state => state.ui.loading);\n  }\n  ngOnInit() {\n    // Load products and categories if not already loaded\n    this.productService.loadProducts();\n    this.productService.loadCategories();\n  }\n  addToCart(product) {\n    this.cartService.addToCart(product);\n    this.notificationService.show(`${product.name} added to cart`);\n  }\n  addToWishlist(product) {\n    // This would dispatch the appropriate action for the wishlist\n    this.notificationService.show(`${product.name} added to wishlist`);\n  }\n  viewProductDetails(product) {\n    this.router.navigate(['/products', product.id]);\n  }\n  viewCategory(category) {\n    this.router.navigate(['/products'], {\n      queryParams: {\n        category: category.id\n      }\n    });\n  }\n  searchProducts(query) {\n    if (query) {\n      this.router.navigate(['/products'], {\n        queryParams: {\n          search: query\n        }\n      });\n    }\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"names":["Component","HomeComponent","constructor","store","productService","cartService","notificationService","router","featuredProducts$","select","state","products","items","filter","product","featured","slice","newArrivals$","sort","a","b","Date","createdAt","getTime","popularCategories$","categories","category","loading$","ui","loading","ngOnInit","loadProducts","loadCategories","addToCart","show","name","addToWishlist","viewProductDetails","navigate","id","viewCategory","queryParams","searchProducts","query","search","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/features/home/home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\n\nimport { AppState } from '../../store';\nimport { Product } from '../../core/models/product.model';\nimport { Category } from '../../core/models/product.model';\nimport { ProductService } from '../../core/services/product.service';\nimport { CartService } from '../../core/services/cart.service';\nimport { NotificationService } from '../../core/services/notification.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n  featuredProducts$: Observable<Product[]>;\n  newArrivals$: Observable<Product[]>;\n  popularCategories$: Observable<Category[]>;\n  loading$: Observable<boolean>;\n\n  constructor(\n    private store: Store<AppState>,\n    private productService: ProductService,\n    private cartService: CartService,\n    private notificationService: NotificationService,\n    private router: Router\n  ) {\n    this.featuredProducts$ = this.store.select(state => \n      state.products.items.filter(product => product.featured).slice(0, 8)\n    );\n\n    this.newArrivals$ = this.store.select(state => \n      state.products.items\n        .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())\n        .slice(0, 8)\n    );\n\n    this.popularCategories$ = this.store.select(state => \n      state.products.categories\n        .filter(category => category.featured)\n        .slice(0, 6)\n    );\n\n    this.loading$ = this.store.select(state => state.ui.loading);\n  }\n\n  ngOnInit(): void {\n    // Load products and categories if not already loaded\n    this.productService.loadProducts();\n    this.productService.loadCategories();\n  }\n\n  addToCart(product: Product): void {\n    this.cartService.addToCart(product);\n    this.notificationService.show(`${product.name} added to cart`);\n  }\n\n  addToWishlist(product: Product): void {\n    // This would dispatch the appropriate action for the wishlist\n    this.notificationService.show(`${product.name} added to wishlist`);\n  }\n\n  viewProductDetails(product: Product): void {\n    this.router.navigate(['/products', product.id]);\n  }\n\n  viewCategory(category: Category): void {\n    this.router.navigate(['/products'], { queryParams: { category: category.id } });\n  }\n\n  searchProducts(query: string): void {\n    if (query) {\n      this.router.navigate(['/products'], { queryParams: { search: query } });\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}