{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter, ChangeDetectionStrategy, HostListener } from '@angular/core';\nimport { Subject, interval, takeUntil } from 'rxjs';\nlet ProductCardComponent = class ProductCardComponent {\n  constructor(cdr, wishlistService, compareService, cartService) {\n    this.cdr = cdr;\n    this.wishlistService = wishlistService;\n    this.compareService = compareService;\n    this.cartService = cartService;\n    this.showActions = true;\n    this.showQuantitySelector = false;\n    this.showBuyNow = false;\n    this.showPriceDetails = true;\n    this.showShippingInfo = true;\n    this.loading = 'lazy';\n    this.size = 'medium';\n    this.layout = 'vertical';\n    this.addToCart = new EventEmitter();\n    this.addToWishlist = new EventEmitter();\n    this.removeFromWishlist = new EventEmitter();\n    this.addToCompare = new EventEmitter();\n    this.removeFromCompare = new EventEmitter();\n    this.viewDetails = new EventEmitter();\n    this.quickView = new EventEmitter();\n    this.buyNow = new EventEmitter();\n    this.imageClick = new EventEmitter();\n    // Component state\n    this.destroy$ = new Subject();\n    this.discountPercentage = 0;\n    this.discountAmount = 0;\n    this.selectedQuantity = 1;\n    this.currentImageIndex = 0;\n    this.addingToCart = false;\n    this.imageLoading = true;\n    this.imageError = false;\n    // Product status properties\n    this.isNewArrival = false;\n    this.isBestSeller = false;\n    this.isLowStock = false;\n    this.isInWishlist = false;\n    this.isInCompare = false;\n  }\n  ngOnInit() {\n    this.calculateDiscounts();\n    this.checkProductStatus();\n    this.initializeUserInteractions();\n    this.startImageCarousel();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  onMouseEnter() {\n    // Optional: Preload additional product data on hover\n  }\n  onMouseLeave() {\n    // Reset any hover states if needed\n  }\n  calculateDiscounts() {\n    if (this.product.regularPrice && this.product.regularPrice > this.product.price) {\n      this.discountPercentage = Math.round((this.product.regularPrice - this.product.price) / this.product.regularPrice * 100);\n      this.discountAmount = this.product.regularPrice - this.product.price;\n    }\n  }\n  checkProductStatus() {\n    const now = new Date();\n    const productDate = new Date(this.product.createdAt || now);\n    const daysDiff = Math.floor((now.getTime() - productDate.getTime()) / (1000 * 60 * 60 * 24));\n    // Check if new arrival (less than 30 days old)\n    this.isNewArrival = daysDiff <= 30;\n    // Check if bestseller (based on sales or rating)\n    this.isBestSeller = this.product.featured || this.product.rating >= 4.5 && (this.product.reviews?.length || 0) >= 100;\n    // Check if low stock\n    this.isLowStock = this.product.stockQuantity > 0 && this.product.stockQuantity <= 10;\n  }\n  initializeUserInteractions() {\n    // Check if product is in wishlist\n    this.wishlistService.isInWishlist(this.product.id).pipe(takeUntil(this.destroy$)).subscribe(inWishlist => {\n      this.isInWishlist = inWishlist;\n      this.cdr.markForCheck();\n    });\n    // Check if product is in compare list\n    this.compareService.isInCompare(this.product.id).pipe(takeUntil(this.destroy$)).subscribe(inCompare => {\n      this.isInCompare = inCompare;\n      this.cdr.markForCheck();\n    });\n  }\n  startImageCarousel() {\n    if (this.product.images && this.product.images.length > 1) {\n      // Auto-rotate images on hover (optional)\n      interval(3000).pipe(takeUntil(this.destroy$)).subscribe(() => {\n        if (this.product.images && this.product.images.length > 1) {\n          this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n          this.cdr.markForCheck();\n        }\n      });\n    }\n  }\n  // Event handlers\n  onAddToCart() {\n    if (this.product.stockQuantity === 0 || this.addingToCart) return;\n    this.addingToCart = true;\n    this.cdr.markForCheck();\n    // Simulate API call delay\n    setTimeout(() => {\n      this.addToCart.emit({\n        product: this.product,\n        quantity: this.selectedQuantity\n      });\n      this.addingToCart = false;\n      this.cdr.markForCheck();\n    }, 500);\n  }\n  onToggleWishlist(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (this.isInWishlist) {\n      this.removeFromWishlist.emit(this.product);\n      this.wishlistService.removeFromWishlist(this.product.id);\n    } else {\n      this.addToWishlist.emit(this.product);\n      this.wishlistService.addToWishlist(this.product);\n    }\n  }\n  onToggleCompare(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (this.isInCompare) {\n      this.removeFromCompare.emit(this.product);\n      this.compareService.removeFromCompare(this.product.id);\n    } else {\n      this.addToCompare.emit(this.product);\n      this.compareService.addToCompare(this.product);\n    }\n  }\n  onQuickView(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.quickView.emit(this.product);\n  }\n  onViewDetails() {\n    this.viewDetails.emit(this.product);\n  }\n  onBuyNow() {\n    if (this.product.stockQuantity === 0) return;\n    this.buyNow.emit({\n      product: this.product,\n      quantity: this.selectedQuantity\n    });\n  }\n  onQuantityChange(quantity) {\n    this.selectedQuantity = quantity;\n  }\n  changeImage(index, event) {\n    event.stopPropagation();\n    event.preventDefault();\n    this.currentImageIndex = index;\n    this.imageClick.emit({\n      product: this.product,\n      imageIndex: index\n    });\n  }\n  onImageLoad() {\n    this.imageLoading = false;\n    this.imageError = false;\n    this.cdr.markForCheck();\n  }\n  onImageError() {\n    this.imageLoading = false;\n    this.imageError = true;\n    this.cdr.markForCheck();\n  }\n  // Getter methods for template\n  get currentImage() {\n    if (this.product.images && this.product.images.length > 0) {\n      return this.product.images[this.currentImageIndex] || this.product.imageUrl;\n    }\n    return this.product.imageUrl;\n  }\n  get stockStatus() {\n    if (this.product.stockQuantity === 0) return 'out-of-stock';\n    if (this.product.stockQuantity <= 10) return 'low-stock';\n    return 'in-stock';\n  }\n  get cardClasses() {\n    const classes = [`product-card--${this.size}`, `product-card--${this.layout}`];\n    if (this.product.featured) classes.push('product-card--featured');\n    if (this.isNewArrival) classes.push('product-card--new');\n    if (this.isBestSeller) classes.push('product-card--bestseller');\n    if (this.discountPercentage > 0) classes.push('product-card--on-sale');\n    return classes;\n  }\n};\n__decorate([Input()], ProductCardComponent.prototype, \"product\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"showActions\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"showQuantitySelector\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"showBuyNow\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"showPriceDetails\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"showShippingInfo\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"loading\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"size\", void 0);\n__decorate([Input()], ProductCardComponent.prototype, \"layout\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"addToCart\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"addToWishlist\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"removeFromWishlist\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"addToCompare\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"removeFromCompare\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"viewDetails\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"quickView\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"buyNow\", void 0);\n__decorate([Output()], ProductCardComponent.prototype, \"imageClick\", void 0);\n__decorate([HostListener('mouseenter')], ProductCardComponent.prototype, \"onMouseEnter\", null);\n__decorate([HostListener('mouseleave')], ProductCardComponent.prototype, \"onMouseLeave\", null);\nProductCardComponent = __decorate([Component({\n  selector: 'app-product-card',\n  templateUrl: './product-card.component.html',\n  styleUrls: ['./product-card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})], ProductCardComponent);\nexport { ProductCardComponent };","map":{"version":3,"names":["Component","Input","Output","EventEmitter","ChangeDetectionStrategy","HostListener","Subject","interval","takeUntil","ProductCardComponent","constructor","cdr","wishlistService","compareService","cartService","showActions","showQuantitySelector","showBuyNow","showPriceDetails","showShippingInfo","loading","size","layout","addToCart","addToWishlist","removeFromWishlist","addToCompare","removeFromCompare","viewDetails","quickView","buyNow","imageClick","destroy$","discountPercentage","discountAmount","selectedQuantity","currentImageIndex","addingToCart","imageLoading","imageError","isNewArrival","isBestSeller","isLowStock","isInWishlist","isInCompare","ngOnInit","calculateDiscounts","checkProductStatus","initializeUserInteractions","startImageCarousel","ngOnDestroy","next","complete","onMouseEnter","onMouseLeave","product","regularPrice","price","Math","round","now","Date","productDate","createdAt","daysDiff","floor","getTime","featured","rating","reviews","length","stockQuantity","id","pipe","subscribe","inWishlist","markForCheck","inCompare","images","onAddToCart","setTimeout","emit","quantity","onToggleWishlist","event","stopPropagation","preventDefault","onToggleCompare","onQuickView","onViewDetails","onBuyNow","onQuantityChange","changeImage","index","imageIndex","onImageLoad","onImageError","currentImage","imageUrl","stockStatus","cardClasses","classes","push","__decorate","selector","templateUrl","styleUrls","changeDetection","OnPush"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/shared/components/product-card/product-card.component.ts"],"sourcesContent":["import { \n  Component, \n  Input, \n  Output, \n  EventEmitter, \n  OnInit, \n  OnDestroy, \n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  HostListener\n} from '@angular/core';\nimport { Subject, interval, takeUntil } from 'rxjs';\nimport { Product } from '../../../core/models/product.model';\nimport { WishlistService } from '../../../core/services/wishlist.service';\nimport { CompareService } from '../../../core/services/compare.service';\nimport { CartService } from '../../../core/services/cart.service';\n\n@Component({\n  selector: 'app-product-card',\n  templateUrl: './product-card.component.html',\n  styleUrls: ['./product-card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProductCardComponent implements OnInit, OnDestroy {\n  @Input() product!: Product;\n  @Input() showActions = true;\n  @Input() showQuantitySelector = false;\n  @Input() showBuyNow = false;\n  @Input() showPriceDetails = true;\n  @Input() showShippingInfo = true;\n  @Input() loading = 'lazy' as 'lazy' | 'eager';\n  @Input() size: 'small' | 'medium' | 'large' = 'medium';\n  @Input() layout: 'vertical' | 'horizontal' = 'vertical';\n\n  @Output() addToCart = new EventEmitter<{product: Product, quantity: number}>();\n  @Output() addToWishlist = new EventEmitter<Product>();\n  @Output() removeFromWishlist = new EventEmitter<Product>();\n  @Output() addToCompare = new EventEmitter<Product>();\n  @Output() removeFromCompare = new EventEmitter<Product>();\n  @Output() viewDetails = new EventEmitter<Product>();\n  @Output() quickView = new EventEmitter<Product>();\n  @Output() buyNow = new EventEmitter<{product: Product, quantity: number}>();\n  @Output() imageClick = new EventEmitter<{product: Product, imageIndex: number}>();\n\n  // Component state\n  private destroy$ = new Subject<void>();\n  discountPercentage: number = 0;\n  discountAmount: number = 0;\n  selectedQuantity = 1;\n  currentImageIndex = 0;\n  addingToCart = false;\n  imageLoading = true;\n  imageError = false;\n\n  // Product status properties\n  isNewArrival = false;\n  isBestSeller = false;\n  isLowStock = false;\n  isInWishlist = false;\n  isInCompare = false;\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n    private wishlistService: WishlistService,\n    private compareService: CompareService,\n    private cartService: CartService\n  ) {}\n\n  ngOnInit(): void {\n    this.calculateDiscounts();\n    this.checkProductStatus();\n    this.initializeUserInteractions();\n    this.startImageCarousel();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  @HostListener('mouseenter')\n  onMouseEnter(): void {\n    // Optional: Preload additional product data on hover\n  }\n\n  @HostListener('mouseleave')\n  onMouseLeave(): void {\n    // Reset any hover states if needed\n  }\n\n  private calculateDiscounts(): void {\n    if (this.product.regularPrice && this.product.regularPrice > this.product.price) {\n      this.discountPercentage = Math.round(\n        ((this.product.regularPrice - this.product.price) / this.product.regularPrice) * 100\n      );\n      this.discountAmount = this.product.regularPrice - this.product.price;\n    }\n  }\n\n  private checkProductStatus(): void {\n    const now = new Date();\n    const productDate = new Date(this.product.createdAt || now);\n    const daysDiff = Math.floor((now.getTime() - productDate.getTime()) / (1000 * 60 * 60 * 24));\n    \n    // Check if new arrival (less than 30 days old)\n    this.isNewArrival = daysDiff <= 30;\n    \n    // Check if bestseller (based on sales or rating)\n    this.isBestSeller = this.product.featured || \n                       (this.product.rating >= 4.5 && (this.product.reviews?.length || 0) >= 100);\n    \n    // Check if low stock\n    this.isLowStock = this.product.stockQuantity > 0 && this.product.stockQuantity <= 10;\n  }\n\n  private initializeUserInteractions(): void {\n    // Check if product is in wishlist\n    this.wishlistService.isInWishlist(this.product.id)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(inWishlist => {\n        this.isInWishlist = inWishlist;\n        this.cdr.markForCheck();\n      });\n\n    // Check if product is in compare list\n    this.compareService.isInCompare(this.product.id)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(inCompare => {\n        this.isInCompare = inCompare;\n        this.cdr.markForCheck();\n      });\n  }\n\n  private startImageCarousel(): void {\n    if (this.product.images && this.product.images.length > 1) {\n      // Auto-rotate images on hover (optional)\n      interval(3000)\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(() => {\n          if (this.product.images && this.product.images.length > 1) {\n            this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n            this.cdr.markForCheck();\n          }\n        });\n    }\n  }\n\n  // Event handlers\n  onAddToCart(): void {\n    if (this.product.stockQuantity === 0 || this.addingToCart) return;\n\n    this.addingToCart = true;\n    this.cdr.markForCheck();\n\n    // Simulate API call delay\n    setTimeout(() => {\n      this.addToCart.emit({\n        product: this.product,\n        quantity: this.selectedQuantity\n      });\n      this.addingToCart = false;\n      this.cdr.markForCheck();\n    }, 500);\n  }\n\n  onToggleWishlist(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.isInWishlist) {\n      this.removeFromWishlist.emit(this.product);\n      this.wishlistService.removeFromWishlist(this.product.id);\n    } else {\n      this.addToWishlist.emit(this.product);\n      this.wishlistService.addToWishlist(this.product);\n    }\n  }\n\n  onToggleCompare(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.isInCompare) {\n      this.removeFromCompare.emit(this.product);\n      this.compareService.removeFromCompare(this.product.id);\n    } else {\n      this.addToCompare.emit(this.product);\n      this.compareService.addToCompare(this.product);\n    }\n  }\n\n  onQuickView(event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.quickView.emit(this.product);\n  }\n\n  onViewDetails(): void {\n    this.viewDetails.emit(this.product);\n  }\n\n  onBuyNow(): void {\n    if (this.product.stockQuantity === 0) return;\n\n    this.buyNow.emit({\n      product: this.product,\n      quantity: this.selectedQuantity\n    });\n  }\n\n  onQuantityChange(quantity: number): void {\n    this.selectedQuantity = quantity;\n  }\n\n  changeImage(index: number, event: Event): void {\n    event.stopPropagation();\n    event.preventDefault();\n    this.currentImageIndex = index;\n    this.imageClick.emit({\n      product: this.product,\n      imageIndex: index\n    });\n  }\n\n  onImageLoad(): void {\n    this.imageLoading = false;\n    this.imageError = false;\n    this.cdr.markForCheck();\n  }\n\n  onImageError(): void {\n    this.imageLoading = false;\n    this.imageError = true;\n    this.cdr.markForCheck();\n  }\n\n  // Getter methods for template\n  get currentImage(): string {\n    if (this.product.images && this.product.images.length > 0) {\n      return this.product.images[this.currentImageIndex] || this.product.imageUrl;\n    }\n    return this.product.imageUrl;\n  }\n\n  get stockStatus(): 'in-stock' | 'low-stock' | 'out-of-stock' {\n    if (this.product.stockQuantity === 0) return 'out-of-stock';\n    if (this.product.stockQuantity <= 10) return 'low-stock';\n    return 'in-stock';\n  }\n\n  get cardClasses(): string[] {\n    const classes = [`product-card--${this.size}`, `product-card--${this.layout}`];\n    \n    if (this.product.featured) classes.push('product-card--featured');\n    if (this.isNewArrival) classes.push('product-card--new');\n    if (this.isBestSeller) classes.push('product-card--bestseller');\n    if (this.discountPercentage > 0) classes.push('product-card--on-sale');\n    \n    return classes;\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}