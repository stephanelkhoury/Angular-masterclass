{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as CartActions from '../../../store/actions/cart.actions'; // Import CartActions\nimport { of } from 'rxjs'; // Import Observable and of for isInWishlist$\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"../../../core/services/wishlist.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nimport * as i8 from \"@angular/material/tooltip\";\nimport * as i9 from \"../../pipes/truncate.pipe\";\nfunction ProductCardComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53);\n    i0.ɵɵelement(1, \"i\", 54);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.discountPercentage, \"% OFF\");\n  }\n}\nfunction ProductCardComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55);\n    i0.ɵɵelement(1, \"i\", 56);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"NEW\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57);\n    i0.ɵɵelement(1, \"i\", 58);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"FEATURED\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 59);\n    i0.ɵɵelement(1, \"i\", 60);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"BESTSELLER\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵelement(1, \"i\", 62);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"SOLD OUT\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63);\n    i0.ɵɵelement(1, \"i\", 64);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"LOW STOCK\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_i_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 65);\n  }\n}\nfunction ProductCardComponent_i_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 66);\n  }\n}\nfunction ProductCardComponent_i_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 67);\n  }\n}\nfunction ProductCardComponent_i_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 68);\n  }\n}\nfunction ProductCardComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 69)(1, \"button\", 70);\n    i0.ɵɵlistener(\"click\", function ProductCardComponent_div_29_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.prevImage($event));\n    });\n    i0.ɵɵelement(2, \"i\", 71);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 72);\n    i0.ɵɵlistener(\"click\", function ProductCardComponent_div_29_Template_button_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.nextImage($event));\n    });\n    i0.ɵɵelement(4, \"i\", 73);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_div_30_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 76);\n    i0.ɵɵlistener(\"click\", function ProductCardComponent_div_30_button_1_Template_button_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const i_r32 = restoredCtx.index;\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r33.setImage(i_r32, $event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r32 = ctx.index;\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", i_r32 === ctx_r30.currentImageIndex);\n  }\n}\nfunction ProductCardComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵtemplate(1, ProductCardComponent_div_30_button_1_Template, 1, 2, \"button\", 75);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.product.images);\n  }\n}\nfunction ProductCardComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 77)(1, \"div\", 78);\n    i0.ɵɵelement(2, \"div\", 79);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 80);\n    i0.ɵɵelement(4, \"i\", 81);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", (ctx_r12.product.stockQuantity || 0) / 10 * 100, \"%\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Only \", ctx_r12.product.stockQuantity, \" left \");\n  }\n}\nfunction ProductCardComponent_span_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 82);\n    i0.ɵɵelement(1, \"i\", 83);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r13.product.brand, \" \");\n  }\n}\nfunction ProductCardComponent_span_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 84);\n    i0.ɵɵelement(1, \"i\", 85);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.product.category.name, \" \");\n  }\n}\nfunction ProductCardComponent_div_39_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 95);\n  }\n}\nfunction ProductCardComponent_div_39_i_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 58);\n  }\n}\nfunction ProductCardComponent_div_39_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 96);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r37 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" (\", ctx_r37.product.reviews.length, \" reviews) \");\n  }\n}\nconst _c0 = function () {\n  return [1, 2, 3, 4, 5];\n};\nfunction ProductCardComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 86)(1, \"div\", 87)(2, \"div\", 88)(3, \"div\", 89);\n    i0.ɵɵtemplate(4, ProductCardComponent_div_39_i_4_Template, 1, 0, \"i\", 90);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 91);\n    i0.ɵɵtemplate(6, ProductCardComponent_div_39_i_6_Template, 1, 0, \"i\", 92);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"span\", 93);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, ProductCardComponent_div_39_span_10_Template, 2, 1, \"span\", 94);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(9, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"width\", (ctx_r15.product.rating || 0) * 20, \"%\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(10, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 6, ctx_r15.product.rating, \"1.1-1\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.product.reviews == null ? null : ctx_r15.product.reviews.length);\n  }\n}\nfunction ProductCardComponent_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 97)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"truncate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 1, ctx_r16.product.description, 80));\n  }\n}\nfunction ProductCardComponent_span_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 98);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(2, 1, ctx_r17.product.regularPrice, ctx_r17.currencySymbol, \"symbol\", \"1.0-0\"), \" \");\n  }\n}\nfunction ProductCardComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 99)(1, \"span\", 100);\n    i0.ɵɵelement(2, \"i\", 101);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Save \", i0.ɵɵpipeBind4(4, 1, ctx_r18.discountAmount, ctx_r18.currencySymbol, \"symbol\", \"1.0-0\"), \" \");\n  }\n}\nfunction ProductCardComponent_p_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 102);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind4(2, 2, ctx_r19.product.price / (ctx_r19.product.unitQuantity || 1), ctx_r19.currencySymbol, \"symbol\", \"1.2-2\"), \"/\", ctx_r19.product.unit, \" \");\n  }\n}\nfunction ProductCardComponent_div_50_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 105);\n    i0.ɵɵelement(1, \"i\", 67);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const feature_r41 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(feature_r41);\n  }\n}\nconst _c1 = function () {\n  return [];\n};\nfunction ProductCardComponent_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 103);\n    i0.ɵɵtemplate(1, ProductCardComponent_div_50_div_1_Template, 4, 1, \"div\", 104);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", (ctx_r20.product.keyFeatures == null ? null : ctx_r20.product.keyFeatures.slice(0, 2)) || i0.ɵɵpureFunction0(1, _c1));\n  }\n}\nfunction ProductCardComponent_div_51_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 108);\n    i0.ɵɵelement(1, \"i\", 109);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"Free Shipping\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_div_51_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 108);\n    i0.ɵɵelement(1, \"i\", 52);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3, \"Fast Delivery\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductCardComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 106);\n    i0.ɵɵtemplate(1, ProductCardComponent_div_51_div_1_Template, 4, 0, \"div\", 107);\n    i0.ɵɵtemplate(2, ProductCardComponent_div_51_div_2_Template, 4, 0, \"div\", 107);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r21.product == null ? null : ctx_r21.product.freeShipping);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r21.product == null ? null : ctx_r21.product.fastDelivery);\n  }\n}\nfunction ProductCardComponent_i_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 110);\n  }\n}\nfunction ProductCardComponent_mat_progress_spinner_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-spinner\", 111);\n  }\n}\nfunction ProductCardComponent_span_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Add to Cart\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductCardComponent_span_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Adding...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductCardComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 112)(1, \"div\", 113)(2, \"button\", 114);\n    i0.ɵɵlistener(\"click\", function ProductCardComponent_div_60_Template_button_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.decrementQuantity($event));\n    });\n    i0.ɵɵelement(3, \"i\", 115);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 116);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductCardComponent_div_60_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.selectedQuantity = $event);\n    })(\"change\", function ProductCardComponent_div_60_Template_input_change_4_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.onQuantityChange());\n    })(\"click\", function ProductCardComponent_div_60_Template_input_click_4_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 114);\n    i0.ɵɵlistener(\"click\", function ProductCardComponent_div_60_Template_button_click_5_listener($event) {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.incrementQuantity($event));\n    });\n    i0.ɵɵelement(6, \"i\", 117);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r26.selectedQuantity === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r26.selectedQuantity)(\"max\", ctx_r26.product.stockQuantity || 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r26.selectedQuantity >= (ctx_r26.product.stockQuantity || 1));\n  }\n}\nconst _c2 = function (a1) {\n  return [\"/products\", a1];\n};\nconst _c3 = function (a0) {\n  return {\n    \"show-quantity\": a0\n  };\n};\nclass ProductCardComponent {\n  constructor(store,\n  // Inject Store\n  wishlistService,\n  // Inject WishlistService\n  cdr) {\n    this.store = store;\n    this.wishlistService = wishlistService;\n    this.cdr = cdr;\n    this.currencySymbol = '$';\n    this.newThresholdDays = 7; // Days to consider a product \"new\"\n    // Configuration for what to show\n    this.showNewBadge = true;\n    this.showFeaturedBadge = true;\n    this.showBestsellerBadge = true;\n    this.showSoldOutBadge = true;\n    this.showImageHoverControls = true;\n    this.showImageIndicators = true;\n    this.showStockIndicator = true;\n    this.showRating = true;\n    this.showShortDescription = false;\n    this.showKeyFeatures = false;\n    this.showShippingInfo = false;\n    this.cycleImagesOnHover = true;\n    // New Inputs for layout and specific button visibility\n    this.size = 'medium';\n    this.showBuyNowButton = true;\n    this.showQuantityControl = true; // For controlling the +/- quantity input\n    this.layout = 'vertical';\n    // Event Emitters - Renamed to avoid conflict with method names\n    this.productAddedToCart = new EventEmitter();\n    this.productAddedToWishlist = new EventEmitter();\n    this.productCompared = new EventEmitter();\n    this.productViewed = new EventEmitter(); // For quick view\n    this.productBoughtNow = new EventEmitter();\n    this.isNew = false;\n    this.isBestSeller = false;\n    this.isLowStock = false;\n    this.discountPercentage = null;\n    this.discountAmount = null;\n    this.currentImageIndex = 0;\n    this.addingToCart = false;\n    this.addingToWishlistState = false; // Renamed to avoid conflict\n    this.uiShowQuantitySelector = false; // Renamed to avoid conflict\n    this.selectedQuantity = 1;\n    this.isInWishlist$ = of(false); // Default to false\n    this.isInCompare$ = of(false); // Placeholder for compare feature\n  }\n\n  ngOnInit() {\n    this.updateProductFlags();\n    this.calculateDiscount();\n    if (this.product && this.product.id) {\n      // Ensure product and product.id exist\n      this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n      // this.isInCompare$ = this.compareService.isInCompare(this.product.id); // If you have a compare service\n    }\n  }\n\n  ngOnChanges(changes) {\n    if (changes['product'] && this.product && this.product.id) {\n      // Ensure product and product.id exist\n      this.updateProductFlags();\n      this.calculateDiscount();\n      this.selectedQuantity = 1; // Reset quantity when product changes\n      this.uiShowQuantitySelector = false;\n      this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n      // this.isInCompare$ = this.compareService.isInCompare(this.product.id);\n      this.cdr.markForCheck();\n    }\n  }\n  updateProductFlags() {\n    if (!this.product) return;\n    const now = new Date();\n    const productDate = this.product.createdAt ? new Date(this.product.createdAt) : now;\n    const diffTime = Math.abs(now.getTime() - productDate.getTime());\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    this.isNew = diffDays <= (this.newThresholdDays || 7);\n    this.isBestSeller = !!this.product.featured || (this.product.rating || 0) >= 4.5 && (this.product.reviews?.length || 0) >= 50; // Adjusted review count\n    this.isLowStock = (this.product.stockQuantity || 0) > 0 && (this.product.stockQuantity || 0) <= 10;\n  }\n  calculateDiscount() {\n    if (!this.product) {\n      this.discountPercentage = null;\n      this.discountAmount = null;\n      return;\n    }\n    if (this.product.regularPrice && this.product.regularPrice > this.product.price) {\n      this.discountPercentage = Math.round((this.product.regularPrice - this.product.price) / this.product.regularPrice * 100);\n      this.discountAmount = this.product.regularPrice - this.product.price;\n    } else {\n      this.discountPercentage = null;\n      this.discountAmount = null;\n    }\n  }\n  // Mouse enter/leave handlers for image cycling\n  onMouseEnter() {\n    if (this.cycleImagesOnHover) {\n      this.startImageCycle();\n    }\n  }\n  onMouseLeave() {\n    if (this.cycleImagesOnHover) {\n      this.stopImageCycle();\n    }\n  }\n  startImageCycle() {\n    if (this.cycleImagesOnHover && this.product?.images && this.product.images.length > 1) {\n      this.stopImageCycle(); // Clear existing interval\n      this.imageChangeInterval = setInterval(() => {\n        if (this.product.images && this.product.images.length > 1) {\n          this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n          this.cdr.markForCheck(); // Trigger change detection\n        }\n      }, 2000); // Change image every 2 seconds\n    }\n  }\n\n  stopImageCycle() {\n    if (this.imageChangeInterval) {\n      clearInterval(this.imageChangeInterval);\n      this.imageChangeInterval = null;\n    }\n  }\n  // Image navigation\n  prevImage(event) {\n    event.stopPropagation();\n    if (this.product?.images && this.product.images.length > 0) {\n      this.currentImageIndex = (this.currentImageIndex - 1 + this.product.images.length) % this.product.images.length;\n    }\n  }\n  nextImage(event) {\n    event.stopPropagation();\n    if (this.product?.images && this.product.images.length > 0) {\n      this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n    }\n  }\n  setImage(index, event) {\n    event.stopPropagation();\n    this.currentImageIndex = index;\n  }\n  onImageError(event) {\n    const imgElement = event.target;\n    imgElement.src = 'assets/images/placeholder.png'; // Fallback image\n  }\n  // Action Methods\n  addToCartHandler(event) {\n    event.stopPropagation();\n    if (!this.product || (this.product.stockQuantity || 0) === 0 || this.addingToCart) return;\n    this.addingToCart = true;\n    const cartItem = {\n      productId: this.product.id,\n      quantity: this.selectedQuantity,\n      name: this.product.name,\n      price: this.product.discountPrice || this.product.price,\n      unitPrice: this.product.discountPrice || this.product.price,\n      image: this.product.imageUrl || this.product.images && this.product.images[0]?.url || ''\n    };\n    // Simulate API call\n    setTimeout(() => {\n      this.store.dispatch(CartActions.addToCart({\n        item: cartItem\n      }));\n      this.productAddedToCart.emit({\n        product: this.product,\n        quantity: this.selectedQuantity\n      });\n      this.addingToCart = false;\n      this.uiShowQuantitySelector = false; // Hide quantity selector after adding\n      this.selectedQuantity = 1; // Reset quantity\n      this.cdr.markForCheck();\n    }, 500);\n  }\n  addToWishlistHandler(event) {\n    event.stopPropagation();\n    if (!this.product || this.addingToWishlistState) return;\n    this.addingToWishlistState = true;\n    // Assuming WishlistService has a method like toggleWishlistItem or add/remove\n    // For now, let's assume toggleWishlist exists and works as intended.\n    // If toggleWishlist is not the correct method, this needs to be adjusted based on WishlistService's API.\n    this.wishlistService.toggleWishlist(this.product.id).subscribe(() => {\n      this.productAddedToWishlist.emit(this.product);\n      this.addingToWishlistState = false;\n      if (this.product && this.product.id) {\n        // Re-check after ensuring product.id exists\n        this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n      }\n      this.cdr.markForCheck();\n    });\n  }\n  compareProductHandler(event) {\n    event.stopPropagation();\n    if (!this.product) return;\n    this.productCompared.emit(this.product);\n    // Add logic for compare service if available\n    // this.isInCompare$ = this.compareService.toggleCompare(this.product.id);\n    this.cdr.markForCheck();\n  }\n  viewProductHandler(event) {\n    event.stopPropagation();\n    if (!this.product) return;\n    this.productViewed.emit(this.product);\n    // Logic for opening a quick view modal, for example\n  }\n\n  buyNowHandler(event) {\n    event.stopPropagation();\n    if (!this.product || (this.product.stockQuantity || 0) === 0) return;\n    const cartItem = {\n      productId: this.product.id,\n      quantity: this.selectedQuantity,\n      name: this.product.name,\n      price: this.product.discountPrice || this.product.price,\n      unitPrice: this.product.discountPrice || this.product.price,\n      image: this.product.imageUrl || this.product.images && this.product.images[0]?.url || ''\n    };\n    this.store.dispatch(CartActions.addToCart({\n      item: cartItem\n    }));\n    this.productBoughtNow.emit({\n      product: this.product,\n      quantity: this.selectedQuantity\n    });\n    // Typically, you'd navigate to checkout here or dispatch another action\n    // If 'navigateToCheckout' is not a standard action, you might need to implement custom navigation\n    // or a specific NGRX effect that handles this. For now, commenting out if it causes issues.\n    // this.store.dispatch(CartActions.navigateToCheckout()); \n    console.log('Buy Now: Navigating to checkout (placeholder)');\n    this.cdr.markForCheck();\n  }\n  toggleQuantitySelectorHandler(event) {\n    event.stopPropagation();\n    if ((this.product?.stockQuantity || 0) === 0) return;\n    this.uiShowQuantitySelector = !this.uiShowQuantitySelector;\n  }\n  onQuantityChange() {\n    if (this.selectedQuantity < 1) {\n      this.selectedQuantity = 1;\n    }\n    if (this.product?.stockQuantity && this.selectedQuantity > this.product.stockQuantity) {\n      this.selectedQuantity = this.product.stockQuantity;\n    }\n  }\n  incrementQuantity(event) {\n    event.stopPropagation();\n    if (this.product?.stockQuantity && this.selectedQuantity < this.product.stockQuantity) {\n      this.selectedQuantity++;\n    }\n  }\n  decrementQuantity(event) {\n    event.stopPropagation();\n    if (this.selectedQuantity > 1) {\n      this.selectedQuantity--;\n    }\n  }\n  get currentDisplayImage() {\n    if (this.product?.images && this.product.images.length > 0 && this.product.images[this.currentImageIndex]?.url) {\n      return this.product.images[this.currentImageIndex].url;\n    }\n    return this.product?.imageUrl || 'assets/images/placeholder.png';\n  }\n  get stockStatusClass() {\n    if ((this.product?.stockQuantity || 0) === 0) return 'out-of-stock';\n    if ((this.product?.stockQuantity || 0) <= 10 && (this.product?.stockQuantity || 0) > 0) return 'low-stock'; // Fixed condition\n    return 'in-stock';\n  }\n  get cardClasses() {\n    const classes = ['product-card'];\n    if (this.product?.featured) {\n      classes.push('product-card--featured');\n    }\n    if (this.isNew) {\n      classes.push('product-card--new');\n    }\n    if (this.isBestSeller) {\n      classes.push('product-card--bestseller');\n    }\n    if ((this.product?.stockQuantity || 0) === 0) {\n      classes.push('product-card--out-of-stock');\n    }\n    return classes;\n  }\n  static {\n    this.ɵfac = function ProductCardComponent_Factory(t) {\n      return new (t || ProductCardComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.WishlistService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductCardComponent,\n      selectors: [[\"app-product-card\"]],\n      inputs: {\n        product: \"product\",\n        currencySymbol: \"currencySymbol\",\n        newThresholdDays: \"newThresholdDays\",\n        showNewBadge: \"showNewBadge\",\n        showFeaturedBadge: \"showFeaturedBadge\",\n        showBestsellerBadge: \"showBestsellerBadge\",\n        showSoldOutBadge: \"showSoldOutBadge\",\n        showImageHoverControls: \"showImageHoverControls\",\n        showImageIndicators: \"showImageIndicators\",\n        showStockIndicator: \"showStockIndicator\",\n        showRating: \"showRating\",\n        showShortDescription: \"showShortDescription\",\n        showKeyFeatures: \"showKeyFeatures\",\n        showShippingInfo: \"showShippingInfo\",\n        cycleImagesOnHover: \"cycleImagesOnHover\",\n        size: \"size\",\n        showBuyNowButton: \"showBuyNowButton\",\n        showQuantityControl: \"showQuantityControl\",\n        layout: \"layout\"\n      },\n      outputs: {\n        productAddedToCart: \"productAddedToCart\",\n        productAddedToWishlist: \"productAddedToWishlist\",\n        productCompared: \"productCompared\",\n        productViewed: \"productViewed\",\n        productBoughtNow: \"productBoughtNow\"\n      },\n      features: [i0.ɵɵNgOnChangesFeature],\n      decls: 66,\n      vars: 77,\n      consts: [[1, \"modern-product-card\", 3, \"ngClass\", \"mouseenter\", \"mouseleave\"], [1, \"product-image-container\"], [1, \"image-link\", 3, \"routerLink\"], [1, \"image-wrapper\"], [\"loading\", \"lazy\", 1, \"product-image\", 3, \"src\", \"alt\", \"error\"], [1, \"image-overlay\"], [1, \"product-badges\"], [\"class\", \"badge discount-badge\", 4, \"ngIf\"], [\"class\", \"badge new-badge\", 4, \"ngIf\"], [\"class\", \"badge featured-badge\", 4, \"ngIf\"], [\"class\", \"badge bestseller-badge\", 4, \"ngIf\"], [\"class\", \"badge sold-out-badge\", 4, \"ngIf\"], [\"class\", \"badge low-stock-badge\", 4, \"ngIf\"], [1, \"quick-actions\"], [\"mat-fab\", \"\", \"color\", \"primary\", \"matTooltip\", \"Add to Wishlist\", \"matTooltipPosition\", \"left\", 1, \"quick-action-btn\", \"wishlist-btn\", 3, \"disabled\", \"click\"], [\"class\", \"fas fa-heart\", 4, \"ngIf\"], [\"class\", \"far fa-heart\", 4, \"ngIf\"], [\"mat-fab\", \"\", \"color\", \"accent\", \"matTooltip\", \"Quick View\", \"matTooltipPosition\", \"left\", 1, \"quick-action-btn\", \"view-btn\", 3, \"click\"], [1, \"fas\", \"fa-eye\"], [\"mat-fab\", \"\", \"matTooltipPosition\", \"left\", 1, \"quick-action-btn\", \"compare-btn\", 3, \"matTooltip\", \"click\"], [\"class\", \"fas fa-check-circle\", 4, \"ngIf\"], [\"class\", \"fas fa-balance-scale\", 4, \"ngIf\"], [\"class\", \"image-navigation\", 4, \"ngIf\"], [\"class\", \"image-indicators\", 4, \"ngIf\"], [\"class\", \"stock-indicator\", 4, \"ngIf\"], [1, \"product-content\"], [1, \"product-meta\"], [\"class\", \"product-brand\", 4, \"ngIf\"], [\"class\", \"product-category\", 4, \"ngIf\"], [1, \"product-name-link\", 3, \"routerLink\"], [1, \"product-name\", 3, \"matTooltip\"], [\"class\", \"product-rating\", 4, \"ngIf\"], [\"class\", \"product-description\", 4, \"ngIf\"], [1, \"product-price-container\"], [1, \"price-row\"], [1, \"current-price\"], [1, \"fas\", \"fa-dollar-sign\"], [\"class\", \"regular-price\", 4, \"ngIf\"], [\"class\", \"savings-row\", 4, \"ngIf\"], [\"class\", \"price-per-unit\", 4, \"ngIf\"], [\"class\", \"product-features\", 4, \"ngIf\"], [\"class\", \"shipping-info\", 4, \"ngIf\"], [1, \"product-actions\", 3, \"ngClass\"], [1, \"primary-action\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"add-to-cart-btn\", 3, \"disabled\", \"click\"], [1, \"btn-content\"], [\"class\", \"fas fa-shopping-cart\", 4, \"ngIf\"], [\"mode\", \"indeterminate\", \"diameter\", \"18\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"quantity-section\", 4, \"ngIf\"], [1, \"secondary-action\"], [\"mat-stroked-button\", \"\", \"color\", \"accent\", 1, \"buy-now-btn\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-bolt\"], [1, \"badge\", \"discount-badge\"], [1, \"fas\", \"fa-percentage\"], [1, \"badge\", \"new-badge\"], [1, \"fas\", \"fa-sparkles\"], [1, \"badge\", \"featured-badge\"], [1, \"fas\", \"fa-star\"], [1, \"badge\", \"bestseller-badge\"], [1, \"fas\", \"fa-fire\"], [1, \"badge\", \"sold-out-badge\"], [1, \"fas\", \"fa-times-circle\"], [1, \"badge\", \"low-stock-badge\"], [1, \"fas\", \"fa-exclamation-triangle\"], [1, \"fas\", \"fa-heart\"], [1, \"far\", \"fa-heart\"], [1, \"fas\", \"fa-check-circle\"], [1, \"fas\", \"fa-balance-scale\"], [1, \"image-navigation\"], [\"mat-mini-fab\", \"\", 1, \"nav-btn\", \"prev-btn\", 3, \"click\"], [1, \"fas\", \"fa-chevron-left\"], [\"mat-mini-fab\", \"\", 1, \"nav-btn\", \"next-btn\", 3, \"click\"], [1, \"fas\", \"fa-chevron-right\"], [1, \"image-indicators\"], [\"class\", \"indicator-dot\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"indicator-dot\", 3, \"click\"], [1, \"stock-indicator\"], [1, \"stock-bar\"], [1, \"stock-fill\"], [1, \"stock-text\"], [1, \"fas\", \"fa-box\"], [1, \"product-brand\"], [1, \"fas\", \"fa-tag\"], [1, \"product-category\"], [1, \"fas\", \"fa-layer-group\"], [1, \"product-rating\"], [1, \"rating-stars\"], [1, \"stars-container\"], [1, \"stars-background\"], [\"class\", \"far fa-star\", 4, \"ngFor\", \"ngForOf\"], [1, \"stars-filled\"], [\"class\", \"fas fa-star\", 4, \"ngFor\", \"ngForOf\"], [1, \"rating-value\"], [\"class\", \"review-count\", 4, \"ngIf\"], [1, \"far\", \"fa-star\"], [1, \"review-count\"], [1, \"product-description\"], [1, \"regular-price\"], [1, \"savings-row\"], [1, \"discount-amount\"], [1, \"fas\", \"fa-piggy-bank\"], [1, \"price-per-unit\"], [1, \"product-features\"], [\"class\", \"feature\", 4, \"ngFor\", \"ngForOf\"], [1, \"feature\"], [1, \"shipping-info\"], [\"class\", \"shipping-item\", 4, \"ngIf\"], [1, \"shipping-item\"], [1, \"fas\", \"fa-shipping-fast\"], [1, \"fas\", \"fa-shopping-cart\"], [\"mode\", \"indeterminate\", \"diameter\", \"18\"], [1, \"quantity-section\"], [1, \"quantity-controls\"], [\"mat-icon-button\", \"\", 1, \"qty-btn\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-minus\"], [\"type\", \"number\", \"min\", \"1\", 1, \"quantity-input\", 3, \"ngModel\", \"max\", \"ngModelChange\", \"change\", \"click\"], [1, \"fas\", \"fa-plus\"]],\n      template: function ProductCardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵlistener(\"mouseenter\", function ProductCardComponent_Template_div_mouseenter_0_listener() {\n            return ctx.onMouseEnter();\n          })(\"mouseleave\", function ProductCardComponent_Template_div_mouseleave_0_listener() {\n            return ctx.onMouseLeave();\n          });\n          i0.ɵɵelementStart(1, \"div\", 1)(2, \"a\", 2)(3, \"div\", 3)(4, \"img\", 4);\n          i0.ɵɵlistener(\"error\", function ProductCardComponent_Template_img_error_4_listener($event) {\n            return ctx.onImageError($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(5, \"div\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 6);\n          i0.ɵɵtemplate(7, ProductCardComponent_div_7_Template, 4, 1, \"div\", 7);\n          i0.ɵɵtemplate(8, ProductCardComponent_div_8_Template, 4, 0, \"div\", 8);\n          i0.ɵɵtemplate(9, ProductCardComponent_div_9_Template, 4, 0, \"div\", 9);\n          i0.ɵɵtemplate(10, ProductCardComponent_div_10_Template, 4, 0, \"div\", 10);\n          i0.ɵɵtemplate(11, ProductCardComponent_div_11_Template, 4, 0, \"div\", 11);\n          i0.ɵɵtemplate(12, ProductCardComponent_div_12_Template, 4, 0, \"div\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 13)(14, \"button\", 14);\n          i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_14_listener($event) {\n            return ctx.addToWishlistHandler($event);\n          });\n          i0.ɵɵpipe(15, \"async\");\n          i0.ɵɵtemplate(16, ProductCardComponent_i_16_Template, 1, 0, \"i\", 15);\n          i0.ɵɵpipe(17, \"async\");\n          i0.ɵɵtemplate(18, ProductCardComponent_i_18_Template, 1, 0, \"i\", 16);\n          i0.ɵɵpipe(19, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"button\", 17);\n          i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_20_listener($event) {\n            return ctx.viewProductHandler($event);\n          });\n          i0.ɵɵelement(21, \"i\", 18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"button\", 19);\n          i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_22_listener($event) {\n            return ctx.compareProductHandler($event);\n          });\n          i0.ɵɵpipe(23, \"async\");\n          i0.ɵɵpipe(24, \"async\");\n          i0.ɵɵtemplate(25, ProductCardComponent_i_25_Template, 1, 0, \"i\", 20);\n          i0.ɵɵpipe(26, \"async\");\n          i0.ɵɵtemplate(27, ProductCardComponent_i_27_Template, 1, 0, \"i\", 21);\n          i0.ɵɵpipe(28, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(29, ProductCardComponent_div_29_Template, 5, 0, \"div\", 22);\n          i0.ɵɵtemplate(30, ProductCardComponent_div_30_Template, 2, 1, \"div\", 23);\n          i0.ɵɵtemplate(31, ProductCardComponent_div_31_Template, 6, 3, \"div\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"div\", 25)(33, \"div\", 26);\n          i0.ɵɵtemplate(34, ProductCardComponent_span_34_Template, 3, 1, \"span\", 27);\n          i0.ɵɵtemplate(35, ProductCardComponent_span_35_Template, 3, 1, \"span\", 28);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"a\", 29)(37, \"h3\", 30);\n          i0.ɵɵtext(38);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(39, ProductCardComponent_div_39_Template, 11, 11, \"div\", 31);\n          i0.ɵɵtemplate(40, ProductCardComponent_div_40_Template, 4, 4, \"div\", 32);\n          i0.ɵɵelementStart(41, \"div\", 33)(42, \"div\", 34)(43, \"span\", 35);\n          i0.ɵɵelement(44, \"i\", 36);\n          i0.ɵɵtext(45);\n          i0.ɵɵpipe(46, \"currency\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(47, ProductCardComponent_span_47_Template, 3, 6, \"span\", 37);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(48, ProductCardComponent_div_48_Template, 5, 6, \"div\", 38);\n          i0.ɵɵtemplate(49, ProductCardComponent_p_49_Template, 3, 7, \"p\", 39);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(50, ProductCardComponent_div_50_Template, 2, 2, \"div\", 40);\n          i0.ɵɵtemplate(51, ProductCardComponent_div_51_Template, 3, 2, \"div\", 41);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(52, \"div\", 42)(53, \"div\", 43)(54, \"button\", 44);\n          i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_54_listener($event) {\n            return ctx.addToCartHandler($event);\n          });\n          i0.ɵɵelementStart(55, \"div\", 45);\n          i0.ɵɵtemplate(56, ProductCardComponent_i_56_Template, 1, 0, \"i\", 46);\n          i0.ɵɵtemplate(57, ProductCardComponent_mat_progress_spinner_57_Template, 1, 0, \"mat-progress-spinner\", 47);\n          i0.ɵɵtemplate(58, ProductCardComponent_span_58_Template, 2, 0, \"span\", 48);\n          i0.ɵɵtemplate(59, ProductCardComponent_span_59_Template, 2, 0, \"span\", 48);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(60, ProductCardComponent_div_60_Template, 7, 4, \"div\", 49);\n          i0.ɵɵelementStart(61, \"div\", 50)(62, \"button\", 51);\n          i0.ɵɵlistener(\"click\", function ProductCardComponent_Template_button_click_62_listener($event) {\n            return ctx.buyNowHandler($event);\n          });\n          i0.ɵɵelement(63, \"i\", 52);\n          i0.ɵɵelementStart(64, \"span\");\n          i0.ɵɵtext(65, \"Buy Now\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"out-of-stock\", (ctx.product.stockQuantity || 0) === 0)(\"featured\", ctx.product.featured)(\"new-arrival\", ctx.isNew)(\"best-seller\", ctx.isBestSeller);\n          i0.ɵɵproperty(\"ngClass\", ctx.cardClasses);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(71, _c2, ctx.product.id));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"src\", ctx.currentDisplayImage, i0.ɵɵsanitizeUrl)(\"alt\", ctx.product.name);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.discountPercentage !== null && ctx.discountPercentage > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isNew && ctx.showNewBadge);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (ctx.product == null ? null : ctx.product.featured) && ctx.showFeaturedBadge);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isBestSeller && ctx.showBestsellerBadge);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((ctx.product == null ? null : ctx.product.stockQuantity) || 0) === 0 && ctx.showSoldOutBadge);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ((ctx.product == null ? null : ctx.product.stockQuantity) || 0) > 0 && ((ctx.product == null ? null : ctx.product.stockQuantity) || 0) <= 5);\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", i0.ɵɵpipeBind1(15, 52, ctx.isInWishlist$));\n          i0.ɵɵproperty(\"disabled\", ctx.addingToWishlistState);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(17, 54, ctx.isInWishlist$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(19, 56, ctx.isInWishlist$));\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"active\", i0.ɵɵpipeBind1(23, 58, ctx.isInCompare$));\n          i0.ɵɵproperty(\"matTooltip\", i0.ɵɵpipeBind1(24, 60, ctx.isInCompare$) ? \"Remove from compare\" : \"Add to compare\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(26, 62, ctx.isInCompare$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(28, 64, ctx.isInCompare$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", (ctx.product == null ? null : ctx.product.images) && ((ctx.product.images == null ? null : ctx.product.images.length) || 0) > 1 && ctx.showImageHoverControls);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (ctx.product == null ? null : ctx.product.images) && ((ctx.product.images == null ? null : ctx.product.images.length) || 0) > 1 && ctx.showImageIndicators);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showStockIndicator && (ctx.product == null ? null : ctx.product.stockQuantity) !== undefined && ((ctx.product == null ? null : ctx.product.stockQuantity) || 0) > 0 && ((ctx.product == null ? null : ctx.product.stockQuantity) || 0) <= 10);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.product == null ? null : ctx.product.brand);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.product.category && ctx.product.category.name);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(73, _c2, ctx.product.id));\n          i0.ɵɵadvance(1);\n          i0.ɵɵpropertyInterpolate(\"matTooltip\", ctx.product.name);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate(ctx.product.name);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showRating && (ctx.product == null ? null : ctx.product.rating) !== undefined && ((ctx.product == null ? null : ctx.product.rating) || 0) > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showShortDescription);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(46, 66, ctx.product.discountPrice || ctx.product.price || 0, ctx.currencySymbol, \"symbol\", \"1.0-0\"), \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", (ctx.product == null ? null : ctx.product.regularPrice) && (ctx.product == null ? null : ctx.product.price) && ((ctx.product == null ? null : ctx.product.regularPrice) || 0) > ((ctx.product == null ? null : ctx.product.price) || 0));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.discountAmount !== null && ctx.discountAmount > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (ctx.product == null ? null : ctx.product.unit) && (ctx.product == null ? null : ctx.product.unitQuantity) && (ctx.product == null ? null : ctx.product.price));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showKeyFeatures && (ctx.product == null ? null : ctx.product.keyFeatures) && ((ctx.product.keyFeatures == null ? null : ctx.product.keyFeatures.length) || 0) > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showShippingInfo);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(75, _c3, ctx.uiShowQuantitySelector));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", (ctx.product.stockQuantity || 0) === 0 || ctx.addingToCart);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.addingToCart);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.addingToCart);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.addingToCart);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.addingToCart);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.uiShowQuantitySelector && ((ctx.product == null ? null : ctx.product.stockQuantity) || 0) > 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", (ctx.product.stockQuantity || 0) === 0);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLink, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.MinValidator, i5.MaxValidator, i5.NgModel, i6.MatButton, i6.MatIconButton, i6.MatMiniFabButton, i6.MatFabButton, i7.MatProgressSpinner, i8.MatTooltip, i3.AsyncPipe, i3.DecimalPipe, i3.CurrencyPipe, i9.TruncatePipe],\n      styles: [\"[_nghost-%COMP%] {\\n  --primary: #6366f1;\\n  --primary-light: #8b5cf6;\\n  --success: #10b981;\\n  --warning: #f59e0b;\\n  --error: #ef4444;\\n  --accent: #06b6d4;\\n  --gray-50: #f8fafc;\\n  --gray-100: #f1f5f9;\\n  --gray-200: #e2e8f0;\\n  --gray-300: #cbd5e1;\\n  --gray-400: #94a3b8;\\n  --gray-500: #64748b;\\n  --gray-600: #475569;\\n  --gray-700: #334155;\\n  --gray-800: #1e293b;\\n  --gray-900: #0f172a;\\n  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\\n  --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\\n  --shadow-hover: 0 12px 40px rgba(99, 102, 241, 0.15);\\n  display: block;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.modern-product-card[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  background: white;\\n  border-radius: 1.5rem;\\n  box-shadow: var(--shadow);\\n  border: 1px solid var(--gray-100);\\n  transition: var(--transition);\\n  overflow: hidden;\\n}\\n.modern-product-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-8px);\\n  box-shadow: var(--shadow-hover);\\n  border-color: var(--primary);\\n}\\n.modern-product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%] {\\n  transform: scale(1.05);\\n}\\n.modern-product-card[_ngcontent-%COMP%]:hover   .quick-actions[_ngcontent-%COMP%] {\\n  opacity: 1;\\n  transform: translateX(0);\\n}\\n.modern-product-card[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%] {\\n  opacity: 1;\\n}\\n.modern-product-card.featured[_ngcontent-%COMP%] {\\n  border: 2px solid var(--primary);\\n  box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2);\\n}\\n.modern-product-card.out-of-stock[_ngcontent-%COMP%] {\\n  opacity: 0.7;\\n}\\n.modern-product-card.out-of-stock[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%] {\\n  filter: grayscale(100%);\\n}\\n\\n.product-image-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  overflow: hidden;\\n  border-radius: 1.5rem 1.5rem 0 0;\\n  height: 250px;\\n}\\n.product-image-container[_ngcontent-%COMP%]   .image-link[_ngcontent-%COMP%], .product-image-container[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%] {\\n  display: block;\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n}\\n.product-image-container[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  transition: var(--transition);\\n}\\n.product-image-container[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.8), rgba(139, 92, 246, 0.8));\\n  opacity: 0;\\n  transition: var(--transition);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.product-image-container[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]   .overlay-text[_ngcontent-%COMP%] {\\n  color: white;\\n  font-weight: 600;\\n  font-size: 1.1rem;\\n  text-align: center;\\n}\\n\\n.product-badges[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 1rem;\\n  left: 1rem;\\n  z-index: 10;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.5rem;\\n}\\n.product-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\n  padding: 0.375rem 0.75rem;\\n  border-radius: 1rem;\\n  font-size: 0.75rem;\\n  font-weight: 600;\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n}\\n.product-badges[_ngcontent-%COMP%]   .badge.sale[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, var(--error), #ff6b6b);\\n  color: white;\\n}\\n.product-badges[_ngcontent-%COMP%]   .badge.new[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, var(--success), #51cf66);\\n  color: white;\\n}\\n.product-badges[_ngcontent-%COMP%]   .badge.featured[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, var(--primary), var(--primary-light));\\n  color: white;\\n}\\n.product-badges[_ngcontent-%COMP%]   .badge.limited[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, var(--warning), #ffd43b);\\n  color: var(--gray-800);\\n}\\n\\n.quick-actions[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 1rem;\\n  right: 1rem;\\n  z-index: 10;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.5rem;\\n  opacity: 0;\\n  transform: translateX(20px);\\n  transition: var(--transition);\\n}\\n.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%] {\\n  width: 3rem;\\n  height: 3rem;\\n  border: none;\\n  border-radius: 50%;\\n  background: white;\\n  color: var(--gray-600);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n  transition: var(--transition);\\n}\\n.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover {\\n  background: var(--primary);\\n  color: white;\\n  transform: scale(1.1);\\n}\\n.quick-actions[_ngcontent-%COMP%]   .action-btn.favorited[_ngcontent-%COMP%] {\\n  background: var(--error);\\n  color: white;\\n}\\n.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n}\\n\\n.product-content[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 1.5rem;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n}\\n\\n.product-category[_ngcontent-%COMP%] {\\n  font-size: 0.75rem;\\n  color: var(--primary);\\n  font-weight: 600;\\n  text-transform: uppercase;\\n  letter-spacing: 1px;\\n  margin: 0;\\n}\\n\\n.product-name[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n  color: var(--gray-800);\\n  line-height: 1.4;\\n}\\n.product-name[_ngcontent-%COMP%]   .product-name-link[_ngcontent-%COMP%] {\\n  color: inherit;\\n  text-decoration: none;\\n  transition: var(--transition);\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n}\\n.product-name[_ngcontent-%COMP%]   .product-name-link[_ngcontent-%COMP%]:hover {\\n  color: var(--primary);\\n}\\n\\n.product-description[_ngcontent-%COMP%] {\\n  font-size: 0.875rem;\\n  color: var(--gray-600);\\n  line-height: 1.5;\\n  margin: 0;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n}\\n\\n.product-rating[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n}\\n.product-rating[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.125rem;\\n}\\n.product-rating[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%] {\\n  color: var(--warning);\\n  font-size: 0.875rem;\\n}\\n.product-rating[_ngcontent-%COMP%]   .rating-stars[_ngcontent-%COMP%]   .star.empty[_ngcontent-%COMP%] {\\n  color: var(--gray-300);\\n}\\n.product-rating[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%] {\\n  font-size: 0.75rem;\\n  color: var(--gray-500);\\n}\\n.product-rating[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  color: var(--gray-700);\\n}\\n\\n.product-pricing[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.75rem;\\n  margin: 0.5rem 0;\\n}\\n.product-pricing[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%] {\\n  font-size: 1.25rem;\\n  font-weight: 700;\\n  color: var(--gray-900);\\n}\\n.product-pricing[_ngcontent-%COMP%]   .original-price[_ngcontent-%COMP%] {\\n  font-size: 1rem;\\n  color: var(--gray-400);\\n  text-decoration: line-through;\\n}\\n.product-pricing[_ngcontent-%COMP%]   .discount-percentage[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem;\\n  background: linear-gradient(135deg, var(--error), #ff6b6b);\\n  color: white;\\n  border-radius: 0.5rem;\\n  font-size: 0.75rem;\\n  font-weight: 600;\\n}\\n\\n.product-stock[_ngcontent-%COMP%] {\\n  font-size: 0.75rem;\\n}\\n.product-stock.in-stock[_ngcontent-%COMP%] {\\n  color: var(--success);\\n}\\n.product-stock.low-stock[_ngcontent-%COMP%] {\\n  color: var(--warning);\\n}\\n.product-stock.out-of-stock[_ngcontent-%COMP%] {\\n  color: var(--error);\\n}\\n.product-stock[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  margin-right: 0.25rem;\\n}\\n\\n.product-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.75rem;\\n  margin-top: auto;\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n  flex: 1;\\n  padding: 0.75rem 1rem;\\n  border: none;\\n  border-radius: 0.75rem;\\n  font-weight: 600;\\n  font-size: 0.875rem;\\n  cursor: pointer;\\n  transition: var(--transition);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 0.5rem;\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, var(--primary), var(--primary-light));\\n  color: white;\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%] {\\n  background: var(--gray-100);\\n  color: var(--gray-700);\\n  border: 1px solid var(--gray-200);\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background: var(--gray-200);\\n  border-color: var(--gray-300);\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%] {\\n  background: transparent;\\n  color: var(--primary);\\n  border: 2px solid var(--primary);\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn.btn-outline[_ngcontent-%COMP%]:hover {\\n  background: var(--primary);\\n  color: white;\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.6;\\n  cursor: not-allowed;\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled:hover {\\n  transform: none;\\n  box-shadow: none;\\n}\\n.product-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1rem;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeInUp {\\n  from {\\n    opacity: 0;\\n    transform: translateY(30px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n.modern-product-card[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_fadeInUp 0.6s ease-out;\\n}\\n\\n@media (max-width: 768px) {\\n  .modern-product-card[_ngcontent-%COMP%] {\\n    border-radius: 1rem;\\n  }\\n  .modern-product-card[_ngcontent-%COMP%]:hover {\\n    transform: translateY(-4px);\\n  }\\n  .product-image-container[_ngcontent-%COMP%] {\\n    height: 200px;\\n    border-radius: 1rem 1rem 0 0;\\n  }\\n  .product-content[_ngcontent-%COMP%] {\\n    padding: 1rem;\\n    gap: 0.75rem;\\n  }\\n  .product-actions[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .product-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n  }\\n  .quick-actions[_ngcontent-%COMP%] {\\n    position: static;\\n    flex-direction: row;\\n    opacity: 1;\\n    transform: none;\\n    margin-top: 1rem;\\n    justify-content: center;\\n  }\\n  .quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%] {\\n    width: 2.5rem;\\n    height: 2.5rem;\\n  }\\n}\\n@media (max-width: 480px) {\\n  .product-badges[_ngcontent-%COMP%] {\\n    top: 0.5rem;\\n    left: 0.5rem;\\n  }\\n  .product-badges[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\n    padding: 0.25rem 0.5rem;\\n    font-size: 0.625rem;\\n  }\\n  .product-content[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n  }\\n  .product-name[_ngcontent-%COMP%] {\\n    font-size: 1rem;\\n  }\\n  .product-pricing[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%] {\\n    font-size: 1.125rem;\\n  }\\n}\\n@media (prefers-contrast: high) {\\n  .modern-product-card[_ngcontent-%COMP%] {\\n    border: 2px solid var(--gray-800);\\n  }\\n  .modern-product-card[_ngcontent-%COMP%]:hover {\\n    border-color: var(--primary);\\n  }\\n  .badge[_ngcontent-%COMP%] {\\n    border: 1px solid currentColor;\\n  }\\n}\\n@media (prefers-reduced-motion: reduce) {\\n  .modern-product-card[_ngcontent-%COMP%], .product-image[_ngcontent-%COMP%], .quick-actions[_ngcontent-%COMP%], .image-overlay[_ngcontent-%COMP%], .action-btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%] {\\n    transition: none;\\n    animation: none;\\n  }\\n  .modern-product-card[_ngcontent-%COMP%]:hover {\\n    transform: none;\\n  }\\n}\\n@media print {\\n  .modern-product-card[_ngcontent-%COMP%] {\\n    break-inside: avoid;\\n    box-shadow: none;\\n    border: 1px solid var(--gray-300);\\n  }\\n  .modern-product-card[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%], .modern-product-card[_ngcontent-%COMP%]   .product-actions[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvcHJvZHVjdC1jYXJkL3Byb2R1Y3QtY2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGtCQUFBO0VBQ0Esd0JBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBRUEsbURBQUE7RUFDQSx3Q0FBQTtFQUNBLG9EQUFBO0VBRUEsY0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBRkY7O0FBS0E7RUFDRSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxpQkFBQTtFQUNBLHFCQUFBO0VBQ0EseUJBQUE7RUFDQSxpQ0FBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7QUFGRjtBQUlFO0VBQ0UsMkJBQUE7RUFDQSwrQkFBQTtFQUNBLDRCQUFBO0FBRko7QUFJSTtFQUNFLHNCQUFBO0FBRk47QUFLSTtFQUNFLFVBQUE7RUFDQSx3QkFBQTtBQUhOO0FBTUk7RUFDRSxVQUFBO0FBSk47QUFRRTtFQUNFLGdDQUFBO0VBQ0EsOENBQUE7QUFOSjtBQVNFO0VBQ0UsWUFBQTtBQVBKO0FBU0k7RUFDRSx1QkFBQTtBQVBOOztBQWFBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGdDQUFBO0VBQ0EsYUFBQTtBQVZGO0FBWUU7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUFWSjtBQWFFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLDZCQUFBO0FBWEo7QUFjRTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtF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LGdCQUFBO0VBaEVGO0VBbUVBO0lBQ0UsZUFBQTtFQWpFRjtFQW9FQTtJQUNFLG1CQUFBO0VBbEVGO0FBQ0Y7QUFzRUE7RUFDRTtJQUNFLGlDQUFBO0VBcEVGO0VBc0VFO0lBQ0UsNEJBQUE7RUFwRUo7RUF3RUE7SUFDRSw4QkFBQTtFQXRFRjtBQUNGO0FBMEVBO0VBQ0U7Ozs7OztJQU1FLGdCQUFBO0lBQ0EsZUFBQTtFQXhFRjtFQTJFQTtJQUNFLGVBQUE7RUF6RUY7QUFDRjtBQTZFQTtFQUNFO0lBQ0UsbUJBQUE7SUFDQSxnQkFBQTtJQUNBLGlDQUFBO0VBM0VGO0VBNkVFOztJQUVFLGFBQUE7RUEzRUo7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi8vIE1vZGVybiBQcm9kdWN0IENhcmQgU3R5bGVzIC0gQ29tcGxldGUgVUkgT3ZlcmhhdWxcbjpob3N0IHtcbiAgLS1wcmltYXJ5OiAjNjM2NmYxO1xuICAtLXByaW1hcnktbGlnaHQ6ICM4YjVjZjY7XG4gIC0tc3VjY2VzczogIzEwYjk4MTtcbiAgLS13YXJuaW5nOiAjZjU5ZTBiO1xuICAtLWVycm9yOiAjZWY0NDQ0O1xuICAtLWFjY2VudDogIzA2YjZkNDtcbiAgLS1ncmF5LTUwOiAjZjhmYWZjO1xuICAtLWdyYXktMTAwOiAjZjFmNWY5O1xuICAtLWdyYXktMjAwOiAjZTJlOGYwO1xuICAtLWdyYXktMzAwOiAjY2JkNWUxO1xuICAtLWdyYXktNDAwOiAjOTRhM2I4O1xuICAtLWdyYXktNTAwOiAjNjQ3NDhiO1xuICAtLWdyYXktNjAwOiAjNDc1NTY5O1xuICAtLWdyYXktNzAwOiAjMzM0MTU1O1xuICAtLWdyYXktODAwOiAjMWUyOTNiO1xuICAtLWdyYXktOTAwOiAjMGYxNzJhO1xuICBcbiAgLS10cmFuc2l0aW9uOiBhbGwgMC4zcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO1xuICAtLXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMDgpO1xuICAtLXNoYWRvdy1ob3ZlcjogMCAxMnB4IDQwcHggcmdiYSg5OSwgMTAyLCAyNDEsIDAuMTUpO1xuICBcbiAgZGlzcGxheTogYmxvY2s7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5tb2Rlcm4tcHJvZHVjdC1jYXJkIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiAxLjVyZW07XG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdyYXktMTAwKTtcbiAgdHJhbnNpdGlvbjogdmFyKC0tdHJhbnNpdGlvbik7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIFxuICAmOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLThweCk7XG4gICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWhvdmVyKTtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpO1xuICAgIFxuICAgIC5wcm9kdWN0LWltYWdlIHtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7XG4gICAgfVxuICAgIFxuICAgIC5xdWljay1hY3Rpb25zIHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7XG4gICAgfVxuICAgIFxuICAgIC5pbWFnZS1vdmVybGF5IHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgfVxuICB9XG4gIFxuICAmLmZlYXR1cmVkIHtcbiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTtcbiAgICBib3gtc2hhZG93OiAwIDhweCAzMnB4IHJnYmEoOTksIDEwMiwgMjQxLCAwLjIpO1xuICB9XG4gIFxuICAmLm91dC1vZi1zdG9jayB7XG4gICAgb3BhY2l0eTogMC43O1xuICAgIFxuICAgIC5wcm9kdWN0LWltYWdlIHtcbiAgICAgIGZpbHRlcjogZ3JheXNjYWxlKDEwMCUpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBJbWFnZSBDb250YWluZXJcbi5wcm9kdWN0LWltYWdlLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYm9yZGVyLXJhZGl1czogMS41cmVtIDEuNXJlbSAwIDA7XG4gIGhlaWdodDogMjUwcHg7XG4gIFxuICAuaW1hZ2UtbGluaywgLmltYWdlLXdyYXBwZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuICBcbiAgLnByb2R1Y3QtaW1hZ2Uge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS10cmFuc2l0aW9uKTtcbiAgfVxuICBcbiAgLmltYWdlLW92ZXJsYXkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgcmdiYSg5OSwgMTAyLCAyNDEsIDAuOCksIHJnYmEoMTM5LCA5MiwgMjQ2LCAwLjgpKTtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zaXRpb246IHZhcigtLXRyYW5zaXRpb24pO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBcbiAgICAub3ZlcmxheS10ZXh0IHtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICBmb250LXNpemU6IDEuMXJlbTtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG4gIH1cbn1cblxuLy8gQmFkZ2VzXG4ucHJvZHVjdC1iYWRnZXMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMXJlbTtcbiAgbGVmdDogMXJlbTtcbiAgei1pbmRleDogMTA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMC41cmVtO1xuICBcbiAgLmJhZGdlIHtcbiAgICBwYWRkaW5nOiAwLjM3NXJlbSAwLjc1cmVtO1xuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XG4gICAgZm9udC1zaXplOiAwLjc1cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7XG4gICAgXG4gICAgJi5zYWxlIHtcbiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLWVycm9yKSwgI2ZmNmI2Yik7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuICAgIFxuICAgICYubmV3IHtcbiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXN1Y2Nlc3MpLCAjNTFjZjY2KTtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG4gICAgXG4gICAgJi5mZWF0dXJlZCB7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1wcmltYXJ5KSwgdmFyKC0tcHJpbWFyeS1saWdodCkpO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cbiAgICBcbiAgICAmLmxpbWl0ZWQge1xuICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0td2FybmluZyksICNmZmQ0M2IpO1xuICAgICAgY29sb3I6IHZhcigtLWdyYXktODAwKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gUXVpY2sgQWN0aW9uc1xuLnF1aWNrLWFjdGlvbnMge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMXJlbTtcbiAgcmlnaHQ6IDFyZW07XG4gIHotaW5kZXg6IDEwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDAuNXJlbTtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDIwcHgpO1xuICB0cmFuc2l0aW9uOiB2YXIoLS10cmFuc2l0aW9uKTtcbiAgXG4gIC5hY3Rpb24tYnRuIHtcbiAgICB3aWR0aDogM3JlbTtcbiAgICBoZWlnaHQ6IDNyZW07XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBjb2xvcjogdmFyKC0tZ3JheS02MDApO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgdHJhbnNpdGlvbjogdmFyKC0tdHJhbnNpdGlvbik7XG4gICAgXG4gICAgJjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbiAgICB9XG4gICAgXG4gICAgJi5mYXZvcml0ZWQge1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tZXJyb3IpO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cbiAgICBcbiAgICBpIHtcbiAgICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xuICAgIH1cbiAgfVxufVxuXG4vLyBQcm9kdWN0IENvbnRlbnRcbi5wcm9kdWN0LWNvbnRlbnQge1xuICBmbGV4OiAxO1xuICBwYWRkaW5nOiAxLjVyZW07XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMXJlbTtcbn1cblxuLnByb2R1Y3QtY2F0ZWdvcnkge1xuICBmb250LXNpemU6IDAuNzVyZW07XG4gIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgbWFyZ2luOiAwO1xufVxuXG4ucHJvZHVjdC1uYW1lIHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDEuMXJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgY29sb3I6IHZhcigtLWdyYXktODAwKTtcbiAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgXG4gIC5wcm9kdWN0LW5hbWUtbGluayB7XG4gICAgY29sb3I6IGluaGVyaXQ7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgIHRyYW5zaXRpb246IHZhcigtLXRyYW5zaXRpb24pO1xuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgIC13ZWJraXQtbGluZS1jbGFtcDogMjtcbiAgICBsaW5lLWNsYW1wOiAyO1xuICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBcbiAgICAmOmhvdmVyIHtcbiAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcbiAgICB9XG4gIH1cbn1cblxuLnByb2R1Y3QtZGVzY3JpcHRpb24ge1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBjb2xvcjogdmFyKC0tZ3JheS02MDApO1xuICBsaW5lLWhlaWdodDogMS41O1xuICBtYXJnaW46IDA7XG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAtd2Via2l0LWxpbmUtY2xhbXA6IDI7XG4gIGxpbmUtY2xhbXA6IDI7XG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5wcm9kdWN0LXJhdGluZyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMC41cmVtO1xuICBcbiAgLnJhdGluZy1zdGFycyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBnYXA6IDAuMTI1cmVtO1xuICAgIFxuICAgIC5zdGFyIHtcbiAgICAgIGNvbG9yOiB2YXIoLS13YXJuaW5nKTtcbiAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XG4gICAgICBcbiAgICAgICYuZW1wdHkge1xuICAgICAgICBjb2xvcjogdmFyKC0tZ3JheS0zMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgLnJhdGluZy10ZXh0IHtcbiAgICBmb250LXNpemU6IDAuNzVyZW07XG4gICAgY29sb3I6IHZhcigtLWdyYXktNTAwKTtcbiAgICBcbiAgICAucmF0aW5nLXZhbHVlIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICBjb2xvcjogdmFyKC0tZ3JheS03MDApO1xuICAgIH1cbiAgfVxufVxuXG4ucHJvZHVjdC1wcmljaW5nIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAwLjc1cmVtO1xuICBtYXJnaW46IDAuNXJlbSAwO1xuICBcbiAgLmN1cnJlbnQtcHJpY2Uge1xuICAgIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICAgIGNvbG9yOiB2YXIoLS1ncmF5LTkwMCk7XG4gIH1cbiAgXG4gIC5vcmlnaW5hbC1wcmljZSB7XG4gICAgZm9udC1zaXplOiAxcmVtO1xuICAgIGNvbG9yOiB2YXIoLS1ncmF5LTQwMCk7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG4gIH1cbiAgXG4gIC5kaXNjb3VudC1wZXJjZW50YWdlIHtcbiAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1lcnJvciksICNmZjZiNmIpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gICAgZm9udC1zaXplOiAwLjc1cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIH1cbn1cblxuLnByb2R1Y3Qtc3RvY2sge1xuICBmb250LXNpemU6IDAuNzVyZW07XG4gIFxuICAmLmluLXN0b2NrIHtcbiAgICBjb2xvcjogdmFyKC0tc3VjY2Vzcyk7XG4gIH1cbiAgXG4gICYubG93LXN0b2NrIHtcbiAgICBjb2xvcjogdmFyKC0td2FybmluZyk7XG4gIH1cbiAgXG4gICYub3V0LW9mLXN0b2NrIHtcbiAgICBjb2xvcjogdmFyKC0tZXJyb3IpO1xuICB9XG4gIFxuICBpIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDAuMjVyZW07XG4gIH1cbn1cblxuLy8gUHJvZHVjdCBBY3Rpb25zXG4ucHJvZHVjdC1hY3Rpb25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiAwLjc1cmVtO1xuICBtYXJnaW4tdG9wOiBhdXRvO1xuICBcbiAgLmJ0biB7XG4gICAgZmxleDogMTtcbiAgICBwYWRkaW5nOiAwLjc1cmVtIDFyZW07XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IDAuNzVyZW07XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBmb250LXNpemU6IDAuODc1cmVtO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICB0cmFuc2l0aW9uOiB2YXIoLS10cmFuc2l0aW9uKTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZ2FwOiAwLjVyZW07XG4gICAgXG4gICAgJi5idG4tcHJpbWFyeSB7XG4gICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1wcmltYXJ5KSwgdmFyKC0tcHJpbWFyeS1saWdodCkpO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xuICAgICAgICBib3gtc2hhZG93OiAwIDhweCAyNXB4IHJnYmEoOTksIDEwMiwgMjQxLCAwLjMpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAmLmJ0bi1zZWNvbmRhcnkge1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tZ3JheS0xMDApO1xuICAgICAgY29sb3I6IHZhcigtLWdyYXktNzAwKTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdyYXktMjAwKTtcbiAgICAgIFxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWdyYXktMjAwKTtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ncmF5LTMwMCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgICYuYnRuLW91dGxpbmUge1xuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTtcbiAgICAgIFxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgICY6ZGlzYWJsZWQge1xuICAgICAgb3BhY2l0eTogMC42O1xuICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgICAgIFxuICAgICAgJjpob3ZlciB7XG4gICAgICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaSB7XG4gICAgICBmb250LXNpemU6IDFyZW07XG4gICAgfVxuICB9XG59XG5cbi8vIEFuaW1hdGlvbnNcbkBrZXlmcmFtZXMgZmFkZUluVXAge1xuICBmcm9tIHtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgzMHB4KTtcbiAgfVxuICB0byB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gIH1cbn1cblxuLm1vZGVybi1wcm9kdWN0LWNhcmQge1xuICBhbmltYXRpb246IGZhZGVJblVwIDAuNnMgZWFzZS1vdXQ7XG59XG5cbi8vIFJlc3BvbnNpdmUgRGVzaWduXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLm1vZGVybi1wcm9kdWN0LWNhcmQge1xuICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XG4gICAgXG4gICAgJjpob3ZlciB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTRweCk7XG4gICAgfVxuICB9XG4gIFxuICAucHJvZHVjdC1pbWFnZS1jb250YWluZXIge1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMXJlbSAxcmVtIDAgMDtcbiAgfVxuICBcbiAgLnByb2R1Y3QtY29udGVudCB7XG4gICAgcGFkZGluZzogMXJlbTtcbiAgICBnYXA6IDAuNzVyZW07XG4gIH1cbiAgXG4gIC5wcm9kdWN0LWFjdGlvbnMge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgXG4gICAgLmJ0biB7XG4gICAgICBwYWRkaW5nOiAwLjc1cmVtO1xuICAgIH1cbiAgfVxuICBcbiAgLnF1aWNrLWFjdGlvbnMge1xuICAgIHBvc2l0aW9uOiBzdGF0aWM7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgICBtYXJnaW4tdG9wOiAxcmVtO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIFxuICAgIC5hY3Rpb24tYnRuIHtcbiAgICAgIHdpZHRoOiAyLjVyZW07XG4gICAgICBoZWlnaHQ6IDIuNXJlbTtcbiAgICB9XG4gIH1cbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gIC5wcm9kdWN0LWJhZGdlcyB7XG4gICAgdG9wOiAwLjVyZW07XG4gICAgbGVmdDogMC41cmVtO1xuICAgIFxuICAgIC5iYWRnZSB7XG4gICAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTtcbiAgICAgIGZvbnQtc2l6ZTogMC42MjVyZW07XG4gICAgfVxuICB9XG4gIFxuICAucHJvZHVjdC1jb250ZW50IHtcbiAgICBwYWRkaW5nOiAwLjc1cmVtO1xuICB9XG4gIFxuICAucHJvZHVjdC1uYW1lIHtcbiAgICBmb250LXNpemU6IDFyZW07XG4gIH1cbiAgXG4gIC5wcm9kdWN0LXByaWNpbmcgLmN1cnJlbnQtcHJpY2Uge1xuICAgIGZvbnQtc2l6ZTogMS4xMjVyZW07XG4gIH1cbn1cblxuLy8gSGlnaCBDb250cmFzdCBNb2RlXG5AbWVkaWEgKHByZWZlcnMtY29udHJhc3Q6IGhpZ2gpIHtcbiAgLm1vZGVybi1wcm9kdWN0LWNhcmQge1xuICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWdyYXktODAwKTtcbiAgICBcbiAgICAmOmhvdmVyIHtcbiAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gICAgfVxuICB9XG4gIFxuICAuYmFkZ2Uge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGN1cnJlbnRDb2xvcjtcbiAgfVxufVxuXG4vLyBSZWR1Y2VkIE1vdGlvblxuQG1lZGlhIChwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpIHtcbiAgLm1vZGVybi1wcm9kdWN0LWNhcmQsXG4gIC5wcm9kdWN0LWltYWdlLFxuICAucXVpY2stYWN0aW9ucyxcbiAgLmltYWdlLW92ZXJsYXksXG4gIC5hY3Rpb24tYnRuLFxuICAuYnRuIHtcbiAgICB0cmFuc2l0aW9uOiBub25lO1xuICAgIGFuaW1hdGlvbjogbm9uZTtcbiAgfVxuICBcbiAgLm1vZGVybi1wcm9kdWN0LWNhcmQ6aG92ZXIge1xuICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgfVxufVxuXG4vLyBQcmludCBTdHlsZXNcbkBtZWRpYSBwcmludCB7XG4gIC5tb2Rlcm4tcHJvZHVjdC1jYXJkIHtcbiAgICBicmVhay1pbnNpZGU6IGF2b2lkO1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZ3JheS0zMDApO1xuICAgIFxuICAgIC5xdWljay1hY3Rpb25zLFxuICAgIC5wcm9kdWN0LWFjdGlvbnMge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n      changeDetection: 0\n    });\n  }\n}\nexport { ProductCardComponent };","map":{"version":3,"names":["EventEmitter","CartActions","of","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","discountPercentage","ɵɵlistener","ProductCardComponent_div_29_Template_button_click_1_listener","$event","ɵɵrestoreView","_r28","ctx_r27","ɵɵnextContext","ɵɵresetView","prevImage","ProductCardComponent_div_29_Template_button_click_3_listener","ctx_r29","nextImage","ProductCardComponent_div_30_button_1_Template_button_click_0_listener","restoredCtx","_r34","i_r32","index","ctx_r33","setImage","ɵɵclassProp","ctx_r30","currentImageIndex","ɵɵtemplate","ProductCardComponent_div_30_button_1_Template","ɵɵproperty","ctx_r11","product","images","ɵɵstyleProp","ctx_r12","stockQuantity","ctx_r13","brand","ctx_r14","category","name","ctx_r37","reviews","length","ProductCardComponent_div_39_i_4_Template","ProductCardComponent_div_39_i_6_Template","ProductCardComponent_div_39_span_10_Template","ɵɵpureFunction0","_c0","ctx_r15","rating","ɵɵtextInterpolate","ɵɵpipeBind2","ctx_r16","description","ɵɵpipeBind4","ctx_r17","regularPrice","currencySymbol","ctx_r18","discountAmount","ɵɵtextInterpolate2","ctx_r19","price","unitQuantity","unit","feature_r41","ProductCardComponent_div_50_div_1_Template","ctx_r20","keyFeatures","slice","_c1","ProductCardComponent_div_51_div_1_Template","ProductCardComponent_div_51_div_2_Template","ctx_r21","freeShipping","fastDelivery","ProductCardComponent_div_60_Template_button_click_2_listener","_r45","ctx_r44","decrementQuantity","ProductCardComponent_div_60_Template_input_ngModelChange_4_listener","ctx_r46","selectedQuantity","ProductCardComponent_div_60_Template_input_change_4_listener","ctx_r47","onQuantityChange","ProductCardComponent_div_60_Template_input_click_4_listener","stopPropagation","ProductCardComponent_div_60_Template_button_click_5_listener","ctx_r49","incrementQuantity","ctx_r26","ProductCardComponent","constructor","store","wishlistService","cdr","newThresholdDays","showNewBadge","showFeaturedBadge","showBestsellerBadge","showSoldOutBadge","showImageHoverControls","showImageIndicators","showStockIndicator","showRating","showShortDescription","showKeyFeatures","showShippingInfo","cycleImagesOnHover","size","showBuyNowButton","showQuantityControl","layout","productAddedToCart","productAddedToWishlist","productCompared","productViewed","productBoughtNow","isNew","isBestSeller","isLowStock","addingToCart","addingToWishlistState","uiShowQuantitySelector","isInWishlist$","isInCompare$","ngOnInit","updateProductFlags","calculateDiscount","id","isInWishlist","ngOnChanges","changes","markForCheck","now","Date","productDate","createdAt","diffTime","Math","abs","getTime","diffDays","ceil","featured","round","onMouseEnter","startImageCycle","onMouseLeave","stopImageCycle","imageChangeInterval","setInterval","clearInterval","event","onImageError","imgElement","target","src","addToCartHandler","cartItem","productId","quantity","discountPrice","unitPrice","image","imageUrl","url","setTimeout","dispatch","addToCart","item","emit","addToWishlistHandler","toggleWishlist","subscribe","compareProductHandler","viewProductHandler","buyNowHandler","console","log","toggleQuantitySelectorHandler","currentDisplayImage","stockStatusClass","cardClasses","classes","push","ɵɵdirectiveInject","i1","Store","i2","WishlistService","ChangeDetectorRef","selectors","inputs","outputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","ProductCardComponent_Template","rf","ctx","ProductCardComponent_Template_div_mouseenter_0_listener","ProductCardComponent_Template_div_mouseleave_0_listener","ProductCardComponent_Template_img_error_4_listener","ProductCardComponent_div_7_Template","ProductCardComponent_div_8_Template","ProductCardComponent_div_9_Template","ProductCardComponent_div_10_Template","ProductCardComponent_div_11_Template","ProductCardComponent_div_12_Template","ProductCardComponent_Template_button_click_14_listener","ProductCardComponent_i_16_Template","ProductCardComponent_i_18_Template","ProductCardComponent_Template_button_click_20_listener","ProductCardComponent_Template_button_click_22_listener","ProductCardComponent_i_25_Template","ProductCardComponent_i_27_Template","ProductCardComponent_div_29_Template","ProductCardComponent_div_30_Template","ProductCardComponent_div_31_Template","ProductCardComponent_span_34_Template","ProductCardComponent_span_35_Template","ProductCardComponent_div_39_Template","ProductCardComponent_div_40_Template","ProductCardComponent_span_47_Template","ProductCardComponent_div_48_Template","ProductCardComponent_p_49_Template","ProductCardComponent_div_50_Template","ProductCardComponent_div_51_Template","ProductCardComponent_Template_button_click_54_listener","ProductCardComponent_i_56_Template","ProductCardComponent_mat_progress_spinner_57_Template","ProductCardComponent_span_58_Template","ProductCardComponent_span_59_Template","ProductCardComponent_div_60_Template","ProductCardComponent_Template_button_click_62_listener","ɵɵpureFunction1","_c2","ɵɵsanitizeUrl","ɵɵpipeBind1","undefined","ɵɵpropertyInterpolate","_c3"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/shared/components/product-card/product-card.component.ts","/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/shared/components/product-card/product-card.component.html"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, ChangeDetectionStrategy, ChangeDetectorRef, OnChanges, SimpleChanges } from '@angular/core';\nimport { Product, ProductImage } from '../../../core/models/product.model'; // Added ProductImage\nimport { Store } from '@ngrx/store'; // Import Store\nimport { AppState } from '../../../store'; // Assuming AppState is defined\nimport * as CartActions from '../../../store/actions/cart.actions'; // Import CartActions\nimport { Observable, of } from 'rxjs'; // Import Observable and of for isInWishlist$\nimport { WishlistService } from '../../../core/services/wishlist.service'; // Assuming you have a WishlistService\nimport { map } from 'rxjs/operators';\nimport { CartItem } from '../../../core/models/cart-item.model'; // Import CartItem\n\n\n@Component({\n  selector: 'app-product-card',\n  templateUrl: './product-card.component.html',\n  styleUrls: ['./product-card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProductCardComponent implements OnInit, OnChanges {\n  @Input() product!: Product;\n  @Input() currencySymbol: string = '$';\n  @Input() newThresholdDays: number = 7; // Days to consider a product \"new\"\n  \n  // Configuration for what to show\n  @Input() showNewBadge: boolean = true;\n  @Input() showFeaturedBadge: boolean = true;\n  @Input() showBestsellerBadge: boolean = true;\n  @Input() showSoldOutBadge: boolean = true;\n  @Input() showImageHoverControls: boolean = true;\n  @Input() showImageIndicators: boolean = true;\n  @Input() showStockIndicator: boolean = true;\n  @Input() showRating: boolean = true;\n  @Input() showShortDescription: boolean = false;\n  @Input() showKeyFeatures: boolean = false;\n  @Input() showShippingInfo: boolean = false;\n  @Input() cycleImagesOnHover: boolean = true;\n\n  // New Inputs for layout and specific button visibility\n  @Input() size: 'small' | 'medium' | 'large' = 'medium';\n  @Input() showBuyNowButton: boolean = true;\n  @Input() showQuantityControl: boolean = true; // For controlling the +/- quantity input\n  @Input() layout: 'vertical' | 'horizontal' = 'vertical';\n\n\n  // Event Emitters - Renamed to avoid conflict with method names\n  @Output() productAddedToCart = new EventEmitter<{product: Product, quantity: number}>();\n  @Output() productAddedToWishlist = new EventEmitter<Product>();\n  @Output() productCompared = new EventEmitter<Product>();\n  @Output() productViewed = new EventEmitter<Product>(); // For quick view\n  @Output() productBoughtNow = new EventEmitter<{product: Product, quantity: number}>();\n\n\n  isNew = false;\n  isBestSeller = false;\n  isLowStock = false;\n  discountPercentage: number | null = null;\n  discountAmount: number | null = null;\n\n  currentImageIndex = 0;\n  private imageChangeInterval: any;\n\n  addingToCart = false;\n  addingToWishlistState = false; // Renamed to avoid conflict\n  uiShowQuantitySelector = false; // Renamed to avoid conflict\n  selectedQuantity: number = 1;\n\n  isInWishlist$: Observable<boolean> = of(false); // Default to false\n  isInCompare$: Observable<boolean> = of(false); // Placeholder for compare feature\n\n\n  constructor(\n    private store: Store<AppState>, // Inject Store\n    private wishlistService: WishlistService, // Inject WishlistService\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit(): void {\n    this.updateProductFlags();\n    this.calculateDiscount();\n    if (this.product && this.product.id) { // Ensure product and product.id exist\n        this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n        // this.isInCompare$ = this.compareService.isInCompare(this.product.id); // If you have a compare service\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['product'] && this.product && this.product.id) { // Ensure product and product.id exist\n      this.updateProductFlags();\n      this.calculateDiscount();\n      this.selectedQuantity = 1; // Reset quantity when product changes\n      this.uiShowQuantitySelector = false;\n      this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n      // this.isInCompare$ = this.compareService.isInCompare(this.product.id);\n      this.cdr.markForCheck();\n    }\n  }\n\n  private updateProductFlags(): void {\n    if (!this.product) return;\n\n    const now = new Date();\n    const productDate = this.product.createdAt ? new Date(this.product.createdAt) : now;\n    const diffTime = Math.abs(now.getTime() - productDate.getTime());\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    this.isNew = diffDays <= (this.newThresholdDays || 7);\n\n    this.isBestSeller = !!this.product.featured ||\n                       ( (this.product.rating || 0) >= 4.5 && (this.product.reviews?.length || 0) >= 50); // Adjusted review count\n    \n    this.isLowStock = (this.product.stockQuantity || 0) > 0 && (this.product.stockQuantity || 0) <= 10;\n  }\n\n  private calculateDiscount(): void {\n    if (!this.product) {\n      this.discountPercentage = null;\n      this.discountAmount = null;\n      return;\n    }\n    if (this.product.regularPrice && this.product.regularPrice > this.product.price) {\n      this.discountPercentage = Math.round(\n        ((this.product.regularPrice - this.product.price) / this.product.regularPrice) * 100\n      );\n      this.discountAmount = this.product.regularPrice - this.product.price;\n    } else {\n      this.discountPercentage = null;\n      this.discountAmount = null;\n    }\n  }\n\n  // Mouse enter/leave handlers for image cycling\n  onMouseEnter(): void {\n    if (this.cycleImagesOnHover) {\n      this.startImageCycle();\n    }\n  }\n\n  onMouseLeave(): void {\n    if (this.cycleImagesOnHover) {\n      this.stopImageCycle();\n    }\n  }\n  \n  startImageCycle(): void {\n    if (this.cycleImagesOnHover && this.product?.images && this.product.images.length > 1) {\n      this.stopImageCycle(); // Clear existing interval\n      this.imageChangeInterval = setInterval(() => {\n        if (this.product.images && this.product.images.length > 1) {\n          this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n          this.cdr.markForCheck(); // Trigger change detection\n        }\n      }, 2000); // Change image every 2 seconds\n    }\n  }\n\n  stopImageCycle(): void {\n    if (this.imageChangeInterval) {\n      clearInterval(this.imageChangeInterval);\n      this.imageChangeInterval = null;\n    }\n  }\n  \n  // Image navigation\n  prevImage(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.product?.images && this.product.images.length > 0) {\n      this.currentImageIndex = (this.currentImageIndex - 1 + this.product.images.length) % this.product.images.length;\n    }\n  }\n\n  nextImage(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.product?.images && this.product.images.length > 0) {\n      this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n    }\n  }\n  \n  setImage(index: number, event: MouseEvent): void {\n    event.stopPropagation();\n    this.currentImageIndex = index;\n  }\n\n  onImageError(event: Event): void {\n    const imgElement = event.target as HTMLImageElement;\n    imgElement.src = 'assets/images/placeholder.png'; // Fallback image\n  }\n\n\n  // Action Methods\n  addToCartHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product || (this.product.stockQuantity || 0) === 0 || this.addingToCart) return;\n\n        this.addingToCart = true;\n    const cartItem: CartItem = {\n      productId: this.product.id,\n      quantity: this.selectedQuantity,\n      name: this.product.name,\n      price: this.product.discountPrice || this.product.price,\n      unitPrice: this.product.discountPrice || this.product.price,\n      image: this.product.imageUrl || (this.product.images && this.product.images[0]?.url) || ''\n    };\n    // Simulate API call\n    setTimeout(() => {\n      this.store.dispatch(CartActions.addToCart({ item: cartItem }));\n      this.productAddedToCart.emit({product: this.product, quantity: this.selectedQuantity});\n      this.addingToCart = false;\n      this.uiShowQuantitySelector = false; // Hide quantity selector after adding\n      this.selectedQuantity = 1; // Reset quantity\n      this.cdr.markForCheck();\n    }, 500);\n  }\n\n  addToWishlistHandler(event: MouseEvent): void { // Renamed method\n    event.stopPropagation();\n    if (!this.product || this.addingToWishlistState) return;\n\n    this.addingToWishlistState = true;\n    // Assuming WishlistService has a method like toggleWishlistItem or add/remove\n    // For now, let's assume toggleWishlist exists and works as intended.\n    // If toggleWishlist is not the correct method, this needs to be adjusted based on WishlistService's API.\n    this.wishlistService.toggleWishlist(this.product.id).subscribe(() => {\n        this.productAddedToWishlist.emit(this.product);\n        this.addingToWishlistState = false;\n        if (this.product && this.product.id) { // Re-check after ensuring product.id exists\n             this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n        }\n        this.cdr.markForCheck();\n    });\n  }\n  \n  compareProductHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product) return;\n    this.productCompared.emit(this.product);\n    // Add logic for compare service if available\n    // this.isInCompare$ = this.compareService.toggleCompare(this.product.id);\n    this.cdr.markForCheck();\n  }\n\n  viewProductHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product) return;\n    this.productViewed.emit(this.product);\n    // Logic for opening a quick view modal, for example\n  }\n\n\n  buyNowHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product || (this.product.stockQuantity || 0) === 0) return;\n    \n        const cartItem: CartItem = {\n      productId: this.product.id,\n      quantity: this.selectedQuantity,\n      name: this.product.name,\n      price: this.product.discountPrice || this.product.price,\n      unitPrice: this.product.discountPrice || this.product.price,\n      image: this.product.imageUrl || (this.product.images && this.product.images[0]?.url) || ''\n    };\n    this.store.dispatch(CartActions.addToCart({ item: cartItem }));\n    this.productBoughtNow.emit({product: this.product, quantity: this.selectedQuantity});\n    // Typically, you'd navigate to checkout here or dispatch another action\n    // If 'navigateToCheckout' is not a standard action, you might need to implement custom navigation\n    // or a specific NGRX effect that handles this. For now, commenting out if it causes issues.\n    // this.store.dispatch(CartActions.navigateToCheckout()); \n    console.log('Buy Now: Navigating to checkout (placeholder)');\n    this.cdr.markForCheck();\n  }\n\n  toggleQuantitySelectorHandler(event: MouseEvent): void { // Renamed method\n    event.stopPropagation();\n    if ((this.product?.stockQuantity || 0) === 0) return;\n    this.uiShowQuantitySelector = !this.uiShowQuantitySelector;\n  }\n\n  onQuantityChange(): void {\n    if (this.selectedQuantity < 1) {\n      this.selectedQuantity = 1;\n    }\n    if (this.product?.stockQuantity && this.selectedQuantity > this.product.stockQuantity) {\n      this.selectedQuantity = this.product.stockQuantity;\n    }\n  }\n\n  incrementQuantity(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.product?.stockQuantity && this.selectedQuantity < this.product.stockQuantity) {\n      this.selectedQuantity++;\n    }\n  }\n\n  decrementQuantity(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.selectedQuantity > 1) {\n      this.selectedQuantity--;\n    }\n  }\n\n  get currentDisplayImage(): string {\n    if (this.product?.images && this.product.images.length > 0 && this.product.images[this.currentImageIndex]?.url) {\n      return this.product.images[this.currentImageIndex].url;\n    }\n    return this.product?.imageUrl || 'assets/images/placeholder.png';\n  }\n\n  get stockStatusClass(): string {\n    if ((this.product?.stockQuantity || 0) === 0) return 'out-of-stock';\n    if ((this.product?.stockQuantity || 0) <= 10 && (this.product?.stockQuantity || 0) > 0) return 'low-stock'; // Fixed condition\n    return 'in-stock';\n  }\n\n  get cardClasses(): string[] {\n    const classes = ['product-card'];\n    if (this.product?.featured) {\n      classes.push('product-card--featured');\n    }\n    if (this.isNew) {\n      classes.push('product-card--new');\n    }\n    if (this.isBestSeller) {\n      classes.push('product-card--bestseller');\n    }\n    if ((this.product?.stockQuantity || 0) === 0) {\n      classes.push('product-card--out-of-stock');\n    }\n    return classes;\n  }\n}\n","<div class=\"modern-product-card\" [ngClass]=\"cardClasses\" \n     [class.out-of-stock]=\"(product.stockQuantity || 0) === 0\"\n     [class.featured]=\"product.featured\"\n     [class.new-arrival]=\"isNew\"\n     [class.best-seller]=\"isBestSeller\"\n     (mouseenter)=\"onMouseEnter()\" \n     (mouseleave)=\"onMouseLeave()\">\n\n  <!-- Image Container with Modern Overlay -->\n  <div class=\"product-image-container\">\n    <a [routerLink]=\"['/products', product.id]\" class=\"image-link\">\n      <div class=\"image-wrapper\">\n        <img [src]=\"currentDisplayImage\" [alt]=\"product.name\" \n             class=\"product-image\" loading=\"lazy\"\n             (error)=\"onImageError($event)\">\n        <div class=\"image-overlay\"></div>\n      </div>\n    </a>\n    \n    <!-- Modern Badges with Icons -->\n    <div class=\"product-badges\">\n      <div class=\"badge discount-badge\" *ngIf=\"discountPercentage !== null && discountPercentage > 0\">\n        <i class=\"fas fa-percentage\"></i>\n        <span>{{ discountPercentage }}% OFF</span>\n      </div>\n      <div class=\"badge new-badge\" *ngIf=\"isNew && showNewBadge\">\n        <i class=\"fas fa-sparkles\"></i>\n        <span>NEW</span>\n      </div>\n      <div class=\"badge featured-badge\" *ngIf=\"product?.featured && showFeaturedBadge\">\n        <i class=\"fas fa-star\"></i>\n        <span>FEATURED</span>\n      </div>\n      <div class=\"badge bestseller-badge\" *ngIf=\"isBestSeller && showBestsellerBadge\">\n        <i class=\"fas fa-fire\"></i>\n        <span>BESTSELLER</span>\n      </div>\n      <div class=\"badge sold-out-badge\" *ngIf=\"(product?.stockQuantity || 0) === 0 && showSoldOutBadge\">\n        <i class=\"fas fa-times-circle\"></i>\n        <span>SOLD OUT</span>\n      </div>\n      <div class=\"badge low-stock-badge\" *ngIf=\"(product?.stockQuantity || 0) > 0 && (product?.stockQuantity || 0) <= 5\">\n        <i class=\"fas fa-exclamation-triangle\"></i>\n        <span>LOW STOCK</span>\n      </div>\n    </div>\n\n    <!-- Enhanced Quick Actions -->\n    <div class=\"quick-actions\">\n      <button mat-fab color=\"primary\" class=\"quick-action-btn wishlist-btn\" \n              [class.active]=\"(isInWishlist$ | async)\"\n              (click)=\"addToWishlistHandler($event)\" \n              [disabled]=\"addingToWishlistState\"\n              matTooltip=\"Add to Wishlist\" \n              matTooltipPosition=\"left\">\n        <i class=\"fas fa-heart\" *ngIf=\"(isInWishlist$ | async)\"></i>\n        <i class=\"far fa-heart\" *ngIf=\"!(isInWishlist$ | async)\"></i>\n      </button>\n      <button mat-fab color=\"accent\" class=\"quick-action-btn view-btn\" \n              (click)=\"viewProductHandler($event)\"\n              matTooltip=\"Quick View\" \n              matTooltipPosition=\"left\">\n        <i class=\"fas fa-eye\"></i>\n      </button>\n      <button mat-fab class=\"quick-action-btn compare-btn\" \n              [class.active]=\"(isInCompare$ | async)\"\n              (click)=\"compareProductHandler($event)\"\n              [matTooltip]=\"(isInCompare$ | async) ? 'Remove from compare' : 'Add to compare'\" \n              matTooltipPosition=\"left\">\n        <i class=\"fas fa-check-circle\" *ngIf=\"(isInCompare$ | async)\"></i>\n        <i class=\"fas fa-balance-scale\" *ngIf=\"!(isInCompare$ | async)\"></i>\n      </button>\n    </div>\n\n    <!-- Enhanced Image Navigation -->\n    <div class=\"image-navigation\" *ngIf=\"product?.images && (product.images?.length || 0) > 1 && showImageHoverControls\">\n      <button mat-mini-fab class=\"nav-btn prev-btn\" (click)=\"prevImage($event)\">\n        <i class=\"fas fa-chevron-left\"></i>\n      </button>\n      <button mat-mini-fab class=\"nav-btn next-btn\" (click)=\"nextImage($event)\">\n        <i class=\"fas fa-chevron-right\"></i>\n      </button>\n    </div>\n    \n    <!-- Modern Image Indicators -->\n    <div class=\"image-indicators\" *ngIf=\"product?.images && (product.images?.length || 0) > 1 && showImageIndicators\">\n      <button class=\"indicator-dot\" \n              *ngFor=\"let image of product.images; let i = index\"\n              [class.active]=\"i === currentImageIndex\"\n              (click)=\"setImage(i, $event)\"></button>\n    </div>\n\n    <!-- Enhanced Stock Indicator -->\n    <div class=\"stock-indicator\" *ngIf=\"showStockIndicator && product?.stockQuantity !== undefined && (product?.stockQuantity || 0) > 0 && (product?.stockQuantity || 0) <= 10\">\n      <div class=\"stock-bar\">\n        <div class=\"stock-fill\" [style.width.%]=\"((product.stockQuantity || 0) / 10) * 100\"></div>\n      </div>\n      <span class=\"stock-text\">\n        <i class=\"fas fa-box\"></i>\n        Only {{product.stockQuantity}} left\n      </span>\n    </div>\n  </div>\n\n  <!-- Modern Product Content -->\n  <div class=\"product-content\">\n    <!-- Brand and Category -->\n    <div class=\"product-meta\">\n      <span class=\"product-brand\" *ngIf=\"product?.brand\">\n        <i class=\"fas fa-tag\"></i>\n        {{product.brand}}\n      </span>\n      <span class=\"product-category\" *ngIf=\"product.category && product.category.name\">\n        <i class=\"fas fa-layer-group\"></i>\n        {{product.category.name}}\n      </span>\n    </div>\n\n    <!-- Product Name with Link -->\n    <a [routerLink]=\"['/products', product.id]\" class=\"product-name-link\">\n      <h3 class=\"product-name\" matTooltip=\"{{product.name}}\">{{product.name}}</h3>\n    </a>\n    \n    <!-- Enhanced Rating Display -->\n    <div class=\"product-rating\" *ngIf=\"showRating && product?.rating !== undefined && (product?.rating || 0) > 0\">\n      <div class=\"rating-stars\">\n        <div class=\"stars-container\">\n          <div class=\"stars-background\">\n            <i class=\"far fa-star\" *ngFor=\"let star of [1,2,3,4,5]\"></i>\n          </div>\n          <div class=\"stars-filled\" [style.width.%]=\"(product.rating || 0) * 20\">\n            <i class=\"fas fa-star\" *ngFor=\"let star of [1,2,3,4,5]\"></i>\n          </div>\n        </div>\n        <span class=\"rating-value\">{{product.rating | number:'1.1-1'}}</span>\n      </div>\n      <span class=\"review-count\" *ngIf=\"product.reviews?.length\">\n        ({{product.reviews.length}} reviews)\n      </span>\n    </div>\n\n    <!-- Short Description -->\n    <div class=\"product-description\" *ngIf=\"showShortDescription\">\n      <p>{{ product.description | truncate:80 }}</p>\n    </div>\n\n    <!-- Enhanced Price Container -->\n    <div class=\"product-price-container\">\n      <div class=\"price-row\">\n        <span class=\"current-price\">\n          <i class=\"fas fa-dollar-sign\"></i>\n          {{ (product.discountPrice || product.price || 0) | currency:currencySymbol:'symbol':'1.0-0' }}\n        </span>\n        <span class=\"regular-price\" *ngIf=\"product?.regularPrice && product?.price && (product?.regularPrice || 0) > (product?.price || 0)\">\n          {{product.regularPrice | currency:currencySymbol:'symbol':'1.0-0'}}\n        </span>\n      </div>\n      <div class=\"savings-row\" *ngIf=\"discountAmount !== null && discountAmount > 0\">\n        <span class=\"discount-amount\">\n          <i class=\"fas fa-piggy-bank\"></i>\n          Save {{discountAmount | currency:currencySymbol:'symbol':'1.0-0'}}\n        </span>\n      </div>\n      <p class=\"price-per-unit\" *ngIf=\"product?.unit && product?.unitQuantity && product?.price\">\n        {{(product.price / (product.unitQuantity || 1)) | currency:currencySymbol:'symbol':'1.2-2'}}/{{product.unit}}\n      </p>\n    </div>\n\n    <!-- Key Features -->\n    <div class=\"product-features\" *ngIf=\"showKeyFeatures && product?.keyFeatures && (product.keyFeatures?.length || 0) > 0\">\n      <div class=\"feature\" *ngFor=\"let feature of (product.keyFeatures?.slice(0, 2) || [])\">\n        <i class=\"fas fa-check-circle\"></i>\n        <span>{{feature}}</span>\n      </div>\n    </div>\n\n    <!-- Enhanced Shipping Info -->\n    <div class=\"shipping-info\" *ngIf=\"showShippingInfo\">\n      <div class=\"shipping-item\" *ngIf=\"product?.freeShipping\">\n        <i class=\"fas fa-shipping-fast\"></i>\n        <span>Free Shipping</span>\n      </div>\n      <div class=\"shipping-item\" *ngIf=\"product?.fastDelivery\">\n        <i class=\"fas fa-bolt\"></i>\n        <span>Fast Delivery</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modern Product Actions -->\n  <div class=\"product-actions\" [ngClass]=\"{'show-quantity': uiShowQuantitySelector}\">\n    <!-- Main Add to Cart Button -->\n    <div class=\"primary-action\">\n      <button mat-raised-button color=\"primary\" class=\"add-to-cart-btn\" \n              (click)=\"addToCartHandler($event)\" \n              [disabled]=\"(product.stockQuantity || 0) === 0 || addingToCart\">\n        <div class=\"btn-content\">\n          <i class=\"fas fa-shopping-cart\" *ngIf=\"!addingToCart\"></i>\n          <mat-progress-spinner *ngIf=\"addingToCart\" mode=\"indeterminate\" diameter=\"18\"></mat-progress-spinner>\n          <span *ngIf=\"!addingToCart\">Add to Cart</span>\n          <span *ngIf=\"addingToCart\">Adding...</span>\n        </div>\n      </button>\n    </div>\n\n    <!-- Quantity Controls -->\n    <div class=\"quantity-section\" *ngIf=\"uiShowQuantitySelector && (product?.stockQuantity || 0) > 0\">\n      <div class=\"quantity-controls\">\n        <button mat-icon-button class=\"qty-btn\" (click)=\"decrementQuantity($event)\" [disabled]=\"selectedQuantity === 1\">\n          <i class=\"fas fa-minus\"></i>\n        </button>\n        <input type=\"number\" class=\"quantity-input\" \n               [(ngModel)]=\"selectedQuantity\" \n               min=\"1\" [max]=\"product.stockQuantity || 1\" \n               (change)=\"onQuantityChange()\" \n               (click)=\"$event.stopPropagation()\">\n        <button mat-icon-button class=\"qty-btn\" (click)=\"incrementQuantity($event)\" [disabled]=\"selectedQuantity >= (product.stockQuantity || 1)\">\n          <i class=\"fas fa-plus\"></i>\n        </button>\n      </div>\n    </div>\n\n    <!-- Buy Now Button -->\n    <div class=\"secondary-action\">\n      <button mat-stroked-button color=\"accent\" class=\"buy-now-btn\" \n              (click)=\"buyNowHandler($event)\"\n              [disabled]=\"(product.stockQuantity || 0) === 0\">\n        <i class=\"fas fa-bolt\"></i>\n        <span>Buy Now</span>\n      </button>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}