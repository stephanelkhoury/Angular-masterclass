{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { Subject, combineLatest } from 'rxjs';\nimport { takeUntil, debounceTime, map } from 'rxjs/operators';\nimport * as ProductActions from '../../store/actions/product.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../core/services/product.service\";\nimport * as i4 from \"../../core/services/cart.service\";\nimport * as i5 from \"../../core/services/notification.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"../../shared/components/loading-spinner/loading-spinner.component\";\nimport * as i13 from \"./components/product-filters/product-filters.component\";\nimport * as i14 from \"./components/product-sort/product-sort.component\";\nimport * as i15 from \"./components/product-grid/product-grid.component\";\nimport * as i16 from \"./components/category-menu/category-menu.component\";\nfunction ProductsComponent_app_loading_spinner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-spinner\", 24);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"overlay\", true);\n  }\n}\nfunction ProductsComponent_button_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_button_30_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.searchControl.setValue(\"\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"close\");\n    i0.ɵɵelementEnd()();\n  }\n}\nclass ProductsComponent {\n  constructor(store, route, router, productService, cartService, notificationService) {\n    this.store = store;\n    this.route = route;\n    this.router = router;\n    this.productService = productService;\n    this.cartService = cartService;\n    this.notificationService = notificationService;\n    this.filters = {};\n    this.searchControl = new FormControl('');\n    this.viewMode = 'grid';\n    this.destroy$ = new Subject();\n    this.products$ = this.store.select(state => state.products.items);\n    this.categories$ = this.store.select(state => state.products.categories);\n    this.loading$ = this.store.select(state => state.products.loading);\n    // Create filtered products stream\n    this.filteredProducts$ = combineLatest([this.products$, this.route.queryParams.pipe(map(params => {\n      const filters = {};\n      if (params['category']) filters.category = params['category'];\n      if (params['minPrice']) filters.minPrice = Number(params['minPrice']);\n      if (params['maxPrice']) filters.maxPrice = Number(params['maxPrice']);\n      if (params['rating']) filters.rating = Number(params['rating']);\n      if (params['sort']) filters.sort = params['sort'];\n      if (params['search']) {\n        filters.search = params['search'];\n        this.searchControl.setValue(params['search']);\n      }\n      this.filters = filters;\n      return filters;\n    }))]).pipe(map(([products, filters]) => this.filterProducts(products, filters)));\n  }\n  ngOnInit() {\n    console.log('ProductsComponent: ngOnInit - dispatching actions');\n    // Dispatch actions to load products and categories\n    this.store.dispatch(ProductActions.loadProducts({}));\n    this.store.dispatch(ProductActions.loadCategories());\n    // Subscribe to products for debugging\n    this.products$.subscribe(products => {\n      console.log('ProductsComponent: products updated', products);\n    });\n    // Subscribe to loading state for debugging\n    this.loading$.subscribe(loading => {\n      console.log('ProductsComponent: loading state', loading);\n    });\n    // Handle search input with debounce\n    this.searchControl.valueChanges.pipe(debounceTime(300), takeUntil(this.destroy$)).subscribe(value => {\n      this.updateFilters({\n        search: value || undefined\n      });\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  onCategoryChange(categoryId) {\n    this.updateFilters({\n      category: categoryId || undefined\n    });\n  }\n  onPriceRangeChange(priceRange) {\n    this.updateFilters({\n      minPrice: priceRange.min,\n      maxPrice: priceRange.max\n    });\n  }\n  onRatingChange(rating) {\n    this.updateFilters({\n      rating: rating || undefined\n    });\n  }\n  onSortChange(sort) {\n    this.updateFilters({\n      sort\n    });\n  }\n  onViewModeChange(mode) {\n    this.viewMode = mode;\n  }\n  onAddToCart(product) {\n    this.cartService.addToCart(product);\n    this.notificationService.show(`${product.name} added to cart`);\n  }\n  onAddToWishlist(product) {\n    // This would dispatch the appropriate action for the wishlist\n    this.notificationService.show(`${product.name} added to wishlist`);\n  }\n  onViewDetails(product) {\n    this.router.navigate(['/products', product.id]);\n  }\n  resetFilters() {\n    this.searchControl.setValue('');\n    this.updateFilters({\n      category: undefined,\n      minPrice: undefined,\n      maxPrice: undefined,\n      rating: undefined,\n      sort: undefined,\n      search: undefined\n    });\n  }\n  updateFilters(newFilters) {\n    const updatedFilters = {\n      ...this.filters,\n      ...newFilters\n    };\n    // Remove undefined values\n    Object.keys(updatedFilters).forEach(key => {\n      if (updatedFilters[key] === undefined) {\n        delete updatedFilters[key];\n      }\n    });\n    // Navigate with new query params\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: {\n        ...updatedFilters\n      },\n      queryParamsHandling: 'merge'\n    });\n  }\n  filterProducts(products, filters) {\n    if (!filters || Object.keys(filters).length === 0) {\n      return products;\n    }\n    let filtered = [...products];\n    // Filter by category\n    if (filters.category) {\n      filtered = filtered.filter(product => product.category?.id === filters.category);\n    }\n    // Filter by price range\n    if (filters.minPrice !== undefined) {\n      filtered = filtered.filter(product => product.price >= filters.minPrice);\n    }\n    if (filters.maxPrice !== undefined) {\n      filtered = filtered.filter(product => product.price <= filters.maxPrice);\n    }\n    // Filter by rating\n    if (filters.rating !== undefined) {\n      filtered = filtered.filter(product => (product.rating || 0) >= filters.rating);\n    }\n    // Filter by search term\n    if (filters.search) {\n      const searchTerm = filters.search.toLowerCase();\n      filtered = filtered.filter(product => product.name.toLowerCase().includes(searchTerm) || product.description.toLowerCase().includes(searchTerm) || product.category?.name.toLowerCase().includes(searchTerm));\n    }\n    // Sort products\n    if (filters.sort) {\n      switch (filters.sort) {\n        case 'price-low':\n          filtered.sort((a, b) => a.price - b.price);\n          break;\n        case 'price-high':\n          filtered.sort((a, b) => b.price - a.price);\n          break;\n        case 'rating':\n          filtered.sort((a, b) => (b.rating || 0) - (a.rating || 0));\n          break;\n        case 'newest':\n          filtered.sort((a, b) => {\n            const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n            const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n            return dateB - dateA;\n          });\n          break;\n        case 'popularity':\n          filtered.sort((a, b) => (b.reviews?.length || 0) - (a.reviews?.length || 0));\n          break;\n      }\n    }\n    return filtered;\n  }\n  testApiCall() {\n    console.log('Manual test: Calling ProductService.getProducts directly');\n    this.productService.getProducts({}).subscribe({\n      next: response => {\n        console.log('Manual test: Direct API call successful:', response);\n      },\n      error: error => {\n        console.error('Manual test: Direct API call failed:', error);\n      }\n    });\n    console.log('Manual test: Calling ProductService.getCategories directly');\n    this.productService.getCategories().subscribe({\n      next: categories => {\n        console.log('Manual test: Direct categories call successful:', categories);\n      },\n      error: error => {\n        console.error('Manual test: Direct categories call failed:', error);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ProductsComponent_Factory(t) {\n      return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i4.CartService), i0.ɵɵdirectiveInject(i5.NotificationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductsComponent,\n      selectors: [[\"app-products\"]],\n      decls: 56,\n      vars: 33,\n      consts: [[1, \"products-page\"], [3, \"overlay\", 4, \"ngIf\"], [1, \"container\"], [2, \"background\", \"#f0f0f0\", \"padding\", \"10px\", \"margin\", \"10px 0\", \"border-radius\", \"5px\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin-top\", \"10px\", 3, \"click\"], [1, \"page-header\"], [1, \"page-title\"], [1, \"search-container\"], [\"appearance\", \"outline\", 1, \"search-field\"], [\"matInput\", \"\", \"placeholder\", \"Search by name, category or description\", 3, \"formControl\"], [\"matSuffix\", \"\", \"mat-icon-button\", \"\", \"aria-label\", \"Clear\", 3, \"click\", 4, \"ngIf\"], [\"matSuffix\", \"\"], [1, \"products-layout\"], [1, \"filters-sidebar\"], [3, \"categories\", \"selectedCategory\", \"categorySelected\"], [3, \"minPrice\", \"maxPrice\", \"rating\", \"priceRangeChanged\", \"ratingChanged\"], [1, \"reset-filters\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"products-content\"], [1, \"products-toolbar\"], [3, \"currentSort\", \"sortChanged\"], [1, \"view-options\"], [\"mat-icon-button\", \"\", 3, \"click\"], [3, \"products\", \"viewMode\", \"addToCart\", \"addToWishlist\", \"viewDetails\"], [3, \"overlay\"], [\"matSuffix\", \"\", \"mat-icon-button\", \"\", \"aria-label\", \"Clear\", 3, \"click\"]],\n      template: function ProductsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, ProductsComponent_app_loading_spinner_1_Template, 1, 1, \"app-loading-spinner\", 1);\n          i0.ɵɵpipe(2, \"async\");\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"strong\");\n          i0.ɵɵtext(6, \"Debug Info:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"br\");\n          i0.ɵɵtext(8);\n          i0.ɵɵpipe(9, \"async\");\n          i0.ɵɵelement(10, \"br\");\n          i0.ɵɵtext(11);\n          i0.ɵɵpipe(12, \"async\");\n          i0.ɵɵelement(13, \"br\");\n          i0.ɵɵtext(14);\n          i0.ɵɵpipe(15, \"async\");\n          i0.ɵɵelement(16, \"br\");\n          i0.ɵɵtext(17);\n          i0.ɵɵpipe(18, \"async\");\n          i0.ɵɵelement(19, \"br\");\n          i0.ɵɵelementStart(20, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_20_listener() {\n            return ctx.testApiCall();\n          });\n          i0.ɵɵtext(21, \" Test Direct API Call \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 5)(23, \"h1\", 6);\n          i0.ɵɵtext(24, \"Shop Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 7)(26, \"mat-form-field\", 8)(27, \"mat-label\");\n          i0.ɵɵtext(28, \"Search products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(29, \"input\", 9);\n          i0.ɵɵtemplate(30, ProductsComponent_button_30_Template, 3, 0, \"button\", 10);\n          i0.ɵɵelementStart(31, \"mat-icon\", 11);\n          i0.ɵɵtext(32, \"search\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(33, \"div\", 12)(34, \"aside\", 13)(35, \"app-category-menu\", 14);\n          i0.ɵɵlistener(\"categorySelected\", function ProductsComponent_Template_app_category_menu_categorySelected_35_listener($event) {\n            return ctx.onCategoryChange($event);\n          });\n          i0.ɵɵpipe(36, \"async\");\n          i0.ɵɵtext(37, \"> \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"app-product-filters\", 15);\n          i0.ɵɵlistener(\"priceRangeChanged\", function ProductsComponent_Template_app_product_filters_priceRangeChanged_38_listener($event) {\n            return ctx.onPriceRangeChange($event);\n          })(\"ratingChanged\", function ProductsComponent_Template_app_product_filters_ratingChanged_38_listener($event) {\n            return ctx.onRatingChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"div\", 16)(40, \"button\", 17);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_40_listener() {\n            return ctx.resetFilters();\n          });\n          i0.ɵɵelementStart(41, \"mat-icon\");\n          i0.ɵɵtext(42, \"refresh\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(43, \" Reset Filters \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(44, \"div\", 18)(45, \"div\", 19)(46, \"app-product-sort\", 20);\n          i0.ɵɵlistener(\"sortChanged\", function ProductsComponent_Template_app_product_sort_sortChanged_46_listener($event) {\n            return ctx.onSortChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"div\", 21)(48, \"button\", 22);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_48_listener() {\n            return ctx.onViewModeChange(\"grid\");\n          });\n          i0.ɵɵelementStart(49, \"mat-icon\");\n          i0.ɵɵtext(50, \"grid_view\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(51, \"button\", 22);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_51_listener() {\n            return ctx.onViewModeChange(\"list\");\n          });\n          i0.ɵɵelementStart(52, \"mat-icon\");\n          i0.ɵɵtext(53, \"view_list\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(54, \"app-product-grid\", 23);\n          i0.ɵɵlistener(\"addToCart\", function ProductsComponent_Template_app_product_grid_addToCart_54_listener($event) {\n            return ctx.onAddToCart($event);\n          })(\"addToWishlist\", function ProductsComponent_Template_app_product_grid_addToWishlist_54_listener($event) {\n            return ctx.onAddToWishlist($event);\n          })(\"viewDetails\", function ProductsComponent_Template_app_product_grid_viewDetails_54_listener($event) {\n            return ctx.onViewDetails($event);\n          });\n          i0.ɵɵpipe(55, \"async\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          let tmp_3_0;\n          let tmp_4_0;\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 19, ctx.loading$));\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate1(\" Loading: \", i0.ɵɵpipeBind1(9, 21, ctx.loading$), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" Products count: \", ((tmp_2_0 = i0.ɵɵpipeBind1(12, 23, ctx.products$)) == null ? null : tmp_2_0.length) || 0, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" Filtered products count: \", ((tmp_3_0 = i0.ɵɵpipeBind1(15, 25, ctx.filteredProducts$)) == null ? null : tmp_3_0.length) || 0, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" Categories count: \", ((tmp_4_0 = i0.ɵɵpipeBind1(18, 27, ctx.categories$)) == null ? null : tmp_4_0.length) || 0, \"\");\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"formControl\", ctx.searchControl);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.searchControl.value);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"categories\", i0.ɵɵpipeBind1(36, 29, ctx.categories$))(\"selectedCategory\", ctx.filters.category || null);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"minPrice\", ctx.filters.minPrice || 0)(\"maxPrice\", ctx.filters.maxPrice || 1000)(\"rating\", ctx.filters.rating || 0);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"currentSort\", ctx.filters.sort || \"name\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", ctx.viewMode === \"grid\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵclassProp(\"active\", ctx.viewMode === \"list\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"products\", i0.ɵɵpipeBind1(55, 31, ctx.filteredProducts$))(\"viewMode\", ctx.viewMode);\n        }\n      },\n      dependencies: [i6.NgIf, i7.DefaultValueAccessor, i7.NgControlStatus, i7.FormControlDirective, i8.MatButton, i8.MatIconButton, i9.MatIcon, i10.MatInput, i11.MatFormField, i11.MatLabel, i11.MatSuffix, i12.LoadingSpinnerComponent, i13.ProductFiltersComponent, i14.ProductSortComponent, i15.ProductGridComponent, i16.CategoryMenuComponent, i6.AsyncPipe],\n      styles: [\".products-container[_ngcontent-%COMP%] {\\n  padding: var(--spacing-lg) 0;\\n  min-height: 80vh;\\n}\\n\\n.products-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: var(--spacing-xl);\\n  flex-wrap: wrap;\\n  gap: var(--spacing-md);\\n}\\n\\n.products-title[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  font-weight: 700;\\n  color: var(--text-primary);\\n  margin: 0;\\n}\\n\\n.products-controls[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: var(--spacing-md);\\n  align-items: center;\\n  flex-wrap: wrap;\\n}\\n\\n.filter-controls[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: var(--spacing-sm);\\n  align-items: center;\\n}\\n\\n.sort-select[_ngcontent-%COMP%] {\\n  min-width: 200px;\\n}\\n\\n.view-toggle[_ngcontent-%COMP%] {\\n  display: flex;\\n  border: 1px solid var(--border-color);\\n  border-radius: var(--radius-md);\\n  overflow: hidden;\\n}\\n.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  padding: var(--spacing-sm) var(--spacing-md);\\n  border: none;\\n  background: var(--bg-primary);\\n  color: var(--text-secondary);\\n  cursor: pointer;\\n  transition: all var(--transition-fast);\\n}\\n.view-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%] {\\n  background: var(--primary-color);\\n  color: white;\\n}\\n.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active) {\\n  background: var(--bg-secondary);\\n}\\n\\n.products-content[_ngcontent-%COMP%] {\\n  display: grid;\\n  gap: var(--spacing-xl);\\n  grid-template-columns: 250px 1fr;\\n}\\n@media (max-width: 992px) {\\n  .products-content[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n    gap: var(--spacing-lg);\\n  }\\n}\\n\\n.filters-sidebar[_ngcontent-%COMP%] {\\n  background: var(--bg-primary);\\n  border-radius: var(--radius-lg);\\n  padding: var(--spacing-lg);\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  box-shadow: var(--shadow-sm);\\n}\\n@media (max-width: 992px) {\\n  .filters-sidebar[_ngcontent-%COMP%] {\\n    order: 2;\\n  }\\n}\\n\\n@media (max-width: 992px) {\\n  .products-main[_ngcontent-%COMP%] {\\n    order: 1;\\n  }\\n}\\n\\n.products-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  gap: var(--spacing-lg);\\n}\\n.products-grid.grid-view[_ngcontent-%COMP%] {\\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\\n}\\n.products-grid.list-view[_ngcontent-%COMP%] {\\n  grid-template-columns: 1fr;\\n}\\n@media (max-width: 768px) {\\n  .products-grid[_ngcontent-%COMP%] {\\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\\n    gap: var(--spacing-md);\\n  }\\n}\\n@media (max-width: 480px) {\\n  .products-grid[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n}\\n\\n.no-products[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: var(--spacing-2xl);\\n}\\n.no-products[_ngcontent-%COMP%]   .no-products-icon[_ngcontent-%COMP%] {\\n  font-size: 4rem;\\n  color: var(--text-muted);\\n  margin-bottom: var(--spacing-lg);\\n}\\n.no-products[_ngcontent-%COMP%]   .no-products-title[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  color: var(--text-primary);\\n  margin-bottom: var(--spacing-md);\\n}\\n.no-products[_ngcontent-%COMP%]   .no-products-description[_ngcontent-%COMP%] {\\n  color: var(--text-secondary);\\n  margin-bottom: var(--spacing-lg);\\n}\\n\\n.pagination-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  margin-top: var(--spacing-xl);\\n}\\n\\n.loading-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 400px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvcHJvZHVjdHMvcHJvZHVjdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSw0QkFBQTtFQUNBLGdCQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxtQkFBQTtFQUNBLGdDQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0FBQUY7O0FBR0E7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsMEJBQUE7RUFDQSxTQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7QUFBRjs7QUFHQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FBQUY7O0FBR0E7RUFDRSxnQkFBQTtBQUFGOztBQUdBO0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0EsK0JBQUE7RUFDQSxnQkFBQTtBQUFGO0FBRUU7RUFDRSw0Q0FBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtFQUNBLDRCQUFBO0VBQ0EsZUFBQTtFQUNBLHNDQUFBO0FBQUo7QUFFSTtFQUNFLGdDQUFBO0VBQ0EsWUFBQTtBQUFOO0FBR0k7RUFDRSwrQkFBQTtBQUROOztBQU1BO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0NBQUE7QUFIRjtBQUtFO0VBTEY7SUFNSSwwQkFBQTtJQUNBLHNCQUFBO0VBRkY7QUFDRjs7QUFLQTtFQUNFLDZCQUFBO0VBQ0EsK0JBQUE7RUFDQSwwQkFBQTtFQUNBLHdCQUFBO0VBQUEsbUJBQUE7RUFDQSw0QkFBQTtBQUZGO0FBSUU7RUFQRjtJQVFJLFFBQUE7RUFERjtBQUNGOztBQUtFO0VBREY7SUFFSSxRQUFBO0VBREY7QUFDRjs7QUFJQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtBQURGO0FBR0U7RUFDRSw0REFBQTtBQURKO0FBSUU7RUFDRSwwQkFBQTtBQUZKO0FBS0U7RUFaRjtJQWFJLDREQUFBO0lBQ0Esc0JBQUE7RUFGRjtBQUNGO0FBSUU7RUFqQkY7SUFrQkksMEJBQUE7RUFERjtBQUNGOztBQUlBO0VBQ0Usa0JBQUE7RUFDQSwyQkFBQTtBQURGO0FBR0U7RUFDRSxlQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQ0FBQTtBQURKO0FBSUU7RUFDRSxpQkFBQTtFQUNBLDBCQUFBO0VBQ0EsZ0NBQUE7QUFGSjtBQUtFO0VBQ0UsNEJBQUE7RUFDQSxnQ0FBQTtBQUhKOztBQU9BO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsNkJBQUE7QUFKRjs7QUFPQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUFKRjs7QUFPQTtFQUNFO0lBQ0UseUJBQUE7RUFKRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kZXJuIFByb2R1Y3RzIENvbXBvbmVudCBTdHlsZXNcbi5wcm9kdWN0cy1jb250YWluZXIge1xuICBwYWRkaW5nOiB2YXIoLS1zcGFjaW5nLWxnKSAwO1xuICBtaW4taGVpZ2h0OiA4MHZoO1xufVxuXG4ucHJvZHVjdHMtaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiB2YXIoLS1zcGFjaW5nLXhsKTtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBnYXA6IHZhcigtLXNwYWNpbmctbWQpO1xufVxuXG4ucHJvZHVjdHMtdGl0bGUge1xuICBmb250LXNpemU6IDIuNXJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gIG1hcmdpbjogMDtcbn1cblxuLnByb2R1Y3RzLWNvbnRyb2xzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiB2YXIoLS1zcGFjaW5nLW1kKTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC13cmFwOiB3cmFwO1xufVxuXG4uZmlsdGVyLWNvbnRyb2xzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiB2YXIoLS1zcGFjaW5nLXNtKTtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLnNvcnQtc2VsZWN0IHtcbiAgbWluLXdpZHRoOiAyMDBweDtcbn1cblxuLnZpZXctdG9nZ2xlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLW1kKTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgXG4gIGJ1dHRvbiB7XG4gICAgcGFkZGluZzogdmFyKC0tc3BhY2luZy1zbSkgdmFyKC0tc3BhY2luZy1tZCk7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbCB2YXIoLS10cmFuc2l0aW9uLWZhc3QpO1xuICAgIFxuICAgICYuYWN0aXZlIHtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH1cbiAgICBcbiAgICAmOmhvdmVyOm5vdCguYWN0aXZlKSB7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1zZWNvbmRhcnkpO1xuICAgIH1cbiAgfVxufVxuXG4ucHJvZHVjdHMtY29udGVudCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdhcDogdmFyKC0tc3BhY2luZy14bCk7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMjUwcHggMWZyO1xuICBcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgZ2FwOiB2YXIoLS1zcGFjaW5nLWxnKTtcbiAgfVxufVxuXG4uZmlsdGVycy1zaWRlYmFyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy1sZyk7XG4gIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctbGcpO1xuICBoZWlnaHQ6IGZpdC1jb250ZW50O1xuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctc20pO1xuICBcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7XG4gICAgb3JkZXI6IDI7XG4gIH1cbn1cblxuLnByb2R1Y3RzLW1haW4ge1xuICBAbWVkaWEgKG1heC13aWR0aDogOTkycHgpIHtcbiAgICBvcmRlcjogMTtcbiAgfVxufVxuXG4ucHJvZHVjdHMtZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdhcDogdmFyKC0tc3BhY2luZy1sZyk7XG4gIFxuICAmLmdyaWQtdmlldyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjgwcHgsIDFmcikpO1xuICB9XG4gIFxuICAmLmxpc3QtdmlldyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gIH1cbiAgXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI1MHB4LCAxZnIpKTtcbiAgICBnYXA6IHZhcigtLXNwYWNpbmctbWQpO1xuICB9XG4gIFxuICBAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgfVxufVxuXG4ubm8tcHJvZHVjdHMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IHZhcigtLXNwYWNpbmctMnhsKTtcbiAgXG4gIC5uby1wcm9kdWN0cy1pY29uIHtcbiAgICBmb250LXNpemU6IDRyZW07XG4gICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpO1xuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbGcpO1xuICB9XG4gIFxuICAubm8tcHJvZHVjdHMtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LXByaW1hcnkpO1xuICAgIG1hcmdpbi1ib3R0b206IHZhcigtLXNwYWNpbmctbWQpO1xuICB9XG4gIFxuICAubm8tcHJvZHVjdHMtZGVzY3JpcHRpb24ge1xuICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7XG4gICAgbWFyZ2luLWJvdHRvbTogdmFyKC0tc3BhY2luZy1sZyk7XG4gIH1cbn1cblxuLnBhZ2luYXRpb24tY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IHZhcigtLXNwYWNpbmcteGwpO1xufVxuXG4ubG9hZGluZy1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgbWluLWhlaWdodDogNDAwcHg7XG59XG5cbkBrZXlmcmFtZXMgc3BpbiB7XG4gIHRvIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}\nexport { ProductsComponent };","map":{"version":3,"names":["FormControl","Subject","combineLatest","takeUntil","debounceTime","map","ProductActions","i0","ɵɵelement","ɵɵproperty","ɵɵelementStart","ɵɵlistener","ProductsComponent_button_30_Template_button_click_0_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","searchControl","setValue","ɵɵtext","ɵɵelementEnd","ProductsComponent","constructor","store","route","router","productService","cartService","notificationService","filters","viewMode","destroy$","products$","select","state","products","items","categories$","categories","loading$","loading","filteredProducts$","queryParams","pipe","params","category","minPrice","Number","maxPrice","rating","sort","search","filterProducts","ngOnInit","console","log","dispatch","loadProducts","loadCategories","subscribe","valueChanges","value","updateFilters","undefined","ngOnDestroy","next","complete","onCategoryChange","categoryId","onPriceRangeChange","priceRange","min","max","onRatingChange","onSortChange","onViewModeChange","mode","onAddToCart","product","addToCart","show","name","onAddToWishlist","onViewDetails","navigate","id","resetFilters","newFilters","updatedFilters","Object","keys","forEach","key","relativeTo","queryParamsHandling","length","filtered","filter","price","searchTerm","toLowerCase","includes","description","a","b","dateA","createdAt","Date","getTime","dateB","reviews","testApiCall","getProducts","response","error","getCategories","ɵɵdirectiveInject","i1","Store","i2","ActivatedRoute","Router","i3","ProductService","i4","CartService","i5","NotificationService","selectors","decls","vars","consts","template","ProductsComponent_Template","rf","ctx","ɵɵtemplate","ProductsComponent_app_loading_spinner_1_Template","ProductsComponent_Template_button_click_20_listener","ProductsComponent_button_30_Template","ProductsComponent_Template_app_category_menu_categorySelected_35_listener","$event","ProductsComponent_Template_app_product_filters_priceRangeChanged_38_listener","ProductsComponent_Template_app_product_filters_ratingChanged_38_listener","ProductsComponent_Template_button_click_40_listener","ProductsComponent_Template_app_product_sort_sortChanged_46_listener","ProductsComponent_Template_button_click_48_listener","ProductsComponent_Template_button_click_51_listener","ProductsComponent_Template_app_product_grid_addToCart_54_listener","ProductsComponent_Template_app_product_grid_addToWishlist_54_listener","ProductsComponent_Template_app_product_grid_viewDetails_54_listener","ɵɵadvance","ɵɵpipeBind1","ɵɵtextInterpolate1","tmp_2_0","tmp_3_0","tmp_4_0","ɵɵclassProp"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/features/products/products.component.ts","/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/features/products/products.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormControl } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { Observable, Subject, combineLatest } from 'rxjs';\nimport { takeUntil, debounceTime, map } from 'rxjs/operators';\n\nimport { AppState } from '../../store';\nimport { Product, Category } from '../../core/models/product.model';\nimport { ProductService } from '../../core/services/product.service';\nimport { CartService } from '../../core/services/cart.service';\nimport { NotificationService } from '../../core/services/notification.service';\nimport * as ProductActions from '../../store/actions/product.actions';\n\ninterface ProductFilters {\n  [key: string]: string | number | undefined;\n  category?: string;\n  minPrice?: number;\n  maxPrice?: number;\n  rating?: number;\n  sort?: string;\n  search?: string;\n}\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss']\n})\nexport class ProductsComponent implements OnInit, OnDestroy {\n  products$: Observable<Product[]>;\n  categories$: Observable<Category[]>;\n  filteredProducts$: Observable<Product[]>;\n  loading$: Observable<boolean>;\n  \n  filters: ProductFilters = {};\n  searchControl = new FormControl('');\n  \n  viewMode: 'grid' | 'list' = 'grid';\n  \n  private destroy$ = new Subject<void>();\n  \n  constructor(\n    private store: Store<AppState>,\n    private route: ActivatedRoute,\n    private router: Router,\n    private productService: ProductService,\n    private cartService: CartService,\n    private notificationService: NotificationService\n  ) {\n    this.products$ = this.store.select(state => state.products.items);\n    this.categories$ = this.store.select(state => state.products.categories);\n    this.loading$ = this.store.select(state => state.products.loading);\n    \n    // Create filtered products stream\n    this.filteredProducts$ = combineLatest([\n      this.products$,\n      this.route.queryParams.pipe(map(params => {\n        const filters: ProductFilters = {};\n        \n        if (params['category']) filters.category = params['category'];\n        if (params['minPrice']) filters.minPrice = Number(params['minPrice']);\n        if (params['maxPrice']) filters.maxPrice = Number(params['maxPrice']);\n        if (params['rating']) filters.rating = Number(params['rating']);\n        if (params['sort']) filters.sort = params['sort'];\n        if (params['search']) {\n          filters.search = params['search'];\n          this.searchControl.setValue(params['search']);\n        }\n        \n        this.filters = filters;\n        return filters;\n      }))\n    ]).pipe(\n      map(([products, filters]) => this.filterProducts(products, filters))\n    );\n  }\n  \n  ngOnInit(): void {\n    console.log('ProductsComponent: ngOnInit - dispatching actions');\n    // Dispatch actions to load products and categories\n    this.store.dispatch(ProductActions.loadProducts({}));\n    this.store.dispatch(ProductActions.loadCategories());\n    \n    // Subscribe to products for debugging\n    this.products$.subscribe(products => {\n      console.log('ProductsComponent: products updated', products);\n    });\n    \n    // Subscribe to loading state for debugging\n    this.loading$.subscribe(loading => {\n      console.log('ProductsComponent: loading state', loading);\n    });\n    \n    // Handle search input with debounce\n    this.searchControl.valueChanges.pipe(\n      debounceTime(300),\n      takeUntil(this.destroy$)\n    ).subscribe(value => {\n      this.updateFilters({ search: value || undefined });\n    });\n  }\n  \n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  \n  onCategoryChange(categoryId: string | null): void {\n    this.updateFilters({ category: categoryId || undefined });\n  }\n  \n  onPriceRangeChange(priceRange: { min: number, max: number }): void {\n    this.updateFilters({\n      minPrice: priceRange.min,\n      maxPrice: priceRange.max\n    });\n  }\n  \n  onRatingChange(rating: number | null): void {\n    this.updateFilters({ rating: rating || undefined });\n  }\n  \n  onSortChange(sort: string): void {\n    this.updateFilters({ sort });\n  }\n  \n  onViewModeChange(mode: 'grid' | 'list'): void {\n    this.viewMode = mode;\n  }\n  \n  onAddToCart(product: Product): void {\n    this.cartService.addToCart(product);\n    this.notificationService.show(`${product.name} added to cart`);\n  }\n  \n  onAddToWishlist(product: Product): void {\n    // This would dispatch the appropriate action for the wishlist\n    this.notificationService.show(`${product.name} added to wishlist`);\n  }\n  \n  onViewDetails(product: Product): void {\n    this.router.navigate(['/products', product.id]);\n  }\n  \n  resetFilters(): void {\n    this.searchControl.setValue('');\n    this.updateFilters({\n      category: undefined,\n      minPrice: undefined,\n      maxPrice: undefined,\n      rating: undefined,\n      sort: undefined,\n      search: undefined\n    });\n  }\n  \n  private updateFilters(newFilters: Partial<ProductFilters>): void {\n    const updatedFilters = { ...this.filters, ...newFilters };\n    \n    // Remove undefined values\n    Object.keys(updatedFilters).forEach(key => {\n      if (updatedFilters[key] === undefined) {\n        delete updatedFilters[key];\n      }\n    });\n    \n    // Navigate with new query params\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { ...updatedFilters },\n      queryParamsHandling: 'merge'\n    });\n  }\n  \n  private filterProducts(products: Product[], filters: ProductFilters): Product[] {\n    if (!filters || Object.keys(filters).length === 0) {\n      return products;\n    }\n    \n    let filtered = [...products];\n    \n    // Filter by category\n    if (filters.category) {\n      filtered = filtered.filter(product => product.category?.id === filters.category);\n    }\n    \n    // Filter by price range\n    if (filters.minPrice !== undefined) {\n      filtered = filtered.filter(product => product.price >= filters.minPrice!);\n    }\n    \n    if (filters.maxPrice !== undefined) {\n      filtered = filtered.filter(product => product.price <= filters.maxPrice!);\n    }\n    \n    // Filter by rating\n    if (filters.rating !== undefined) {\n      filtered = filtered.filter(product => (product.rating || 0) >= filters.rating!);\n    }\n    \n    // Filter by search term\n    if (filters.search) {\n      const searchTerm = filters.search.toLowerCase();\n      filtered = filtered.filter(product => \n        product.name.toLowerCase().includes(searchTerm) || \n        product.description.toLowerCase().includes(searchTerm) ||\n        product.category?.name.toLowerCase().includes(searchTerm)\n      );\n    }\n    \n    // Sort products\n    if (filters.sort) {\n      switch (filters.sort) {\n        case 'price-low':\n          filtered.sort((a, b) => a.price - b.price);\n          break;\n        case 'price-high':\n          filtered.sort((a, b) => b.price - a.price);\n          break;\n        case 'rating':\n          filtered.sort((a, b) => (b.rating || 0) - (a.rating || 0));\n          break;\n        case 'newest':\n          filtered.sort((a, b) => {\n            const dateA = a.createdAt ? new Date(a.createdAt).getTime() : 0;\n            const dateB = b.createdAt ? new Date(b.createdAt).getTime() : 0;\n            return dateB - dateA;\n          });\n          break;\n        case 'popularity':\n          filtered.sort((a, b) => (b.reviews?.length || 0) - (a.reviews?.length || 0));\n          break;\n      }\n    }\n    \n    return filtered;\n  }\n  \n  testApiCall(): void {\n    console.log('Manual test: Calling ProductService.getProducts directly');\n    this.productService.getProducts({}).subscribe({\n      next: (response) => {\n        console.log('Manual test: Direct API call successful:', response);\n      },\n      error: (error) => {\n        console.error('Manual test: Direct API call failed:', error);\n      }\n    });\n    \n    console.log('Manual test: Calling ProductService.getCategories directly');\n    this.productService.getCategories().subscribe({\n      next: (categories) => {\n        console.log('Manual test: Direct categories call successful:', categories);\n      },\n      error: (error) => {\n        console.error('Manual test: Direct categories call failed:', error);\n      }\n    });\n  }\n}\n","<div class=\"products-page\">\n  <!-- Loading Spinner -->\n  <app-loading-spinner *ngIf=\"loading$ | async\" [overlay]=\"true\"></app-loading-spinner>\n  \n  <div class=\"container\">\n    <!-- Debug Info -->\n    <div style=\"background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px;\">\n      <strong>Debug Info:</strong><br>\n      Loading: {{ (loading$ | async) }}<br>\n      Products count: {{ (products$ | async)?.length || 0 }}<br>\n      Filtered products count: {{ (filteredProducts$ | async)?.length || 0 }}<br>\n      Categories count: {{ (categories$ | async)?.length || 0 }}<br>\n      <button mat-raised-button color=\"primary\" (click)=\"testApiCall()\" style=\"margin-top: 10px;\">\n        Test Direct API Call\n      </button>\n    </div>\n    \n    <!-- Page Header -->\n    <div class=\"page-header\">\n      <h1 class=\"page-title\">Shop Products</h1>\n      \n      <!-- Search Bar -->\n      <div class=\"search-container\">\n        <mat-form-field appearance=\"outline\" class=\"search-field\">\n          <mat-label>Search products</mat-label>\n          <input matInput [formControl]=\"searchControl\" placeholder=\"Search by name, category or description\">\n          <button *ngIf=\"searchControl.value\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"searchControl.setValue('')\">\n            <mat-icon>close</mat-icon>\n          </button>\n          <mat-icon matSuffix>search</mat-icon>\n        </mat-form-field>\n      </div>\n    </div>\n    \n    <div class=\"products-layout\">\n      <!-- Sidebar / Filters -->\n      <aside class=\"filters-sidebar\">\n        <!-- Category Menu -->\n        <app-category-menu \n          [categories]=\"categories$ | async\" \n          [selectedCategory]=\"filters.category || null\"\n          (categorySelected)=\"onCategoryChange($any($event))\">>\n        </app-category-menu>\n        \n        <!-- Product Filters -->\n        <app-product-filters\n          [minPrice]=\"filters.minPrice || 0\"\n          [maxPrice]=\"filters.maxPrice || 1000\"\n          [rating]=\"filters.rating || 0\"\n          (priceRangeChanged)=\"onPriceRangeChange($event)\"\n          (ratingChanged)=\"onRatingChange($event)\">\n        </app-product-filters>\n        \n        <!-- Reset Filters Button -->\n        <div class=\"reset-filters\">\n          <button mat-stroked-button color=\"primary\" (click)=\"resetFilters()\">\n            <mat-icon>refresh</mat-icon>\n            Reset Filters\n          </button>\n        </div>\n      </aside>\n      \n      <!-- Products Content -->\n      <div class=\"products-content\">\n        <!-- Toolbar with sort and view options -->\n        <div class=\"products-toolbar\">\n          <app-product-sort \n            [currentSort]=\"filters.sort || 'name'\"\n            (sortChanged)=\"onSortChange($event)\">\n          </app-product-sort>\n          \n          <div class=\"view-options\">\n            <button mat-icon-button [class.active]=\"viewMode === 'grid'\" (click)=\"onViewModeChange('grid')\">\n              <mat-icon>grid_view</mat-icon>\n            </button>\n            <button mat-icon-button [class.active]=\"viewMode === 'list'\" (click)=\"onViewModeChange('list')\">\n              <mat-icon>view_list</mat-icon>\n            </button>\n          </div>\n        </div>\n        \n        <!-- Products Grid -->\n        <app-product-grid\n          [products]=\"filteredProducts$ | async\"\n          [viewMode]=\"viewMode\"\n          (addToCart)=\"onAddToCart($event)\"\n          (addToWishlist)=\"onAddToWishlist($event)\"\n          (viewDetails)=\"onViewDetails($event)\">\n        </app-product-grid>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}