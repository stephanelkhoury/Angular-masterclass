{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction AddReviewComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AddReviewComponent_button_8_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const star_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.setRating(star_r1));\n    });\n    i0.ɵɵtext(1, \" \\u2605 \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r0.rating >= star_r1);\n  }\n}\nconst _c0 = function () {\n  return [1, 2, 3, 4, 5];\n};\nlet AddReviewComponent = /*#__PURE__*/(() => {\n  class AddReviewComponent {\n    constructor(fb) {\n      this.fb = fb;\n      this.reviewSubmitted = new EventEmitter();\n      this.rating = 0;\n      this.reviewForm = this.fb.group({\n        title: ['', Validators.required],\n        content: ['', [Validators.required, Validators.minLength(10)]],\n        rating: [0, [Validators.required, Validators.min(1)]]\n      });\n    }\n    setRating(star) {\n      this.rating = star;\n      this.reviewForm.patchValue({\n        rating: star\n      });\n    }\n    onSubmit() {\n      if (this.reviewForm.valid) {\n        const review = {\n          id: '',\n          productId: this.productId,\n          userId: '',\n          userName: 'Anonymous User',\n          rating: this.reviewForm.value.rating,\n          title: this.reviewForm.value.title,\n          comment: this.reviewForm.value.content,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        };\n        this.reviewSubmitted.emit(review);\n        this.reviewForm.reset();\n        this.rating = 0;\n      }\n    }\n    static {\n      this.ɵfac = function AddReviewComponent_Factory(t) {\n        return new (t || AddReviewComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AddReviewComponent,\n        selectors: [[\"app-add-review\"]],\n        inputs: {\n          productId: \"productId\"\n        },\n        outputs: {\n          reviewSubmitted: \"reviewSubmitted\"\n        },\n        decls: 19,\n        vars: 4,\n        consts: [[1, \"add-review-form\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-field\"], [1, \"star-rating-input\"], [\"type\", \"button\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", \"placeholder\", \"Summarize your review\"], [\"for\", \"content\"], [\"id\", \"content\", \"formControlName\", \"content\", \"rows\", \"4\", \"placeholder\", \"Tell others about your experience with this product\"], [\"type\", \"submit\", 3, \"disabled\"], [\"type\", \"button\", 3, \"click\"]],\n        template: function AddReviewComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n            i0.ɵɵtext(2, \"Write a Review\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 1);\n            i0.ɵɵlistener(\"ngSubmit\", function AddReviewComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\");\n            i0.ɵɵtext(6, \"Rating\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"div\", 3);\n            i0.ɵɵtemplate(8, AddReviewComponent_button_8_Template, 2, 2, \"button\", 4);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\", 5);\n            i0.ɵɵtext(11, \"Review Title\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(12, \"input\", 6);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"div\", 2)(14, \"label\", 7);\n            i0.ɵɵtext(15, \"Review\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(16, \"textarea\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"button\", 9);\n            i0.ɵɵtext(18, \"Submit Review\");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.reviewForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(3, _c0));\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"disabled\", ctx.reviewForm.invalid);\n          }\n        },\n        dependencies: [i2.NgForOf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        styles: [\".add-review-form[_ngcontent-%COMP%]{margin-top:24px;padding:24px;border:1px solid #e0e0e0;border-radius:8px}.form-field[_ngcontent-%COMP%]{margin-bottom:16px}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}.star-rating-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#ddd;cursor:pointer;margin-right:4px}.star-rating-input[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#ffc107}button[type=submit][_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:12px 24px;border:none;border-radius:4px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}\"]\n      });\n    }\n  }\n  return AddReviewComponent;\n})();\nexport { AddReviewComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}