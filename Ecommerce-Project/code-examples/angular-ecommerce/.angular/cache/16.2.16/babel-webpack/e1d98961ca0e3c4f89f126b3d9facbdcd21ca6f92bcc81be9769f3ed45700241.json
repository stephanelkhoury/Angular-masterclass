{"ast":null,"code":"import { of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nclass MockDataService {\n  constructor() {\n    this.products = [{\n      id: '1',\n      name: 'iPhone 15 Pro Max',\n      description: 'The ultimate iPhone experience with A17 Bionic chip and Pro camera system.',\n      price: 1199.99,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=iPhone+15+Pro',\n      images: [{\n        url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+1'\n      }, {\n        url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+2'\n      }],\n      category: {\n        id: 'smartphones',\n        name: 'Smartphones',\n        parentId: 'electronics'\n      },\n      categoryId: 'smartphones',\n      brand: 'Apple',\n      stockQuantity: 150,\n      rating: 4.8,\n      reviews: [{\n        id: 'r1p1',\n        productId: '1',\n        userId: 'u1',\n        userName: 'TechReviewer',\n        rating: 5,\n        comment: 'Amazing device!',\n        createdAt: new Date('2024-01-10T10:00:00Z')\n      }],\n      featured: true,\n      createdAt: new Date('2024-01-01T10:00:00Z'),\n      updatedAt: new Date('2024-01-05T10:00:00Z'),\n      keyFeatures: ['A17 Bionic Chip', 'Pro Camera System', 'ProMotion Display'],\n      freeShipping: true,\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '2',\n      name: 'MacBook Pro 16-inch',\n      description: 'The most powerful MacBook Pro ever with M3 Max chip.',\n      price: 2499.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=MacBook+Pro+16',\n      images: [{\n        url: 'https://via.placeholder.com/600x600.png?text=MacBook+Pro+16+View+1'\n      }],\n      category: {\n        id: 'laptops',\n        name: 'Laptops',\n        parentId: 'electronics'\n      },\n      categoryId: 'laptops',\n      brand: 'Apple',\n      stockQuantity: 75,\n      rating: 4.9,\n      reviews: [],\n      featured: true,\n      createdAt: new Date('2023-11-15T10:00:00Z'),\n      updatedAt: new Date('2023-12-01T10:00:00Z'),\n      keyFeatures: ['M3 Max Chip', 'Liquid Retina XDR Display', '1080p FaceTime HD Camera'],\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '3',\n      name: 'Sony WH-1000XM5 Headphones',\n      description: 'Industry-leading noise canceling headphones with exceptional sound quality.',\n      price: 348.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Sony+XM5',\n      category: {\n        id: 'audio',\n        name: 'Audio',\n        parentId: 'electronics'\n      },\n      categoryId: 'audio',\n      brand: 'Sony',\n      stockQuantity: 200,\n      rating: 4.7,\n      reviews: [],\n      featured: false,\n      createdAt: new Date('2023-05-01T10:00:00Z'),\n      updatedAt: new Date('2023-05-01T10:00:00Z'),\n      keyFeatures: ['Noise Canceling', '30-hour battery life', 'Multipoint connection'],\n      fastDelivery: true,\n      availabilityStatus: 'in-stock'\n    },\n    // Add more diverse mock products here, ensuring they conform to the Product model\n    {\n      id: '4',\n      name: 'Men\\'s Casual Shirt',\n      description: 'Comfortable cotton casual shirt.',\n      price: 45.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Casual+Shirt',\n      category: {\n        id: 'mens-clothing',\n        name: 'Men\\'s Clothing',\n        parentId: 'fashion'\n      },\n      categoryId: 'mens-clothing',\n      stockQuantity: 120,\n      rating: 4.0,\n      brand: 'ClothCo',\n      createdAt: new Date('2023-03-01T10:00:00Z'),\n      regularPrice: 50.00,\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '5',\n      name: 'Running Shoes',\n      description: 'Lightweight running shoes for athletes.',\n      price: 89.99,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Running+Shoes',\n      category: {\n        id: 'footwear',\n        name: 'Footwear',\n        parentId: 'fashion'\n      },\n      categoryId: 'footwear',\n      stockQuantity: 75,\n      rating: 4.6,\n      brand: 'FitGear',\n      createdAt: new Date('2023-02-10T10:00:00Z'),\n      availabilityStatus: 'in-stock'\n    }, {\n      id: '6',\n      name: 'Coffee Maker Deluxe',\n      description: 'Drip coffee maker with timer and grinder.',\n      price: 79.95,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Coffee+Maker',\n      category: {\n        id: 'kitchen-appliances',\n        name: 'Kitchen Appliances',\n        parentId: 'home-garden'\n      },\n      categoryId: 'kitchen-appliances',\n      stockQuantity: 60,\n      rating: 4.2,\n      brand: 'HomeEase',\n      createdAt: new Date('2023-04-05T10:00:00Z'),\n      keyFeatures: ['Programmable', 'Built-in Grinder'],\n      availabilityStatus: 'low-stock'\n    }];\n    this.categories = [{\n      id: 'electronics',\n      name: 'Electronics',\n      description: 'Gadgets and devices',\n      image: 'https://via.placeholder.com/300x200.png?text=Electronics',\n      featured: true\n    }, {\n      id: 'smartphones',\n      name: 'Smartphones',\n      parentId: 'electronics',\n      image: 'https://via.placeholder.com/300x200.png?text=Smartphones'\n    }, {\n      id: 'laptops',\n      name: 'Laptops',\n      parentId: 'electronics',\n      image: 'https://via.placeholder.com/300x200.png?text=Laptops'\n    }, {\n      id: 'audio',\n      name: 'Audio',\n      parentId: 'electronics',\n      image: 'https://via.placeholder.com/300x200.png?text=Audio'\n    }, {\n      id: 'fashion',\n      name: 'Fashion',\n      description: 'Apparel and accessories',\n      image: 'https://via.placeholder.com/300x200.png?text=Fashion',\n      featured: true\n    }, {\n      id: 'mens-clothing',\n      name: 'Men\\'s Clothing',\n      parentId: 'fashion',\n      image: 'https://via.placeholder.com/300x200.png?text=Men%27s+Clothing'\n    }, {\n      id: 'womens-clothing',\n      name: 'Women\\'s Clothing',\n      parentId: 'fashion',\n      image: 'https://via.placeholder.com/300x200.png?text=Women%27s+Clothing'\n    }, {\n      id: 'footwear',\n      name: 'Footwear',\n      parentId: 'fashion',\n      image: 'https://via.placeholder.com/300x200.png?text=Footwear'\n    }, {\n      id: 'home-garden',\n      name: 'Home & Garden',\n      description: 'Items for your home',\n      image: 'https://via.placeholder.com/300x200.png?text=Home+Garden'\n    }, {\n      id: 'kitchen-appliances',\n      name: 'Kitchen Appliances',\n      parentId: 'home-garden',\n      image: 'https://via.placeholder.com/300x200.png?text=Kitchen'\n    }];\n    this.reviews = [{\n      id: 'r1p1',\n      productId: '1',\n      userId: 'user123',\n      userName: 'Jane D.',\n      rating: 5,\n      comment: 'Absolutely love this phone!',\n      createdAt: new Date('2024-01-15T14:30:00Z')\n    }, {\n      id: 'r2p1',\n      productId: '1',\n      userId: 'user456',\n      userName: 'John S.',\n      rating: 4,\n      comment: 'Great features, a bit pricey.',\n      createdAt: new Date('2024-01-17T09:15:00Z')\n    }, {\n      id: 'r1p2',\n      productId: '2',\n      userId: 'user789',\n      userName: 'Alice B.',\n      rating: 5,\n      comment: 'Perfect for my development work.',\n      createdAt: new Date('2023-11-20T11:00:00Z')\n    }];\n    this.reviews = [{\n      id: 'r1',\n      productId: '1',\n      userId: 'u1',\n      userName: 'Sarah Johnson',\n      userAvatar: 'assets/images/users/sarah.jpg',\n      rating: 5,\n      title: 'Amazing camera quality!',\n      comment: 'The camera on this iPhone is absolutely incredible. The 5x optical zoom and night mode work perfectly.',\n      createdAt: '2024-11-15T14:30:00Z',\n      updatedAt: '2024-11-15T14:30:00Z'\n    }, {\n      id: 'r2',\n      productId: '1',\n      userId: 'u2',\n      userName: 'Mike Chen',\n      userAvatar: 'assets/images/users/mike.jpg',\n      rating: 4,\n      title: 'Great phone, expensive but worth it',\n      comment: 'Love the titanium build and the performance is top-notch. Battery life could be better.',\n      createdAt: '2024-11-10T09:15:00Z',\n      updatedAt: '2024-11-10T09:15:00Z'\n    }];\n  }\n  getProducts(options = {}) {\n    let filteredProducts = [...this.products];\n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      filteredProducts = filteredProducts.filter(p => p.name.toLowerCase().includes(searchTerm) || p.description.toLowerCase().includes(searchTerm) || p.brand?.toLowerCase().includes(searchTerm) || p.category?.name.toLowerCase().includes(searchTerm));\n    }\n    if (options.category) {\n      const categoryFilter = options.category.toLowerCase();\n      filteredProducts = filteredProducts.filter(p => p.category?.id.toLowerCase() === categoryFilter || p.category?.name.toLowerCase() === categoryFilter || p.categoryId?.toLowerCase() === categoryFilter);\n    }\n    if (options.subcategory) {\n      const subCategoryTerm = options.subcategory.toLowerCase();\n      // This is a simplified subcategory filter. \n      // A real app might have subcategories explicitly linked or as part of a category path.\n      filteredProducts = filteredProducts.filter(p => p.description?.toLowerCase().includes(subCategoryTerm) || p.name?.toLowerCase().includes(subCategoryTerm) || p.keyFeatures && p.keyFeatures.some(kf => kf.toLowerCase().includes(subCategoryTerm)) || p.category?.name.toLowerCase().includes(subCategoryTerm) // if subcat is part of main cat name\n      );\n    }\n\n    if (options.minPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice);\n    }\n    if (options.maxPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice);\n    }\n    if (options.sortBy) {\n      filteredProducts.sort((a, b) => {\n        let aValue;\n        let bValue;\n        if (options.sortBy === 'price') {\n          aValue = a.price;\n          bValue = b.price;\n        } else if (options.sortBy === 'name') {\n          aValue = a.name.toLowerCase();\n          bValue = b.name.toLowerCase();\n        } else if (options.sortBy === 'createdAt' && a.createdAt && b.createdAt) {\n          aValue = a.createdAt.getTime();\n          bValue = b.createdAt.getTime();\n        } else if (options.sortBy === 'rating' && a.rating !== undefined && b.rating !== undefined) {\n          aValue = a.rating;\n          bValue = b.rating;\n        } else {\n          'Frequency Response';\n          '4Hz-40kHz', 'Battery Life';\n          'Up to 30 hours', 'Charging';\n          'USB-C quick charge', 'Weight';\n          '250g', 'Connectivity';\n          'Bluetooth 5.2, NFC';\n        }\n        tags: ['headphones', 'wireless', 'noise-canceling', 'sony', 'premium'], freeShipping;\n        true, fastDelivery;\n        true, createdAt;\n        '2024-05-15T10:00:00Z', updatedAt;\n        '2024-11-20T15:30:00Z';\n      }, {\n        id: '4',\n        name: 'Samsung 55\" OLED 4K Smart TV',\n        description: 'Stunning 4K OLED display with vibrant colors and deep blacks.',\n        longDescription: 'Immerse yourself in brilliant picture quality with Quantum Dot OLED technology. This smart TV features Neural Quantum Processor 4K for upscaling, Dolby Atmos sound, and a comprehensive smart platform with all your favorite streaming apps. Gaming features include 4K@120Hz and Variable Refresh Rate.',\n        price: 1799,\n        regularPrice: 2199,\n        stock: 18,\n        stockQuantity: 18,\n        rating: 4.6,\n        reviewCount: 743,\n        images: ['assets/images/products/samsung-oled-tv-1.jpg', 'assets/images/products/samsung-oled-tv-2.jpg', 'assets/images/products/samsung-oled-tv-3.jpg'],\n        imageUrl: 'assets/images/products/samsung-oled-tv-1.jpg',\n        categoryId: 'electronics',\n        category: {\n          id: 'electronics',\n          name: 'Electronics',\n          description: 'Electronic devices and gadgets',\n          image: 'assets/images/categories/electronics.jpg'\n        },\n        sku: 'SAM-OLED55-4K',\n        brand: 'Samsung',\n        keyFeatures: ['Quantum Dot OLED technology', 'Neural Quantum Processor 4K', 'Dolby Atmos sound', '4K@120Hz gaming'],\n        specifications: {\n          'Screen Size': '55 inches',\n          'Resolution': '4K Ultra HD (3840 x 2160)',\n          'Display Technology': 'Quantum Dot OLED',\n          'HDR': 'HDR10+, Dolby Vision',\n          'Refresh Rate': '120Hz',\n          'Smart Platform': 'Tizen OS'\n        },\n        tags: ['tv', 'oled', '4k', 'smart-tv', 'samsung', 'gaming'],\n        freeShipping: true,\n        createdAt: '2024-08-10T10:00:00Z',\n        updatedAt: '2024-11-25T15:30:00Z'\n      }, {\n        id: '5',\n        name: 'Nike Air Max 270 Running Shoes',\n        description: 'Comfortable running shoes with Max Air cushioning technology.',\n        longDescription: 'Step into comfort with the Nike Air Max 270. Featuring the largest heel Air unit yet, these shoes deliver exceptional all-day comfort. The engineered mesh upper provides breathability, while the rubber outsole offers durable traction for any surface.',\n        price: 150,\n        stock: 67,\n        stockQuantity: 67,\n        rating: 4.4,\n        reviewCount: 1824,\n        images: ['assets/images/products/nike-air-max-270-1.jpg', 'assets/images/products/nike-air-max-270-2.jpg', 'assets/images/products/nike-air-max-270-3.jpg'],\n        imageUrl: 'assets/images/products/nike-air-max-270-1.jpg',\n        categoryId: 'sports',\n        category: {\n          id: 'sports',\n          name: 'Sports & Outdoors',\n          description: 'Sports equipment and outdoor gear',\n          image: 'assets/images/categories/sports.jpg'\n        },\n        sku: 'NIKE-AM270-BLK-10',\n        brand: 'Nike',\n        keyFeatures: ['Max Air heel unit', 'Engineered mesh upper', 'Rubber outsole', 'All-day comfort'],\n        specifications: {\n          'Upper Material': 'Engineered mesh',\n          'Midsole': 'Foam with Max Air unit',\n          'Outsole': 'Rubber',\n          'Closure': 'Lace-up',\n          'Weight': '12.5 oz',\n          'Support Type': 'Neutral'\n        },\n        tags: ['shoes', 'running', 'nike', 'air-max', 'sports', 'comfort'],\n        freeShipping: true,\n        createdAt: '2024-06-20T10:00:00Z',\n        updatedAt: '2024-10-15T15:30:00Z'\n      }, {\n        id: '6',\n        name: 'KitchenAid Stand Mixer',\n        description: 'Professional-grade stand mixer for all your baking needs.',\n        longDescription: 'The iconic KitchenAid Stand Mixer combines form and function with a powerful motor that can handle everything from whipping cream to kneading bread dough. Includes multiple attachments and offers over 10 optional attachments to expand your culinary possibilities.',\n        price: 449,\n        regularPrice: 529,\n        stock: 23,\n        stockQuantity: 23,\n        rating: 4.8,\n        reviewCount: 3421,\n        images: ['assets/images/products/kitchenaid-mixer-1.jpg', 'assets/images/products/kitchenaid-mixer-2.jpg', 'assets/images/products/kitchenaid-mixer-3.jpg'],\n        imageUrl: 'assets/images/products/kitchenaid-mixer-1.jpg',\n        categoryId: 'home-kitchen',\n        category: {\n          id: 'home-kitchen',\n          name: 'Home & Kitchen',\n          description: 'Home appliances and kitchen essentials',\n          image: 'assets/images/categories/home-kitchen.jpg'\n        },\n        sku: 'KA-SM-RED-5QT',\n        brand: 'KitchenAid',\n        keyFeatures: ['5-quart stainless steel bowl', '10 mixing speeds', 'Tilt-head design', 'Multiple attachments included'],\n        featured: true,\n        specifications: {\n          'Bowl Capacity': '5 quarts',\n          'Motor': '325 watts',\n          'Speeds': '10',\n          'Material': 'Die-cast metal',\n          'Attachments': 'Flat beater, dough hook, wire whip',\n          'Dimensions': '14.1\" x 8.7\" x 13.9\"'\n        },\n        tags: ['kitchen', 'mixer', 'baking', 'kitchenaid', 'appliance'],\n        freeShipping: true,\n        createdAt: '2024-03-12T10:00:00Z',\n        updatedAt: '2024-11-30T15:30:00Z'\n      }, {\n        id: '7',\n        name: \"Levi's 501 Original Jeans\",\n        description: 'Classic straight-leg jeans that never go out of style.',\n        longDescription: \"The original blue jean since 1873. Levi's 501 Original jeans are a blank canvas for self-expression. Made with premium denim and featuring the classic straight leg fit, button fly, and signature styling that has made them an icon for generations.\",\n        price: 89,\n        stock: 156,\n        stockQuantity: 156,\n        rating: 4.5,\n        reviewCount: 5672,\n        images: ['assets/images/products/levis-501-1.jpg', 'assets/images/products/levis-501-2.jpg', 'assets/images/products/levis-501-3.jpg'],\n        imageUrl: 'assets/images/products/levis-501-1.jpg',\n        categoryId: 'mens-clothing',\n        category: {\n          id: 'mens-clothing',\n          name: 'Men\\'s Clothing',\n          description: 'Fashion and apparel for men',\n          image: 'assets/images/categories/mens-clothing.jpg'\n        },\n        sku: 'LEVIS-501-IND-32x32',\n        brand: \"Levi's\",\n        keyFeatures: ['Original straight leg fit', 'Button fly closure', '100% cotton denim', 'Classic 5-pocket styling'],\n        specifications: {\n          'Material': '100% Cotton',\n          'Fit': 'Straight leg',\n          'Rise': 'Mid rise',\n          'Closure': 'Button fly',\n          'Care': 'Machine wash',\n          'Origin': 'Made in USA'\n        },\n        tags: ['jeans', 'denim', 'levis', 'mens', 'clothing', 'classic'],\n        freeShipping: true,\n        createdAt: '2024-01-15T10:00:00Z',\n        updatedAt: '2024-09-20T15:30:00Z'\n      }, {\n        id: '8',\n        name: 'Instant Pot Duo 7-in-1 Pressure Cooker',\n        description: 'Multi-functional electric pressure cooker for faster, easier cooking.',\n        longDescription: 'The Instant Pot Duo combines 7 appliances in one: pressure cooker, slow cooker, rice cooker, steamer, sauté pan, yogurt maker, and warmer. With smart programming and safety features, it makes cooking meals 70% faster while preserving nutrients and flavors.',\n        price: 99,\n        regularPrice: 129,\n        stock: 89,\n        stockQuantity: 89,\n        rating: 4.7,\n        reviewCount: 12847,\n        images: ['assets/images/products/instant-pot-duo-1.jpg', 'assets/images/products/instant-pot-duo-2.jpg', 'assets/images/products/instant-pot-duo-3.jpg'],\n        imageUrl: 'assets/images/products/instant-pot-duo-1.jpg',\n        categoryId: 'home-kitchen',\n        category: {\n          id: 'home-kitchen',\n          name: 'Home & Kitchen',\n          description: 'Home appliances and kitchen essentials',\n          image: 'assets/images/categories/home-kitchen.jpg'\n        },\n        sku: 'IP-DUO-6QT-7IN1',\n        brand: 'Instant Pot',\n        keyFeatures: ['7 appliances in 1', '14 smart programs', '6-quart capacity', '10+ safety features'],\n        featured: true,\n        specifications: {\n          'Capacity': '6 quarts',\n          'Functions': '7-in-1 (Pressure Cook, Slow Cook, Rice Cooker, Steamer, Sauté, Yogurt Maker, Warmer)',\n          'Programs': '14 smart programs',\n          'Material': 'Stainless steel inner pot',\n          'Safety Features': '10+',\n          'Dimensions': '13.43\" x 12.6\" x 12.6\"'\n        },\n        tags: ['pressure-cooker', 'kitchen', 'instant-pot', 'multi-cooker', 'appliance'],\n        freeShipping: true,\n        fastDelivery: true,\n        createdAt: '2024-02-28T10:00:00Z',\n        updatedAt: '2024-11-15T15:30:00Z'\n      }, {\n        id: '9',\n        name: 'The Silent Patient - Hardcover',\n        description: 'Bestselling psychological thriller by Alex Michaelides.',\n        longDescription: 'A woman\\'s act of violence against her husband and her refusal to speak sends shockwaves through London. The silent patient is a gripping psychological thriller that will keep you guessing until the final page. Winner of multiple literary awards.',\n        price: 16.99,\n        stock: 234,\n        stockQuantity: 234,\n        rating: 4.3,\n        reviewCount: 18293,\n        images: ['assets/images/products/silent-patient-book-1.jpg', 'assets/images/products/silent-patient-book-2.jpg'],\n        imageUrl: 'assets/images/products/silent-patient-book-1.jpg',\n        categoryId: 'books',\n        category: {\n          id: 'books',\n          name: 'Books',\n          description: 'Books across all genres',\n          image: 'assets/images/categories/books.jpg'\n        },\n        sku: 'BOOK-SP-HC-ENG',\n        keyFeatures: ['Bestselling thriller', 'Hardcover edition', '368 pages', 'Award-winning author'],\n        specifications: {\n          'Format': 'Hardcover',\n          'Pages': '368',\n          'Publisher': 'Celadon Books',\n          'Language': 'English',\n          'ISBN': '978-1250301697',\n          'Dimensions': '6.4\" x 1.4\" x 9.6\"'\n        },\n        tags: ['book', 'thriller', 'psychological', 'bestseller', 'fiction'],\n        freeShipping: true,\n        createdAt: '2024-01-05T10:00:00Z',\n        updatedAt: '2024-08-10T15:30:00Z'\n      }, {\n        id: '10',\n        name: 'Fenty Beauty Pro Filter Foundation',\n        description: 'Soft-matte, buildable foundation with medium to full coverage.',\n        longDescription: 'Fenty Beauty\\'s Pro Filter Foundation provides a smooth, poreless-looking finish that\\'s so stunning, it\\'s like hitting the soft-focus filter on your complexion but IRL. Available in 50 shades, this climate-adaptive, soft-matte foundation is buildable from medium to full coverage.',\n        price: 39,\n        stock: 78,\n        stockQuantity: 78,\n        rating: 4.6,\n        reviewCount: 4821,\n        images: ['assets/images/products/fenty-foundation-1.jpg', 'assets/images/products/fenty-foundation-2.jpg', 'assets/images/products/fenty-foundation-3.jpg'],\n        imageUrl: 'assets/images/products/fenty-foundation-1.jpg',\n        categoryId: 'beauty',\n        category: {\n          id: 'beauty',\n          name: 'Beauty & Personal Care',\n          description: 'Beauty products and personal care items',\n          image: 'assets/images/categories/beauty.jpg'\n        },\n        sku: 'FENTY-PF-150',\n        brand: 'Fenty Beauty',\n        keyFeatures: ['50 inclusive shades', 'Soft-matte finish', 'Buildable coverage', 'Climate-adaptive formula'],\n        specifications: {\n          'Coverage': 'Medium to full',\n          'Finish': 'Soft-matte',\n          'Size': '32ml / 1.08 fl oz',\n          'Skin Type': 'All skin types',\n          'Key Ingredients': 'Climate-adaptive technology',\n          'Cruelty-free': 'Yes'\n        },\n        tags: ['foundation', 'makeup', 'fenty', 'beauty', 'inclusive', 'coverage'],\n        freeShipping: true,\n        createdAt: '2024-04-18T10:00:00Z',\n        updatedAt: '2024-10-22T15:30:00Z'\n      });\n    }\n  }\n  getProducts(options = {}) {\n    let filteredProducts = [...this.products];\n    // Apply filters\n    if (options.category) {\n      filteredProducts = filteredProducts.filter(p => p.categoryId === options.category || p.category.name.toLowerCase().includes(options.category.toLowerCase()));\n    }\n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      filteredProducts = filteredProducts.filter(p => p.name.toLowerCase().includes(searchTerm) || p.description.toLowerCase().includes(searchTerm) || p.brand?.toLowerCase().includes(searchTerm));\n    }\n    if (options.minPrice) {\n      filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice);\n    }\n    if (options.maxPrice) {\n      filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice);\n    }\n    // Apply sorting\n    if (options.sortBy) {\n      filteredProducts.sort((a, b) => {\n        let aValue, bValue;\n        switch (options.sortBy) {\n          case 'price':\n            aValue = a.price;\n            bValue = b.price;\n            break;\n          case 'name':\n            aValue = a.name;\n            bValue = b.name;\n            break;\n          case 'rating':\n            aValue = a.rating;\n            bValue = b.rating;\n            break;\n          case 'created':\n            aValue = new Date(a.createdAt).getTime();\n            bValue = new Date(b.createdAt).getTime();\n            break;\n          default:\n            return 0;\n        }\n        if (typeof aValue === 'string' && typeof bValue === 'string') {\n          return options.order === 'desc' ? bValue.localeCompare(aValue) : aValue.localeCompare(bValue);\n        }\n        return options.order === 'desc' ? bValue - aValue : aValue - bValue;\n      });\n    }\n    const totalCount = filteredProducts.length;\n    const page = options.page || 1;\n    const limit = options.limit || 10;\n    const startIndex = (page - 1) * limit;\n    const endIndex = startIndex + limit;\n    const paginatedProducts = filteredProducts.slice(startIndex, endIndex);\n    return of({\n      products: paginatedProducts,\n      totalCount,\n      page,\n      limit\n    }).pipe(delay(500)); // Simulate network delay\n  }\n\n  getProductById(id) {\n    const product = this.products.find(p => p.id === id);\n    if (!product) {\n      throw new Error('Product not found');\n    }\n    return of(product).pipe(delay(300));\n  }\n  getCategories() {\n    return of(this.categories).pipe(delay(200));\n  }\n  getFeaturedProducts(limit = 8) {\n    const featured = this.products.filter(p => p.featured).slice(0, limit);\n    return of(featured).pipe(delay(300));\n  }\n  getProductReviews(productId, page = 1, limit = 10) {\n    const productReviews = this.reviews.filter(r => r.productId === productId);\n    const startIndex = (page - 1) * limit;\n    const endIndex = startIndex + limit;\n    const paginatedReviews = productReviews.slice(startIndex, endIndex);\n    return of({\n      reviews: paginatedReviews,\n      totalCount: productReviews.length\n    }).pipe(delay(400));\n  }\n  getRelatedProducts(productId, limit = 4) {\n    const product = this.products.find(p => p.id === productId);\n    if (!product) {\n      return of([]);\n    }\n    const related = this.products.filter(p => p.id !== productId && p.categoryId === product.categoryId).slice(0, limit);\n    return of(related).pipe(delay(300));\n  }\n  static {\n    this.ɵfac = function MockDataService_Factory(t) {\n      return new (t || MockDataService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: MockDataService,\n      factory: MockDataService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}\nexport { MockDataService };","map":{"version":3,"names":["of","delay","MockDataService","constructor","products","id","name","description","price","imageUrl","images","url","category","parentId","categoryId","brand","stockQuantity","rating","reviews","productId","userId","userName","comment","createdAt","Date","featured","updatedAt","keyFeatures","freeShipping","availabilityStatus","fastDelivery","regularPrice","categories","image","userAvatar","title","getProducts","options","filteredProducts","search","searchTerm","toLowerCase","filter","p","includes","categoryFilter","subcategory","subCategoryTerm","some","kf","minPrice","undefined","maxPrice","sortBy","sort","a","b","aValue","bValue","getTime","tags","longDescription","stock","reviewCount","sku","specifications","order","localeCompare","totalCount","length","page","limit","startIndex","endIndex","paginatedProducts","slice","pipe","getProductById","product","find","Error","getCategories","getFeaturedProducts","getProductReviews","productReviews","r","paginatedReviews","getRelatedProducts","related","factory","ɵfac","providedIn"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/core/services/mock-data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\nimport { Product, Category, Review, PaginatedResponse, ProductImage } from '../models/product.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MockDataService {\n  private products: Product[] = [\n    {\n      id: '1',\n      name: 'iPhone 15 Pro Max',\n      description: 'The ultimate iPhone experience with A17 Bionic chip and Pro camera system.',\n      price: 1199.99,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=iPhone+15+Pro',\n      images: [\n        { url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+1' },\n        { url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+2' },\n      ],\n      category: { id: 'smartphones', name: 'Smartphones', parentId: 'electronics' },\n      categoryId: 'smartphones',\n      brand: 'Apple',\n      stockQuantity: 150,\n      rating: 4.8,\n      reviews: [\n        { id: 'r1p1', productId: '1', userId: 'u1', userName: 'TechReviewer', rating: 5, comment: 'Amazing device!', createdAt: new Date('2024-01-10T10:00:00Z') }\n      ],\n      featured: true,\n      createdAt: new Date('2024-01-01T10:00:00Z'),\n      updatedAt: new Date('2024-01-05T10:00:00Z'),\n      keyFeatures: ['A17 Bionic Chip', 'Pro Camera System', 'ProMotion Display'],\n      freeShipping: true,\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '2',\n      name: 'MacBook Pro 16-inch',\n      description: 'The most powerful MacBook Pro ever with M3 Max chip.',\n      price: 2499.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=MacBook+Pro+16',\n      images: [\n        { url: 'https://via.placeholder.com/600x600.png?text=MacBook+Pro+16+View+1' },\n      ],\n      category: { id: 'laptops', name: 'Laptops', parentId: 'electronics' },\n      categoryId: 'laptops',\n      brand: 'Apple',\n      stockQuantity: 75,\n      rating: 4.9,\n      reviews: [],\n      featured: true,\n      createdAt: new Date('2023-11-15T10:00:00Z'),\n      updatedAt: new Date('2023-12-01T10:00:00Z'),\n      keyFeatures: ['M3 Max Chip', 'Liquid Retina XDR Display', '1080p FaceTime HD Camera'],\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '3',\n      name: 'Sony WH-1000XM5 Headphones',\n      description: 'Industry-leading noise canceling headphones with exceptional sound quality.',\n      price: 348.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Sony+XM5',\n      category: { id: 'audio', name: 'Audio', parentId: 'electronics' },\n      categoryId: 'audio',\n      brand: 'Sony',\n      stockQuantity: 200,\n      rating: 4.7,\n      reviews: [],\n      featured: false,\n      createdAt: new Date('2023-05-01T10:00:00Z'),\n      updatedAt: new Date('2023-05-01T10:00:00Z'),\n      keyFeatures: ['Noise Canceling', '30-hour battery life', 'Multipoint connection'],\n      fastDelivery: true,\n      availabilityStatus: 'in-stock',\n    },\n    // Add more diverse mock products here, ensuring they conform to the Product model\n     {\n      id: '4', name: 'Men\\'s Casual Shirt', description: 'Comfortable cotton casual shirt.', price: 45.00, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Casual+Shirt', \n      category: { id: 'mens-clothing', name: 'Men\\'s Clothing', parentId: 'fashion'}, \n      categoryId: 'mens-clothing',\n      stockQuantity: 120, rating: 4.0, brand: 'ClothCo', \n      createdAt: new Date('2023-03-01T10:00:00Z'), regularPrice: 50.00,\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '5', name: 'Running Shoes', description: 'Lightweight running shoes for athletes.', price: 89.99, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Running+Shoes', \n      category: { id: 'footwear', name: 'Footwear', parentId: 'fashion'}, \n      categoryId: 'footwear',\n      stockQuantity: 75, rating: 4.6, brand: 'FitGear', \n      createdAt: new Date('2023-02-10T10:00:00Z'),\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '6', name: 'Coffee Maker Deluxe', description: 'Drip coffee maker with timer and grinder.', price: 79.95, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Coffee+Maker', \n      category: { id: 'kitchen-appliances', name: 'Kitchen Appliances', parentId: 'home-garden'}, \n      categoryId: 'kitchen-appliances',\n      stockQuantity: 60, rating: 4.2, brand: 'HomeEase', \n      createdAt: new Date('2023-04-05T10:00:00Z'), keyFeatures: ['Programmable', 'Built-in Grinder'],\n      availabilityStatus: 'low-stock',\n    }\n  ];\n\n  private categories: Category[] = [\n    { id: 'electronics', name: 'Electronics', description: 'Gadgets and devices', image: 'https://via.placeholder.com/300x200.png?text=Electronics', featured: true },\n    { id: 'smartphones', name: 'Smartphones', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Smartphones' },\n    { id: 'laptops', name: 'Laptops', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Laptops' },\n    { id: 'audio', name: 'Audio', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Audio' },\n    { id: 'fashion', name: 'Fashion', description: 'Apparel and accessories', image: 'https://via.placeholder.com/300x200.png?text=Fashion', featured: true },\n    { id: 'mens-clothing', name: 'Men\\'s Clothing', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Men%27s+Clothing' },\n    { id: 'womens-clothing', name: 'Women\\'s Clothing', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Women%27s+Clothing' },\n    { id: 'footwear', name: 'Footwear', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Footwear' },\n    { id: 'home-garden', name: 'Home & Garden', description: 'Items for your home', image: 'https://via.placeholder.com/300x200.png?text=Home+Garden' },\n    { id: 'kitchen-appliances', name: 'Kitchen Appliances', parentId: 'home-garden', image: 'https://via.placeholder.com/300x200.png?text=Kitchen' },\n  ];\n\n  private reviews: Review[] = [\n    { id: 'r1p1', productId: '1', userId: 'user123', userName: 'Jane D.', rating: 5, comment: 'Absolutely love this phone!', createdAt: new Date('2024-01-15T14:30:00Z') },\n    { id: 'r2p1', productId: '1', userId: 'user456', userName: 'John S.', rating: 4, comment: 'Great features, a bit pricey.', createdAt: new Date('2024-01-17T09:15:00Z') },\n    { id: 'r1p2', productId: '2', userId: 'user789', userName: 'Alice B.', rating: 5, comment: 'Perfect for my development work.', createdAt: new Date('2023-11-20T11:00:00Z') },\n  ];\n\n  constructor() {}\n\n  getProducts(options: {\n    page?: number;\n    limit?: number;\n    sortBy?: string;\n    order?: 'asc' | 'desc';\n    category?: string; // categoryId or categoryName\n    subcategory?: string; // subcategoryName\n    minPrice?: number;\n    maxPrice?: number;\n    search?: string;\n  } = {}): Observable<PaginatedResponse<Product>> {\n    let filteredProducts = [...this.products];\n\n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      filteredProducts = filteredProducts.filter(p =>\n        p.name.toLowerCase().includes(searchTerm) ||\n        p.description.toLowerCase().includes(searchTerm) ||\n        p.brand?.toLowerCase().includes(searchTerm) ||\n        p.category?.name.toLowerCase().includes(searchTerm)\n      );\n    }\n\n    if (options.category) {\n      const categoryFilter = options.category.toLowerCase();\n      filteredProducts = filteredProducts.filter(p =>\n        p.category?.id.toLowerCase() === categoryFilter ||\n        p.category?.name.toLowerCase() === categoryFilter ||\n        p.categoryId?.toLowerCase() === categoryFilter\n      );\n    }\n    \n    if (options.subcategory) {\n        const subCategoryTerm = options.subcategory.toLowerCase();\n        // This is a simplified subcategory filter. \n        // A real app might have subcategories explicitly linked or as part of a category path.\n        filteredProducts = filteredProducts.filter(p => \n           (p.description?.toLowerCase().includes(subCategoryTerm)) || \n           (p.name?.toLowerCase().includes(subCategoryTerm)) ||\n           (p.keyFeatures && p.keyFeatures.some(kf => kf.toLowerCase().includes(subCategoryTerm))) ||\n           (p.category?.name.toLowerCase().includes(subCategoryTerm)) // if subcat is part of main cat name\n       );\n    }\n\n\n    if (options.minPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice!);\n    }\n    if (options.maxPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice!);\n    }\n\n    if (options.sortBy) {\n      filteredProducts.sort((a, b) => {\n        let aValue: any;\n        let bValue: any;\n\n        if (options.sortBy === 'price') {\n          aValue = a.price;\n          bValue = b.price;\n        } else if (options.sortBy === 'name') {\n          aValue = a.name.toLowerCase();\n          bValue = b.name.toLowerCase();\n        } else if (options.sortBy === 'createdAt' && a.createdAt && b.createdAt) {\n          aValue = a.createdAt.getTime();\n          bValue = b.createdAt.getTime();\n        } else if (options.sortBy === 'rating' && a.rating !== undefined && b.rating !== undefined) {\n            aValue = a.rating;\n            bValue = b.rating;\n        } else {\n        'Frequency Response': '4Hz-40kHz',\n        'Battery Life': 'Up to 30 hours',\n        'Charging': 'USB-C quick charge',\n        'Weight': '250g',\n        'Connectivity': 'Bluetooth 5.2, NFC'\n      },\n      tags: ['headphones', 'wireless', 'noise-canceling', 'sony', 'premium'],\n      freeShipping: true,\n      fastDelivery: true,\n      createdAt: '2024-05-15T10:00:00Z',\n      updatedAt: '2024-11-20T15:30:00Z'\n    },\n    {\n      id: '4',\n      name: 'Samsung 55\" OLED 4K Smart TV',\n      description: 'Stunning 4K OLED display with vibrant colors and deep blacks.',\n      longDescription: 'Immerse yourself in brilliant picture quality with Quantum Dot OLED technology. This smart TV features Neural Quantum Processor 4K for upscaling, Dolby Atmos sound, and a comprehensive smart platform with all your favorite streaming apps. Gaming features include 4K@120Hz and Variable Refresh Rate.',\n      price: 1799,\n      regularPrice: 2199,\n      stock: 18,\n      stockQuantity: 18,\n      rating: 4.6,\n      reviewCount: 743,\n      images: [\n        'assets/images/products/samsung-oled-tv-1.jpg',\n        'assets/images/products/samsung-oled-tv-2.jpg',\n        'assets/images/products/samsung-oled-tv-3.jpg'\n      ],\n      imageUrl: 'assets/images/products/samsung-oled-tv-1.jpg',\n      categoryId: 'electronics',\n      category: { id: 'electronics', name: 'Electronics', description: 'Electronic devices and gadgets', image: 'assets/images/categories/electronics.jpg' },\n      sku: 'SAM-OLED55-4K',\n      brand: 'Samsung',\n      keyFeatures: [\n        'Quantum Dot OLED technology',\n        'Neural Quantum Processor 4K',\n        'Dolby Atmos sound',\n        '4K@120Hz gaming'\n      ],\n      specifications: {\n        'Screen Size': '55 inches',\n        'Resolution': '4K Ultra HD (3840 x 2160)',\n        'Display Technology': 'Quantum Dot OLED',\n        'HDR': 'HDR10+, Dolby Vision',\n        'Refresh Rate': '120Hz',\n        'Smart Platform': 'Tizen OS'\n      },\n      tags: ['tv', 'oled', '4k', 'smart-tv', 'samsung', 'gaming'],\n      freeShipping: true,\n      createdAt: '2024-08-10T10:00:00Z',\n      updatedAt: '2024-11-25T15:30:00Z'\n    },\n    {\n      id: '5',\n      name: 'Nike Air Max 270 Running Shoes',\n      description: 'Comfortable running shoes with Max Air cushioning technology.',\n      longDescription: 'Step into comfort with the Nike Air Max 270. Featuring the largest heel Air unit yet, these shoes deliver exceptional all-day comfort. The engineered mesh upper provides breathability, while the rubber outsole offers durable traction for any surface.',\n      price: 150,\n      stock: 67,\n      stockQuantity: 67,\n      rating: 4.4,\n      reviewCount: 1824,\n      images: [\n        'assets/images/products/nike-air-max-270-1.jpg',\n        'assets/images/products/nike-air-max-270-2.jpg',\n        'assets/images/products/nike-air-max-270-3.jpg'\n      ],\n      imageUrl: 'assets/images/products/nike-air-max-270-1.jpg',\n      categoryId: 'sports',\n      category: { id: 'sports', name: 'Sports & Outdoors', description: 'Sports equipment and outdoor gear', image: 'assets/images/categories/sports.jpg' },\n      sku: 'NIKE-AM270-BLK-10',\n      brand: 'Nike',\n      keyFeatures: [\n        'Max Air heel unit',\n        'Engineered mesh upper',\n        'Rubber outsole',\n        'All-day comfort'\n      ],\n      specifications: {\n        'Upper Material': 'Engineered mesh',\n        'Midsole': 'Foam with Max Air unit',\n        'Outsole': 'Rubber',\n        'Closure': 'Lace-up',\n        'Weight': '12.5 oz',\n        'Support Type': 'Neutral'\n      },\n      tags: ['shoes', 'running', 'nike', 'air-max', 'sports', 'comfort'],\n      freeShipping: true,\n      createdAt: '2024-06-20T10:00:00Z',\n      updatedAt: '2024-10-15T15:30:00Z'\n    },\n    {\n      id: '6',\n      name: 'KitchenAid Stand Mixer',\n      description: 'Professional-grade stand mixer for all your baking needs.',\n      longDescription: 'The iconic KitchenAid Stand Mixer combines form and function with a powerful motor that can handle everything from whipping cream to kneading bread dough. Includes multiple attachments and offers over 10 optional attachments to expand your culinary possibilities.',\n      price: 449,\n      regularPrice: 529,\n      stock: 23,\n      stockQuantity: 23,\n      rating: 4.8,\n      reviewCount: 3421,\n      images: [\n        'assets/images/products/kitchenaid-mixer-1.jpg',\n        'assets/images/products/kitchenaid-mixer-2.jpg',\n        'assets/images/products/kitchenaid-mixer-3.jpg'\n      ],\n      imageUrl: 'assets/images/products/kitchenaid-mixer-1.jpg',\n      categoryId: 'home-kitchen',\n      category: { id: 'home-kitchen', name: 'Home & Kitchen', description: 'Home appliances and kitchen essentials', image: 'assets/images/categories/home-kitchen.jpg' },\n      sku: 'KA-SM-RED-5QT',\n      brand: 'KitchenAid',\n      keyFeatures: [\n        '5-quart stainless steel bowl',\n        '10 mixing speeds',\n        'Tilt-head design',\n        'Multiple attachments included'\n      ],\n      featured: true,\n      specifications: {\n        'Bowl Capacity': '5 quarts',\n        'Motor': '325 watts',\n        'Speeds': '10',\n        'Material': 'Die-cast metal',\n        'Attachments': 'Flat beater, dough hook, wire whip',\n        'Dimensions': '14.1\" x 8.7\" x 13.9\"'\n      },\n      tags: ['kitchen', 'mixer', 'baking', 'kitchenaid', 'appliance'],\n      freeShipping: true,\n      createdAt: '2024-03-12T10:00:00Z',\n      updatedAt: '2024-11-30T15:30:00Z'\n    },\n    {\n      id: '7',\n      name: \"Levi's 501 Original Jeans\",\n      description: 'Classic straight-leg jeans that never go out of style.',\n      longDescription: \"The original blue jean since 1873. Levi's 501 Original jeans are a blank canvas for self-expression. Made with premium denim and featuring the classic straight leg fit, button fly, and signature styling that has made them an icon for generations.\",\n      price: 89,\n      stock: 156,\n      stockQuantity: 156,\n      rating: 4.5,\n      reviewCount: 5672,\n      images: [\n        'assets/images/products/levis-501-1.jpg',\n        'assets/images/products/levis-501-2.jpg',\n        'assets/images/products/levis-501-3.jpg'\n      ],\n      imageUrl: 'assets/images/products/levis-501-1.jpg',\n      categoryId: 'mens-clothing',\n      category: { id: 'mens-clothing', name: 'Men\\'s Clothing', description: 'Fashion and apparel for men', image: 'assets/images/categories/mens-clothing.jpg' },\n      sku: 'LEVIS-501-IND-32x32',\n      brand: \"Levi's\",\n      keyFeatures: [\n        'Original straight leg fit',\n        'Button fly closure',\n        '100% cotton denim',\n        'Classic 5-pocket styling'\n      ],\n      specifications: {\n        'Material': '100% Cotton',\n        'Fit': 'Straight leg',\n        'Rise': 'Mid rise',\n        'Closure': 'Button fly',\n        'Care': 'Machine wash',\n        'Origin': 'Made in USA'\n      },\n      tags: ['jeans', 'denim', 'levis', 'mens', 'clothing', 'classic'],\n      freeShipping: true,\n      createdAt: '2024-01-15T10:00:00Z',\n      updatedAt: '2024-09-20T15:30:00Z'\n    },\n    {\n      id: '8',\n      name: 'Instant Pot Duo 7-in-1 Pressure Cooker',\n      description: 'Multi-functional electric pressure cooker for faster, easier cooking.',\n      longDescription: 'The Instant Pot Duo combines 7 appliances in one: pressure cooker, slow cooker, rice cooker, steamer, sauté pan, yogurt maker, and warmer. With smart programming and safety features, it makes cooking meals 70% faster while preserving nutrients and flavors.',\n      price: 99,\n      regularPrice: 129,\n      stock: 89,\n      stockQuantity: 89,\n      rating: 4.7,\n      reviewCount: 12847,\n      images: [\n        'assets/images/products/instant-pot-duo-1.jpg',\n        'assets/images/products/instant-pot-duo-2.jpg',\n        'assets/images/products/instant-pot-duo-3.jpg'\n      ],\n      imageUrl: 'assets/images/products/instant-pot-duo-1.jpg',\n      categoryId: 'home-kitchen',\n      category: { id: 'home-kitchen', name: 'Home & Kitchen', description: 'Home appliances and kitchen essentials', image: 'assets/images/categories/home-kitchen.jpg' },\n      sku: 'IP-DUO-6QT-7IN1',\n      brand: 'Instant Pot',\n      keyFeatures: [\n        '7 appliances in 1',\n        '14 smart programs',\n        '6-quart capacity',\n        '10+ safety features'\n      ],\n      featured: true,\n      specifications: {\n        'Capacity': '6 quarts',\n        'Functions': '7-in-1 (Pressure Cook, Slow Cook, Rice Cooker, Steamer, Sauté, Yogurt Maker, Warmer)',\n        'Programs': '14 smart programs',\n        'Material': 'Stainless steel inner pot',\n        'Safety Features': '10+',\n        'Dimensions': '13.43\" x 12.6\" x 12.6\"'\n      },\n      tags: ['pressure-cooker', 'kitchen', 'instant-pot', 'multi-cooker', 'appliance'],\n      freeShipping: true,\n      fastDelivery: true,\n      createdAt: '2024-02-28T10:00:00Z',\n      updatedAt: '2024-11-15T15:30:00Z'\n    },\n    {\n      id: '9',\n      name: 'The Silent Patient - Hardcover',\n      description: 'Bestselling psychological thriller by Alex Michaelides.',\n      longDescription: 'A woman\\'s act of violence against her husband and her refusal to speak sends shockwaves through London. The silent patient is a gripping psychological thriller that will keep you guessing until the final page. Winner of multiple literary awards.',\n      price: 16.99,\n      stock: 234,\n      stockQuantity: 234,\n      rating: 4.3,\n      reviewCount: 18293,\n      images: [\n        'assets/images/products/silent-patient-book-1.jpg',\n        'assets/images/products/silent-patient-book-2.jpg'\n      ],\n      imageUrl: 'assets/images/products/silent-patient-book-1.jpg',\n      categoryId: 'books',\n      category: { id: 'books', name: 'Books', description: 'Books across all genres', image: 'assets/images/categories/books.jpg' },\n      sku: 'BOOK-SP-HC-ENG',\n      keyFeatures: [\n        'Bestselling thriller',\n        'Hardcover edition',\n        '368 pages',\n        'Award-winning author'\n      ],\n      specifications: {\n        'Format': 'Hardcover',\n        'Pages': '368',\n        'Publisher': 'Celadon Books',\n        'Language': 'English',\n        'ISBN': '978-1250301697',\n        'Dimensions': '6.4\" x 1.4\" x 9.6\"'\n      },\n      tags: ['book', 'thriller', 'psychological', 'bestseller', 'fiction'],\n      freeShipping: true,\n      createdAt: '2024-01-05T10:00:00Z',\n      updatedAt: '2024-08-10T15:30:00Z'\n    },\n    {\n      id: '10',\n      name: 'Fenty Beauty Pro Filter Foundation',\n      description: 'Soft-matte, buildable foundation with medium to full coverage.',\n      longDescription: 'Fenty Beauty\\'s Pro Filter Foundation provides a smooth, poreless-looking finish that\\'s so stunning, it\\'s like hitting the soft-focus filter on your complexion but IRL. Available in 50 shades, this climate-adaptive, soft-matte foundation is buildable from medium to full coverage.',\n      price: 39,\n      stock: 78,\n      stockQuantity: 78,\n      rating: 4.6,\n      reviewCount: 4821,\n      images: [\n        'assets/images/products/fenty-foundation-1.jpg',\n        'assets/images/products/fenty-foundation-2.jpg',\n        'assets/images/products/fenty-foundation-3.jpg'\n      ],\n      imageUrl: 'assets/images/products/fenty-foundation-1.jpg',\n      categoryId: 'beauty',\n      category: { id: 'beauty', name: 'Beauty & Personal Care', description: 'Beauty products and personal care items', image: 'assets/images/categories/beauty.jpg' },\n      sku: 'FENTY-PF-150',\n      brand: 'Fenty Beauty',\n      keyFeatures: [\n        '50 inclusive shades',\n        'Soft-matte finish',\n        'Buildable coverage',\n        'Climate-adaptive formula'\n      ],\n      specifications: {\n        'Coverage': 'Medium to full',\n        'Finish': 'Soft-matte',\n        'Size': '32ml / 1.08 fl oz',\n        'Skin Type': 'All skin types',\n        'Key Ingredients': 'Climate-adaptive technology',\n        'Cruelty-free': 'Yes'\n      },\n      tags: ['foundation', 'makeup', 'fenty', 'beauty', 'inclusive', 'coverage'],\n      freeShipping: true,\n      createdAt: '2024-04-18T10:00:00Z',\n      updatedAt: '2024-10-22T15:30:00Z'\n    }\n  ];\n\n  private reviews: Review[] = [\n    {\n      id: 'r1',\n      productId: '1',\n      userId: 'u1',\n      userName: 'Sarah Johnson',\n      userAvatar: 'assets/images/users/sarah.jpg',\n      rating: 5,\n      title: 'Amazing camera quality!',\n      comment: 'The camera on this iPhone is absolutely incredible. The 5x optical zoom and night mode work perfectly.',\n      createdAt: '2024-11-15T14:30:00Z',\n      updatedAt: '2024-11-15T14:30:00Z'\n    },\n    {\n      id: 'r2',\n      productId: '1',\n      userId: 'u2',\n      userName: 'Mike Chen',\n      userAvatar: 'assets/images/users/mike.jpg',\n      rating: 4,\n      title: 'Great phone, expensive but worth it',\n      comment: 'Love the titanium build and the performance is top-notch. Battery life could be better.',\n      createdAt: '2024-11-10T09:15:00Z',\n      updatedAt: '2024-11-10T09:15:00Z'\n    }\n  ];\n\n  getProducts(options: {\n    page?: number;\n    limit?: number;\n    sortBy?: string;\n    order?: 'asc' | 'desc';\n    category?: string;\n    minPrice?: number;\n    maxPrice?: number;\n    search?: string;\n  } = {}): Observable<{ products: Product[]; totalCount: number; page: number; limit: number }> {\n    \n    let filteredProducts = [...this.products];\n    \n    // Apply filters\n    if (options.category) {\n      filteredProducts = filteredProducts.filter(p => \n        p.categoryId === options.category || p.category.name.toLowerCase().includes(options.category!.toLowerCase())\n      );\n    }\n    \n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      filteredProducts = filteredProducts.filter(p =>\n        p.name.toLowerCase().includes(searchTerm) ||\n        p.description.toLowerCase().includes(searchTerm) ||\n        p.brand?.toLowerCase().includes(searchTerm)\n      );\n    }\n    \n    if (options.minPrice) {\n      filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice!);\n    }\n    \n    if (options.maxPrice) {\n      filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice!);\n    }\n    \n    // Apply sorting\n    if (options.sortBy) {\n      filteredProducts.sort((a, b) => {\n        let aValue, bValue;\n        \n        switch (options.sortBy) {\n          case 'price':\n            aValue = a.price;\n            bValue = b.price;\n            break;\n          case 'name':\n            aValue = a.name;\n            bValue = b.name;\n            break;\n          case 'rating':\n            aValue = a.rating;\n            bValue = b.rating;\n            break;\n          case 'created':\n            aValue = new Date(a.createdAt).getTime();\n            bValue = new Date(b.createdAt).getTime();\n            break;\n          default:\n            return 0;\n        }\n        \n        if (typeof aValue === 'string' && typeof bValue === 'string') {\n          return options.order === 'desc' ? bValue.localeCompare(aValue) : aValue.localeCompare(bValue);\n        }\n        \n        return options.order === 'desc' ? (bValue as number) - (aValue as number) : (aValue as number) - (bValue as number);\n      });\n    }\n    \n    const totalCount = filteredProducts.length;\n    const page = options.page || 1;\n    const limit = options.limit || 10;\n    const startIndex = (page - 1) * limit;\n    const endIndex = startIndex + limit;\n    \n    const paginatedProducts = filteredProducts.slice(startIndex, endIndex);\n    \n    return of({\n      products: paginatedProducts,\n      totalCount,\n      page,\n      limit\n    }).pipe(delay(500)); // Simulate network delay\n  }\n  \n  getProductById(id: string): Observable<Product> {\n    const product = this.products.find(p => p.id === id);\n    if (!product) {\n      throw new Error('Product not found');\n    }\n    return of(product).pipe(delay(300));\n  }\n  \n  getCategories(): Observable<Category[]> {\n    return of(this.categories).pipe(delay(200));\n  }\n  \n  getFeaturedProducts(limit = 8): Observable<Product[]> {\n    const featured = this.products.filter(p => p.featured).slice(0, limit);\n    return of(featured).pipe(delay(300));\n  }\n  \n  getProductReviews(productId: string, page = 1, limit = 10): Observable<{ reviews: Review[]; totalCount: number }> {\n    const productReviews = this.reviews.filter(r => r.productId === productId);\n    const startIndex = (page - 1) * limit;\n    const endIndex = startIndex + limit;\n    const paginatedReviews = productReviews.slice(startIndex, endIndex);\n    \n    return of({\n      reviews: paginatedReviews,\n      totalCount: productReviews.length\n    }).pipe(delay(400));\n  }\n  \n  getRelatedProducts(productId: string, limit = 4): Observable<Product[]> {\n    const product = this.products.find(p => p.id === productId);\n    if (!product) {\n      return of([]);\n    }\n    \n    const related = this.products\n      .filter(p => p.id !== productId && p.categoryId === product.categoryId)\n      .slice(0, limit);\n      \n    return of(related).pipe(delay(300));\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}