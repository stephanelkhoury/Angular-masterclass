{"ast":null,"code":"import { createEffect, ofType } from '@ngrx/effects';\nimport { ROUTER_NAVIGATION } from '@ngrx/router-store';\nimport { tap } from 'rxjs/operators';\nimport { clearError } from '../actions/ui.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/effects\";\nimport * as i2 from \"@ngrx/store\";\nclass AppEffects {\n  constructor(actions$, store) {\n    this.actions$ = actions$;\n    this.store = store;\n    // Clear errors when navigating\n    this.navigationEffect$ = createEffect(() => this.actions$.pipe(ofType(ROUTER_NAVIGATION), tap(() => {\n      this.store.dispatch(clearError());\n    })), {\n      dispatch: false\n    });\n  }\n  static {\n    this.ɵfac = function AppEffects_Factory(t) {\n      return new (t || AppEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(i2.Store));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AppEffects,\n      factory: AppEffects.ɵfac\n    });\n  }\n}\nexport { AppEffects };","map":{"version":3,"names":["createEffect","ofType","ROUTER_NAVIGATION","tap","clearError","AppEffects","constructor","actions$","store","navigationEffect$","pipe","dispatch","i0","ɵɵinject","i1","Actions","i2","Store","factory","ɵfac"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/Ecommerce-Project/code-examples/angular-ecommerce/src/app/store/effects/app.effects.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { ROUTER_NAVIGATION } from '@ngrx/router-store';\nimport { tap } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../index';\nimport { setLoading, clearError } from '../actions/ui.actions';\n\n@Injectable()\nexport class AppEffects {\n  // Clear errors when navigating\n  navigationEffect$ = createEffect(() => \n    this.actions$.pipe(\n      ofType(ROUTER_NAVIGATION),\n      tap(() => {\n        this.store.dispatch(clearError());\n      })\n    ),\n    { dispatch: false }\n  );\n\n  constructor(\n    private actions$: Actions,\n    private store: Store<AppState>\n  ) {}\n}\n"],"mappings":"AACA,SAAkBA,YAAY,EAAEC,MAAM,QAAQ,eAAe;AAC7D,SAASC,iBAAiB,QAAQ,oBAAoB;AACtD,SAASC,GAAG,QAAQ,gBAAgB;AAIpC,SAAqBC,UAAU,QAAQ,uBAAuB;;;;AAE9D,MACaC,UAAU;EAYrBC,YACUC,QAAiB,EACjBC,KAAsB;IADtB,KAAAD,QAAQ,GAARA,QAAQ;IACR,KAAAC,KAAK,GAALA,KAAK;IAbf;IACA,KAAAC,iBAAiB,GAAGT,YAAY,CAAC,MAC/B,IAAI,CAACO,QAAQ,CAACG,IAAI,CAChBT,MAAM,CAACC,iBAAiB,CAAC,EACzBC,GAAG,CAAC,MAAK;MACP,IAAI,CAACK,KAAK,CAACG,QAAQ,CAACP,UAAU,EAAE,CAAC;IACnC,CAAC,CAAC,CACH,EACD;MAAEO,QAAQ,EAAE;IAAK,CAAE,CACpB;EAKE;;;uBAfQN,UAAU,EAAAO,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,OAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,KAAA;IAAA;EAAA;;;aAAVZ,UAAU;MAAAa,OAAA,EAAVb,UAAU,CAAAc;IAAA;EAAA;;SAAVd,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}