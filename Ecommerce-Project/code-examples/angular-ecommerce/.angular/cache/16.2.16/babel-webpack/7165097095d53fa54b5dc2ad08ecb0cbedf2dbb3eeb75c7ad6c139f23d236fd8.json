{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/icon\";\nfunction StarRatingComponent_mat_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-icon\", 4);\n    i0.ɵɵlistener(\"click\", function StarRatingComponent_mat_icon_1_Template_mat_icon_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onStarClick(i_r4 + 1));\n    })(\"mouseenter\", function StarRatingComponent_mat_icon_1_Template_mat_icon_mouseenter_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const i_r4 = restoredCtx.index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.interactive && ctx_r7.onStarHover(i_r4 + 1));\n    })(\"mouseleave\", function StarRatingComponent_mat_icon_1_Template_mat_icon_mouseleave_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.interactive && ctx_r8.onStarHover(0));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getStarIcon(i_r4 + 1), \" \");\n  }\n}\nfunction StarRatingComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, ctx_r1.rating, \"1.1-1\"));\n  }\n}\nfunction StarRatingComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r2.reviewCount, \")\");\n  }\n}\nclass StarRatingComponent {\n  constructor() {\n    this.rating = 0;\n    this.maxRating = 5;\n    this.interactive = false;\n    this.showRatingValue = false;\n    this.ratingChange = new EventEmitter();\n    this.hoveredRating = 0;\n  }\n  get stars() {\n    return Array(this.maxRating).fill(0).map((_, i) => i);\n  }\n  getStarIcon(starPosition) {\n    const rating = this.hoveredRating || this.rating;\n    if (rating >= starPosition) {\n      return 'star';\n    } else if (rating >= starPosition - 0.5) {\n      return 'star_half';\n    } else {\n      return 'star_border';\n    }\n  }\n  onStarClick(rating) {\n    if (this.interactive) {\n      this.rating = this.rating === rating ? rating - 1 : rating;\n      this.ratingChange.emit(this.rating);\n    }\n  }\n  onStarHover(rating) {\n    this.hoveredRating = rating;\n  }\n  static {\n    this.ɵfac = function StarRatingComponent_Factory(t) {\n      return new (t || StarRatingComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: StarRatingComponent,\n      selectors: [[\"app-star-rating\"]],\n      inputs: {\n        rating: \"rating\",\n        maxRating: \"maxRating\",\n        interactive: \"interactive\",\n        showRatingValue: \"showRatingValue\",\n        reviewCount: \"reviewCount\"\n      },\n      outputs: {\n        ratingChange: \"ratingChange\"\n      },\n      decls: 4,\n      vars: 5,\n      consts: [[1, \"star-rating\"], [3, \"click\", \"mouseenter\", \"mouseleave\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"rating-value\", 4, \"ngIf\"], [\"class\", \"review-count\", 4, \"ngIf\"], [3, \"click\", \"mouseenter\", \"mouseleave\"], [1, \"rating-value\"], [1, \"review-count\"]],\n      template: function StarRatingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, StarRatingComponent_mat_icon_1_Template, 2, 1, \"mat-icon\", 1);\n          i0.ɵɵtemplate(2, StarRatingComponent_span_2_Template, 3, 4, \"span\", 2);\n          i0.ɵɵtemplate(3, StarRatingComponent_span_3_Template, 2, 1, \"span\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"interactive\", ctx.interactive);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.stars);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.showRatingValue);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.reviewCount !== undefined);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf, i2.MatIcon, i1.DecimalPipe],\n      styles: [\".star-rating[_ngcontent-%COMP%] {\\n      display: inline-flex;\\n      align-items: center;\\n      color: #ffc107;\\n    }\\n    .interactive[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\\n      cursor: pointer;\\n    }\\n    .rating-value[_ngcontent-%COMP%] {\\n      margin-left: 8px;\\n      font-size: 0.9em;\\n      color: rgba(0,0,0,0.6);\\n    }\\n    .review-count[_ngcontent-%COMP%] {\\n      margin-left: 4px;\\n      font-size: 0.9em;\\n      color: rgba(0,0,0,0.6);\\n    }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvc3Rhci1yYXRpbmcvc3Rhci1yYXRpbmcuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7SUFDSTtNQUNFLG9CQUFvQjtNQUNwQixtQkFBbUI7TUFDbkIsY0FBYztJQUNoQjtJQUNBO01BQ0UsZUFBZTtJQUNqQjtJQUNBO01BQ0UsZ0JBQWdCO01BQ2hCLGdCQUFnQjtNQUNoQixzQkFBc0I7SUFDeEI7SUFDQTtNQUNFLGdCQUFnQjtNQUNoQixnQkFBZ0I7TUFDaEIsc0JBQXNCO0lBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgLnN0YXItcmF0aW5nIHtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGNvbG9yOiAjZmZjMTA3O1xuICAgIH1cbiAgICAuaW50ZXJhY3RpdmUgbWF0LWljb24ge1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAucmF0aW5nLXZhbHVlIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICBmb250LXNpemU6IDAuOWVtO1xuICAgICAgY29sb3I6IHJnYmEoMCwwLDAsMC42KTtcbiAgICB9XG4gICAgLnJldmlldy1jb3VudCB7XG4gICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgZm9udC1zaXplOiAwLjllbTtcbiAgICAgIGNvbG9yOiByZ2JhKDAsMCwwLDAuNik7XG4gICAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}\nexport { StarRatingComponent };","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵlistener","StarRatingComponent_mat_icon_1_Template_mat_icon_click_0_listener","restoredCtx","ɵɵrestoreView","_r6","i_r4","index","ctx_r5","ɵɵnextContext","ɵɵresetView","onStarClick","StarRatingComponent_mat_icon_1_Template_mat_icon_mouseenter_0_listener","ctx_r7","interactive","onStarHover","StarRatingComponent_mat_icon_1_Template_mat_icon_mouseleave_0_listener","ctx_r8","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","getStarIcon","ɵɵtextInterpolate","ɵɵpipeBind2","ctx_r1","rating","ctx_r2","reviewCount","StarRatingComponent","constructor","maxRating","showRatingValue","ratingChange","hoveredRating","stars","Array","fill","map","_","i","starPosition","emit","selectors","inputs","outputs","decls","vars","consts","template","StarRatingComponent_Template","rf","ctx","ɵɵtemplate","StarRatingComponent_mat_icon_1_Template","StarRatingComponent_span_2_Template","StarRatingComponent_span_3_Template","ɵɵclassProp","ɵɵproperty","undefined"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/shared/components/star-rating/star-rating.component.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-star-rating',\n  template: `\n    <div class=\"star-rating\" [class.interactive]=\"interactive\">\n      <mat-icon *ngFor=\"let star of stars; let i = index\"\n                (click)=\"onStarClick(i + 1)\"\n                (mouseenter)=\"interactive && onStarHover(i + 1)\"\n                (mouseleave)=\"interactive && onStarHover(0)\">\n        {{ getStarIcon(i + 1) }}\n      </mat-icon>\n      <span *ngIf=\"showRatingValue\" class=\"rating-value\">{{ rating | number:'1.1-1' }}</span>\n      <span *ngIf=\"reviewCount !== undefined\" class=\"review-count\">({{ reviewCount }})</span>\n    </div>\n  `,\n  styles: [`\n    .star-rating {\n      display: inline-flex;\n      align-items: center;\n      color: #ffc107;\n    }\n    .interactive mat-icon {\n      cursor: pointer;\n    }\n    .rating-value {\n      margin-left: 8px;\n      font-size: 0.9em;\n      color: rgba(0,0,0,0.6);\n    }\n    .review-count {\n      margin-left: 4px;\n      font-size: 0.9em;\n      color: rgba(0,0,0,0.6);\n    }\n  `]\n})\nexport class StarRatingComponent {\n  @Input() rating: number = 0;\n  @Input() maxRating: number = 5;\n  @Input() interactive: boolean = false;\n  @Input() showRatingValue: boolean = false;\n  @Input() reviewCount: number | undefined;\n  \n  @Output() ratingChange = new EventEmitter<number>();\n  \n  hoveredRating: number = 0;\n  \n  get stars(): number[] {\n    return Array(this.maxRating).fill(0).map((_, i) => i);\n  }\n  \n  getStarIcon(starPosition: number): string {\n    const rating = this.hoveredRating || this.rating;\n    \n    if (rating >= starPosition) {\n      return 'star';\n    } else if (rating >= starPosition - 0.5) {\n      return 'star_half';\n    } else {\n      return 'star_border';\n    }\n  }\n  \n  onStarClick(rating: number): void {\n    if (this.interactive) {\n      this.rating = this.rating === rating ? rating - 1 : rating;\n      this.ratingChange.emit(this.rating);\n    }\n  }\n  \n  onStarHover(rating: number): void {\n    this.hoveredRating = rating;\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}