{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { checkAuthStatus, logout } from './store/actions/auth.actions';\nimport { selectIsLoading } from './store/selectors/ui.selectors';\nimport { selectIsAuthenticated, selectCurrentUser } from './store/selectors/auth.selectors';\nimport { selectCartItemCount } from './store/selectors/cart.selectors';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/service-worker\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"./shared/components/header/header.component\";\nimport * as i8 from \"./shared/components/footer/footer.component\";\nimport * as i9 from \"./shared/components/loading-spinner/loading-spinner.component\";\nfunction AppComponent_app_loading_spinner_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-spinner\", 4);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"overlay\", true);\n  }\n}\nclass AppComponent {\n  constructor(store, router, swUpdate) {\n    this.store = store;\n    this.router = router;\n    this.swUpdate = swUpdate;\n    this.updateAvailable = false;\n    this.isLoading$ = this.store.select(selectIsLoading);\n    this.isAuthenticated$ = this.store.select(selectIsAuthenticated);\n    this.currentUser$ = this.store.select(selectCurrentUser);\n    this.cartItemCount$ = this.store.select(selectCartItemCount);\n  }\n  ngOnInit() {\n    // Check authentication status on app load\n    this.store.dispatch(checkAuthStatus());\n    // Scroll to top on route change\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(() => window.scrollTo(0, 0));\n    // Subscribe to service worker updates\n    if (this.swUpdate.isEnabled) {\n      this.swUpdate.versionUpdates.subscribe(() => {\n        this.updateAvailable = true;\n      });\n    }\n  }\n  updateApp() {\n    if (this.updateAvailable) {\n      window.location.reload();\n    }\n  }\n  logout() {\n    this.store.dispatch(logout());\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.SwUpdate));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 11,\n      vars: 5,\n      consts: [[1, \"app-layout\"], [\"role\", \"main\", 1, \"main-content\"], [3, \"overlay\", 4, \"ngIf\"], [\"attr.aria-label\", \"Back to top\", \"mat-fab\", \"\", \"color\", \"primary\", 1, \"back-to-top\", 3, \"click\"], [3, \"overlay\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-header\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"main\", 1);\n          i0.ɵɵelement(3, \"router-outlet\");\n          i0.ɵɵtemplate(4, AppComponent_app_loading_spinner_4_Template, 1, 1, \"app-loading-spinner\", 2);\n          i0.ɵɵpipe(5, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(6, \"app-footer\")(7, \"app-notification-container\");\n          i0.ɵɵelementStart(8, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_8_listener() {\n            return ctx.scrollToTop();\n          });\n          i0.ɵɵelementStart(9, \"mat-icon\");\n          i0.ɵɵtext(10, \"keyboard_arrow_up\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 3, ctx.isLoading$));\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"visible\", ctx.showBackToTop);\n        }\n      },\n      dependencies: [i4.NgIf, i2.RouterOutlet, i5.MatFabButton, i6.MatIcon, i7.HeaderComponent, i8.FooterComponent, i9.LoadingSpinnerComponent, i4.AsyncPipe],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 282:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nunmatched \\\\\\\"}\\\\\\\".\\\\n    \\u2577\\\\n456 \\u2502   }\\\\n    \\u2502   ^\\\\n    \\u2575\\\\n  src/app/app.component.scss 456:3  root stylesheet\\\");\\n\\n\\n })\\n\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n\\n\\n \\t\\n\\n \\t//[_ngcontent-%COMP%]   startup\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined\\n\\n[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n\\n \\t__webpack_modules__[282]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\"]\n    });\n  }\n}\nexport { AppComponent };","map":{"version":3,"names":["NavigationEnd","filter","checkAuthStatus","logout","selectIsLoading","selectIsAuthenticated","selectCurrentUser","selectCartItemCount","i0","ɵɵelement","ɵɵproperty","AppComponent","constructor","store","router","swUpdate","updateAvailable","isLoading$","select","isAuthenticated$","currentUser$","cartItemCount$","ngOnInit","dispatch","events","pipe","event","subscribe","window","scrollTo","isEnabled","versionUpdates","updateApp","location","reload","ɵɵdirectiveInject","i1","Store","i2","Router","i3","SwUpdate","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtemplate","AppComponent_app_loading_spinner_4_Template","ɵɵelementEnd","ɵɵlistener","AppComponent_Template_button_click_8_listener","scrollToTop","ɵɵtext","ɵɵadvance","ɵɵpipeBind1","ɵɵclassProp","showBackToTop"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/app.component.ts","/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { SwUpdate } from '@angular/service-worker';\n\nimport { AppState } from './store';\nimport { checkAuthStatus, logout } from './store/actions/auth.actions';\nimport { selectIsLoading } from './store/selectors/ui.selectors';\nimport { selectIsAuthenticated, selectCurrentUser } from './store/selectors/auth.selectors';\nimport { selectCartItemCount } from './store/selectors/cart.selectors';\nimport { User } from './core/models/user.model';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  isLoading$: Observable<boolean>;\n  isAuthenticated$: Observable<boolean>;\n  currentUser$: Observable<User | null>;\n  cartItemCount$: Observable<number>;\n  updateAvailable = false;\n\n  constructor(\n    private store: Store<AppState>,\n    private router: Router,\n    private swUpdate: SwUpdate\n  ) {\n    this.isLoading$ = this.store.select(selectIsLoading);\n    this.isAuthenticated$ = this.store.select(selectIsAuthenticated);\n    this.currentUser$ = this.store.select(selectCurrentUser);\n    this.cartItemCount$ = this.store.select(selectCartItemCount);\n  }\n\n  ngOnInit(): void {\n    // Check authentication status on app load\n    this.store.dispatch(checkAuthStatus());\n    \n    // Scroll to top on route change\n    this.router.events\n      .pipe(filter(event => event instanceof NavigationEnd))\n      .subscribe(() => window.scrollTo(0, 0));\n    \n    // Subscribe to service worker updates\n    if (this.swUpdate.isEnabled) {\n      this.swUpdate.versionUpdates.subscribe(() => {\n        this.updateAvailable = true;\n      });\n    }\n  }\n\n  updateApp(): void {\n    if (this.updateAvailable) {\n      window.location.reload();\n    }\n  }\n\n  logout(): void {\n    this.store.dispatch(logout());\n  }\n}\n","<!-- Modern Header Component -->\n<app-header></app-header>\n\n<!-- Main Application Layout -->\n<div class=\"app-layout\">\n  <!-- Content Area -->\n  <main class=\"main-content\" role=\"main\">\n    <!-- Router outlet for dynamic content -->\n    <router-outlet></router-outlet>\n    \n    <!-- Loading overlay for app-wide operations -->\n    <app-loading-spinner *ngIf=\"isLoading$ | async\" [overlay]=\"true\"></app-loading-spinner>\n  </main>\n</div>\n\n<!-- Modern Footer Component -->\n<app-footer></app-footer>\n\n<!-- Notification system -->\n<app-notification-container></app-notification-container>\n\n<!-- Back to top button -->\n<button \n  class=\"back-to-top\" \n  [class.visible]=\"showBackToTop\"\n  (click)=\"scrollToTop()\"\n  attr.aria-label=\"Back to top\"\n  mat-fab\n  color=\"primary\">\n  <mat-icon>keyboard_arrow_up</mat-icon>\n</button>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}