{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { Subject, combineLatest } from 'rxjs';\nimport { takeUntil, debounceTime, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../core/services/product.service\";\nimport * as i4 from \"../../core/services/cart.service\";\nimport * as i5 from \"../../core/services/notification.service\";\nimport * as i6 from \"./components/product-filters/product-filters.component\";\nimport * as i7 from \"./components/product-sort/product-sort.component\";\nimport * as i8 from \"./components/product-grid/product-grid.component\";\nimport * as i9 from \"./components/category-menu/category-menu.component\";\nfunction ProductsComponent_app_loading_spinner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-spinner\", 22);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"overlay\", true);\n  }\n}\nfunction ProductsComponent_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.searchControl.setValue(\"\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"close\");\n    i0.ɵɵelementEnd()();\n  }\n}\nclass ProductsComponent {\n  constructor(store, route, router, productService, cartService, notificationService) {\n    this.store = store;\n    this.route = route;\n    this.router = router;\n    this.productService = productService;\n    this.cartService = cartService;\n    this.notificationService = notificationService;\n    this.filters = {};\n    this.searchControl = new FormControl('');\n    this.viewMode = 'grid';\n    this.destroy$ = new Subject();\n    this.products$ = this.store.select(state => state.products.items);\n    this.categories$ = this.store.select(state => state.products.categories);\n    this.loading$ = this.store.select(state => state.ui.loading);\n    // Create filtered products stream\n    this.filteredProducts$ = combineLatest([this.products$, this.route.queryParams.pipe(map(params => {\n      const filters = {};\n      if (params['category']) filters.category = params['category'];\n      if (params['minPrice']) filters.minPrice = Number(params['minPrice']);\n      if (params['maxPrice']) filters.maxPrice = Number(params['maxPrice']);\n      if (params['rating']) filters.rating = Number(params['rating']);\n      if (params['sort']) filters.sort = params['sort'];\n      if (params['search']) {\n        filters.search = params['search'];\n        this.searchControl.setValue(params['search']);\n      }\n      this.filters = filters;\n      return filters;\n    }))]).pipe(map(([products, filters]) => this.filterProducts(products, filters)));\n  }\n  ngOnInit() {\n    // Load products and categories\n    this.productService.loadProducts();\n    this.productService.loadCategories();\n    // Handle search input with debounce\n    this.searchControl.valueChanges.pipe(debounceTime(300), takeUntil(this.destroy$)).subscribe(value => {\n      this.updateFilters({\n        search: value || undefined\n      });\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  onCategoryChange(categoryId) {\n    this.updateFilters({\n      category: categoryId || undefined\n    });\n  }\n  onPriceRangeChange(priceRange) {\n    this.updateFilters({\n      minPrice: priceRange.min,\n      maxPrice: priceRange.max\n    });\n  }\n  onRatingChange(rating) {\n    this.updateFilters({\n      rating: rating || undefined\n    });\n  }\n  onSortChange(sort) {\n    this.updateFilters({\n      sort\n    });\n  }\n  onViewModeChange(mode) {\n    this.viewMode = mode;\n  }\n  onAddToCart(product) {\n    this.cartService.addToCart(product);\n    this.notificationService.show(`${product.name} added to cart`);\n  }\n  onAddToWishlist(product) {\n    // This would dispatch the appropriate action for the wishlist\n    this.notificationService.show(`${product.name} added to wishlist`);\n  }\n  onViewDetails(product) {\n    this.router.navigate(['/products', product.id]);\n  }\n  resetFilters() {\n    this.searchControl.setValue('');\n    this.updateFilters({\n      category: undefined,\n      minPrice: undefined,\n      maxPrice: undefined,\n      rating: undefined,\n      sort: undefined,\n      search: undefined\n    });\n  }\n  updateFilters(newFilters) {\n    const updatedFilters = {\n      ...this.filters,\n      ...newFilters\n    };\n    // Remove undefined values\n    Object.keys(updatedFilters).forEach(key => {\n      if (updatedFilters[key] === undefined) {\n        delete updatedFilters[key];\n      }\n    });\n    // Navigate with new query params\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: {\n        ...updatedFilters\n      },\n      queryParamsHandling: 'merge'\n    });\n  }\n  filterProducts(products, filters) {\n    if (!filters || Object.keys(filters).length === 0) {\n      return products;\n    }\n    let filtered = [...products];\n    // Filter by category\n    if (filters.category) {\n      filtered = filtered.filter(product => product.category?.id === filters.category);\n    }\n    // Filter by price range\n    if (filters.minPrice !== undefined) {\n      filtered = filtered.filter(product => product.price >= filters.minPrice);\n    }\n    if (filters.maxPrice !== undefined) {\n      filtered = filtered.filter(product => product.price <= filters.maxPrice);\n    }\n    // Filter by rating\n    if (filters.rating !== undefined) {\n      filtered = filtered.filter(product => product.rating >= filters.rating);\n    }\n    // Filter by search term\n    if (filters.search) {\n      const searchTerm = filters.search.toLowerCase();\n      filtered = filtered.filter(product => product.name.toLowerCase().includes(searchTerm) || product.description.toLowerCase().includes(searchTerm) || product.category?.name.toLowerCase().includes(searchTerm));\n    }\n    // Sort products\n    if (filters.sort) {\n      switch (filters.sort) {\n        case 'price-low':\n          filtered.sort((a, b) => a.price - b.price);\n          break;\n        case 'price-high':\n          filtered.sort((a, b) => b.price - a.price);\n          break;\n        case 'rating':\n          filtered.sort((a, b) => b.rating - a.rating);\n          break;\n        case 'newest':\n          filtered.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n          break;\n        case 'popularity':\n          filtered.sort((a, b) => (b.reviews?.length || 0) - (a.reviews?.length || 0));\n          break;\n      }\n    }\n    return filtered;\n  }\n  static {\n    this.ɵfac = function ProductsComponent_Factory(t) {\n      return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ProductService), i0.ɵɵdirectiveInject(i4.CartService), i0.ɵɵdirectiveInject(i5.NotificationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductsComponent,\n      selectors: [[\"app-products\"]],\n      decls: 38,\n      vars: 21,\n      consts: [[1, \"products-page\"], [3, \"overlay\", 4, \"ngIf\"], [1, \"container\"], [1, \"page-header\"], [1, \"page-title\"], [1, \"search-container\"], [\"appearance\", \"outline\", 1, \"search-field\"], [\"matInput\", \"\", \"placeholder\", \"Search by name, category or description\", 3, \"formControl\"], [\"matSuffix\", \"\", \"mat-icon-button\", \"\", \"aria-label\", \"Clear\", 3, \"click\", 4, \"ngIf\"], [\"matSuffix\", \"\"], [1, \"products-layout\"], [1, \"filters-sidebar\"], [3, \"categories\", \"selectedCategory\", \"categorySelected\"], [3, \"minPrice\", \"maxPrice\", \"rating\", \"priceRangeChanged\", \"ratingChanged\"], [1, \"reset-filters\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"products-content\"], [1, \"products-toolbar\"], [3, \"currentSort\", \"sortChanged\"], [1, \"view-options\"], [\"mat-icon-button\", \"\", 3, \"click\"], [3, \"products\", \"viewMode\", \"addToCart\", \"addToWishlist\", \"viewDetails\"], [3, \"overlay\"], [\"matSuffix\", \"\", \"mat-icon-button\", \"\", \"aria-label\", \"Clear\", 3, \"click\"]],\n      template: function ProductsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, ProductsComponent_app_loading_spinner_1_Template, 1, 1, \"app-loading-spinner\", 1);\n          i0.ɵɵpipe(2, \"async\");\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"h1\", 4);\n          i0.ɵɵtext(6, \"Shop Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"mat-form-field\", 6)(9, \"mat-label\");\n          i0.ɵɵtext(10, \"Search products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 7);\n          i0.ɵɵtemplate(12, ProductsComponent_button_12_Template, 3, 0, \"button\", 8);\n          i0.ɵɵelementStart(13, \"mat-icon\", 9);\n          i0.ɵɵtext(14, \"search\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(15, \"div\", 10)(16, \"aside\", 11)(17, \"app-category-menu\", 12);\n          i0.ɵɵlistener(\"categorySelected\", function ProductsComponent_Template_app_category_menu_categorySelected_17_listener($event) {\n            return ctx.onCategoryChange($event);\n          });\n          i0.ɵɵpipe(18, \"async\");\n          i0.ɵɵtext(19, \"> \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"app-product-filters\", 13);\n          i0.ɵɵlistener(\"priceRangeChanged\", function ProductsComponent_Template_app_product_filters_priceRangeChanged_20_listener($event) {\n            return ctx.onPriceRangeChange($event);\n          })(\"ratingChanged\", function ProductsComponent_Template_app_product_filters_ratingChanged_20_listener($event) {\n            return ctx.onRatingChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\", 14)(22, \"button\", 15);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_22_listener() {\n            return ctx.resetFilters();\n          });\n          i0.ɵɵelementStart(23, \"mat-icon\");\n          i0.ɵɵtext(24, \"refresh\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(25, \" Reset Filters \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"div\", 16)(27, \"div\", 17)(28, \"app-product-sort\", 18);\n          i0.ɵɵlistener(\"sortChanged\", function ProductsComponent_Template_app_product_sort_sortChanged_28_listener($event) {\n            return ctx.onSortChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"div\", 19)(30, \"button\", 20);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_30_listener() {\n            return ctx.onViewModeChange(\"grid\");\n          });\n          i0.ɵɵelementStart(31, \"mat-icon\");\n          i0.ɵɵtext(32, \"grid_view\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"button\", 20);\n          i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_33_listener() {\n            return ctx.onViewModeChange(\"list\");\n          });\n          i0.ɵɵelementStart(34, \"mat-icon\");\n          i0.ɵɵtext(35, \"view_list\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(36, \"app-product-grid\", 21);\n          i0.ɵɵlistener(\"addToCart\", function ProductsComponent_Template_app_product_grid_addToCart_36_listener($event) {\n            return ctx.onAddToCart($event);\n          })(\"addToWishlist\", function ProductsComponent_Template_app_product_grid_addToWishlist_36_listener($event) {\n            return ctx.onAddToWishlist($event);\n          })(\"viewDetails\", function ProductsComponent_Template_app_product_grid_viewDetails_36_listener($event) {\n            return ctx.onViewDetails($event);\n          });\n          i0.ɵɵpipe(37, \"async\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 15, ctx.loading$));\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"formControl\", ctx.searchControl);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.searchControl.value);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"categories\", i0.ɵɵpipeBind1(18, 17, ctx.categories$))(\"selectedCategory\", ctx.filters.category || null);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"minPrice\", ctx.filters.minPrice || 0)(\"maxPrice\", ctx.filters.maxPrice || 1000)(\"rating\", ctx.filters.rating || 0);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"currentSort\", ctx.filters.sort || \"name\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"active\", ctx.viewMode === \"grid\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵclassProp(\"active\", ctx.viewMode === \"list\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"products\", i0.ɵɵpipeBind1(37, 19, ctx.filteredProducts$))(\"viewMode\", ctx.viewMode);\n        }\n      },\n      dependencies: [i6.ProductFiltersComponent, i7.ProductSortComponent, i8.ProductGridComponent, i9.CategoryMenuComponent],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 736:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nunmatched \\\\\\\"}\\\\\\\".\\\\n    \\u2577\\\\n457 \\u2502 }\\\\n    \\u2502 ^\\\\n    \\u2575\\\\n  src/app/features/products/products.component.scss 457:1  root stylesheet\\\");\\n\\n\\n })\\n\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n\\n\\n \\t\\n\\n \\t//[_ngcontent-%COMP%]   startup\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined\\n\\n[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n\\n \\t__webpack_modules__[736]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\"]\n    });\n  }\n}\nexport { ProductsComponent };","map":{"version":3,"names":["FormControl","Subject","combineLatest","takeUntil","debounceTime","map","i0","ɵɵelement","ɵɵproperty","ɵɵelementStart","ɵɵlistener","ProductsComponent_button_12_Template_button_click_0_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","searchControl","setValue","ɵɵtext","ɵɵelementEnd","ProductsComponent","constructor","store","route","router","productService","cartService","notificationService","filters","viewMode","destroy$","products$","select","state","products","items","categories$","categories","loading$","ui","loading","filteredProducts$","queryParams","pipe","params","category","minPrice","Number","maxPrice","rating","sort","search","filterProducts","ngOnInit","loadProducts","loadCategories","valueChanges","subscribe","value","updateFilters","undefined","ngOnDestroy","next","complete","onCategoryChange","categoryId","onPriceRangeChange","priceRange","min","max","onRatingChange","onSortChange","onViewModeChange","mode","onAddToCart","product","addToCart","show","name","onAddToWishlist","onViewDetails","navigate","id","resetFilters","newFilters","updatedFilters","Object","keys","forEach","key","relativeTo","queryParamsHandling","length","filtered","filter","price","searchTerm","toLowerCase","includes","description","a","b","Date","createdAt","getTime","reviews","ɵɵdirectiveInject","i1","Store","i2","ActivatedRoute","Router","i3","ProductService","i4","CartService","i5","NotificationService","selectors","decls","vars","consts","template","ProductsComponent_Template","rf","ctx","ɵɵtemplate","ProductsComponent_app_loading_spinner_1_Template","ProductsComponent_button_12_Template","ProductsComponent_Template_app_category_menu_categorySelected_17_listener","$event","ProductsComponent_Template_app_product_filters_priceRangeChanged_20_listener","ProductsComponent_Template_app_product_filters_ratingChanged_20_listener","ProductsComponent_Template_button_click_22_listener","ProductsComponent_Template_app_product_sort_sortChanged_28_listener","ProductsComponent_Template_button_click_30_listener","ProductsComponent_Template_button_click_33_listener","ProductsComponent_Template_app_product_grid_addToCart_36_listener","ProductsComponent_Template_app_product_grid_addToWishlist_36_listener","ProductsComponent_Template_app_product_grid_viewDetails_36_listener","ɵɵadvance","ɵɵpipeBind1","ɵɵclassProp"],"sources":["/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/features/products/products.component.ts","/Users/stephanelkhoury/Documents/GitHub/Angular-masterclass/25-Ecommerce-Project/code-examples/angular-ecommerce/src/app/features/products/products.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormControl } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { Observable, Subject, combineLatest } from 'rxjs';\nimport { takeUntil, debounceTime, map } from 'rxjs/operators';\n\nimport { AppState } from '../../store';\nimport { Product, Category } from '../../core/models/product.model';\nimport { ProductService } from '../../core/services/product.service';\nimport { CartService } from '../../core/services/cart.service';\nimport { NotificationService } from '../../core/services/notification.service';\n\ninterface ProductFilters {\n  [key: string]: string | number | undefined;\n  category?: string;\n  minPrice?: number;\n  maxPrice?: number;\n  rating?: number;\n  sort?: string;\n  search?: string;\n}\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss']\n})\nexport class ProductsComponent implements OnInit, OnDestroy {\n  products$: Observable<Product[]>;\n  categories$: Observable<Category[]>;\n  filteredProducts$: Observable<Product[]>;\n  loading$: Observable<boolean>;\n  \n  filters: ProductFilters = {};\n  searchControl = new FormControl('');\n  \n  viewMode: 'grid' | 'list' = 'grid';\n  \n  private destroy$ = new Subject<void>();\n  \n  constructor(\n    private store: Store<AppState>,\n    private route: ActivatedRoute,\n    private router: Router,\n    private productService: ProductService,\n    private cartService: CartService,\n    private notificationService: NotificationService\n  ) {\n    this.products$ = this.store.select(state => state.products.items);\n    this.categories$ = this.store.select(state => state.products.categories);\n    this.loading$ = this.store.select(state => state.ui.loading);\n    \n    // Create filtered products stream\n    this.filteredProducts$ = combineLatest([\n      this.products$,\n      this.route.queryParams.pipe(map(params => {\n        const filters: ProductFilters = {};\n        \n        if (params['category']) filters.category = params['category'];\n        if (params['minPrice']) filters.minPrice = Number(params['minPrice']);\n        if (params['maxPrice']) filters.maxPrice = Number(params['maxPrice']);\n        if (params['rating']) filters.rating = Number(params['rating']);\n        if (params['sort']) filters.sort = params['sort'];\n        if (params['search']) {\n          filters.search = params['search'];\n          this.searchControl.setValue(params['search']);\n        }\n        \n        this.filters = filters;\n        return filters;\n      }))\n    ]).pipe(\n      map(([products, filters]) => this.filterProducts(products, filters))\n    );\n  }\n  \n  ngOnInit(): void {\n    // Load products and categories\n    this.productService.loadProducts();\n    this.productService.loadCategories();\n    \n    // Handle search input with debounce\n    this.searchControl.valueChanges.pipe(\n      debounceTime(300),\n      takeUntil(this.destroy$)\n    ).subscribe(value => {\n      this.updateFilters({ search: value || undefined });\n    });\n  }\n  \n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  \n  onCategoryChange(categoryId: string | null): void {\n    this.updateFilters({ category: categoryId || undefined });\n  }\n  \n  onPriceRangeChange(priceRange: { min: number, max: number }): void {\n    this.updateFilters({\n      minPrice: priceRange.min,\n      maxPrice: priceRange.max\n    });\n  }\n  \n  onRatingChange(rating: number | null): void {\n    this.updateFilters({ rating: rating || undefined });\n  }\n  \n  onSortChange(sort: string): void {\n    this.updateFilters({ sort });\n  }\n  \n  onViewModeChange(mode: 'grid' | 'list'): void {\n    this.viewMode = mode;\n  }\n  \n  onAddToCart(product: Product): void {\n    this.cartService.addToCart(product);\n    this.notificationService.show(`${product.name} added to cart`);\n  }\n  \n  onAddToWishlist(product: Product): void {\n    // This would dispatch the appropriate action for the wishlist\n    this.notificationService.show(`${product.name} added to wishlist`);\n  }\n  \n  onViewDetails(product: Product): void {\n    this.router.navigate(['/products', product.id]);\n  }\n  \n  resetFilters(): void {\n    this.searchControl.setValue('');\n    this.updateFilters({\n      category: undefined,\n      minPrice: undefined,\n      maxPrice: undefined,\n      rating: undefined,\n      sort: undefined,\n      search: undefined\n    });\n  }\n  \n  private updateFilters(newFilters: Partial<ProductFilters>): void {\n    const updatedFilters = { ...this.filters, ...newFilters };\n    \n    // Remove undefined values\n    Object.keys(updatedFilters).forEach(key => {\n      if (updatedFilters[key] === undefined) {\n        delete updatedFilters[key];\n      }\n    });\n    \n    // Navigate with new query params\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { ...updatedFilters },\n      queryParamsHandling: 'merge'\n    });\n  }\n  \n  private filterProducts(products: Product[], filters: ProductFilters): Product[] {\n    if (!filters || Object.keys(filters).length === 0) {\n      return products;\n    }\n    \n    let filtered = [...products];\n    \n    // Filter by category\n    if (filters.category) {\n      filtered = filtered.filter(product => product.category?.id === filters.category);\n    }\n    \n    // Filter by price range\n    if (filters.minPrice !== undefined) {\n      filtered = filtered.filter(product => product.price >= filters.minPrice!);\n    }\n    \n    if (filters.maxPrice !== undefined) {\n      filtered = filtered.filter(product => product.price <= filters.maxPrice!);\n    }\n    \n    // Filter by rating\n    if (filters.rating !== undefined) {\n      filtered = filtered.filter(product => product.rating >= filters.rating!);\n    }\n    \n    // Filter by search term\n    if (filters.search) {\n      const searchTerm = filters.search.toLowerCase();\n      filtered = filtered.filter(product => \n        product.name.toLowerCase().includes(searchTerm) || \n        product.description.toLowerCase().includes(searchTerm) ||\n        product.category?.name.toLowerCase().includes(searchTerm)\n      );\n    }\n    \n    // Sort products\n    if (filters.sort) {\n      switch (filters.sort) {\n        case 'price-low':\n          filtered.sort((a, b) => a.price - b.price);\n          break;\n        case 'price-high':\n          filtered.sort((a, b) => b.price - a.price);\n          break;\n        case 'rating':\n          filtered.sort((a, b) => b.rating - a.rating);\n          break;\n        case 'newest':\n          filtered.sort((a, b) => \n            new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n          );\n          break;\n        case 'popularity':\n          filtered.sort((a, b) => (b.reviews?.length || 0) - (a.reviews?.length || 0));\n          break;\n      }\n    }\n    \n    return filtered;\n  }\n}\n","<div class=\"products-page\">\n  <!-- Loading Spinner -->\n  <app-loading-spinner *ngIf=\"loading$ | async\" [overlay]=\"true\"></app-loading-spinner>\n  \n  <div class=\"container\">\n    <!-- Page Header -->\n    <div class=\"page-header\">\n      <h1 class=\"page-title\">Shop Products</h1>\n      \n      <!-- Search Bar -->\n      <div class=\"search-container\">\n        <mat-form-field appearance=\"outline\" class=\"search-field\">\n          <mat-label>Search products</mat-label>\n          <input matInput [formControl]=\"searchControl\" placeholder=\"Search by name, category or description\">\n          <button *ngIf=\"searchControl.value\" matSuffix mat-icon-button aria-label=\"Clear\" (click)=\"searchControl.setValue('')\">\n            <mat-icon>close</mat-icon>\n          </button>\n          <mat-icon matSuffix>search</mat-icon>\n        </mat-form-field>\n      </div>\n    </div>\n    \n    <div class=\"products-layout\">\n      <!-- Sidebar / Filters -->\n      <aside class=\"filters-sidebar\">\n        <!-- Category Menu -->\n        <app-category-menu \n          [categories]=\"categories$ | async\" \n          [selectedCategory]=\"filters.category || null\"\n          (categorySelected)=\"onCategoryChange($any($event))\">>\n        </app-category-menu>\n        \n        <!-- Product Filters -->\n        <app-product-filters\n          [minPrice]=\"filters.minPrice || 0\"\n          [maxPrice]=\"filters.maxPrice || 1000\"\n          [rating]=\"filters.rating || 0\"\n          (priceRangeChanged)=\"onPriceRangeChange($event)\"\n          (ratingChanged)=\"onRatingChange($event)\">\n        </app-product-filters>\n        \n        <!-- Reset Filters Button -->\n        <div class=\"reset-filters\">\n          <button mat-stroked-button color=\"primary\" (click)=\"resetFilters()\">\n            <mat-icon>refresh</mat-icon>\n            Reset Filters\n          </button>\n        </div>\n      </aside>\n      \n      <!-- Products Content -->\n      <div class=\"products-content\">\n        <!-- Toolbar with sort and view options -->\n        <div class=\"products-toolbar\">\n          <app-product-sort \n            [currentSort]=\"filters.sort || 'name'\"\n            (sortChanged)=\"onSortChange($event)\">\n          </app-product-sort>\n          \n          <div class=\"view-options\">\n            <button mat-icon-button [class.active]=\"viewMode === 'grid'\" (click)=\"onViewModeChange('grid')\">\n              <mat-icon>grid_view</mat-icon>\n            </button>\n            <button mat-icon-button [class.active]=\"viewMode === 'list'\" (click)=\"onViewModeChange('list')\">\n              <mat-icon>view_list</mat-icon>\n            </button>\n          </div>\n        </div>\n        \n        <!-- Products Grid -->\n        <app-product-grid\n          [products]=\"filteredProducts$ | async\"\n          [viewMode]=\"viewMode\"\n          (addToCart)=\"onAddToCart($event)\"\n          (addToWishlist)=\"onAddToWishlist($event)\"\n          (viewDetails)=\"onViewDetails($event)\">\n        </app-product-grid>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}