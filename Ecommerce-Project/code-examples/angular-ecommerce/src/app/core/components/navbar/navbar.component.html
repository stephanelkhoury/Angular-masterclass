<header class="navbar-wrapper">
  <!-- Top Announcement Bar -->
  <div class="announcement-bar">
    <div class="container">
      <div class="announcement-content">
        <div class="announcement-slider">
          <p><i class="fas fa-shipping-fast announcement-icon"></i> Free shipping on orders over $50 | <i class="fas fa-percent announcement-icon"></i> Get 20% off your first purchase with code: <strong>WELCOME20</strong></p>
        </div>
        <div class="top-links">
          <a href="#" class="top-link"><i class="fas fa-map-marker-alt"></i> Store Locator</a>
          <a href="#" class="top-link"><i class="fas fa-question-circle"></i> Help</a>
          <a href="#" class="top-link"><i class="fas fa-truck"></i> Track Order</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="main-nav" [class.nav-scrolled]="isScrolled">
    <div class="container">
      <div class="nav-content">
        <!-- Logo -->
        <div class="logo-container">
          <a routerLink="/" class="logo">
            <i class="fas fa-store brand-icon"></i>
            <span class="logo-text">ShopNow</span>
          </a>
        </div>

        <!-- Desktop Navigation Menu -->
        <div class="nav-menu" [class.nav-active]="isMenuOpen">
          <ul class="nav-list">
            <li class="nav-item" [class.active]="activeRoute === 'home'">
              <a routerLink="/" class="nav-link">
                <i class="fas fa-home"></i>
                <span>Home</span>
              </a>
            </li>
            <li class="nav-item dropdown" [class.active]="activeRoute === 'shop'" [class.dropdown-open]="activeDropdown === 'shop'">
              <a routerLink="/shop" class="nav-link" (mouseenter)="toggleDropdown('shop')">
                <i class="fas fa-shopping-bag"></i>
                <span>Shop</span>
                <i class="fas fa-chevron-down dropdown-arrow"></i>
              </a>
              <div class="mega-dropdown">
                <div class="mega-dropdown-content">
                  <div class="dropdown-section">
                    <h3 class="dropdown-title"><i class="fas fa-tags"></i> Categories</h3>
                    <ul class="dropdown-list">
                      <li><a routerLink="/shop/clothing"><i class="fas fa-tshirt"></i> Clothing</a></li>
                      <li><a routerLink="/shop/shoes"><i class="fas fa-shoe-prints"></i> Shoes</a></li>
                      <li><a routerLink="/shop/accessories"><i class="fas fa-glasses"></i> Accessories</a></li>
                      <li><a routerLink="/shop/jewelry"><i class="fas fa-gem"></i> Jewelry</a></li>
                      <li><a routerLink="/shop/beauty"><i class="fas fa-palette"></i> Beauty</a></li>
                    </ul>
                  </div>
                  <div class="dropdown-section">
                    <h3 class="dropdown-title"><i class="fas fa-star"></i> Collections</h3>
                    <ul class="dropdown-list">
                      <li><a routerLink="/shop/new-arrivals"><i class="fas fa-sparkles"></i> New Arrivals</a></li>
                      <li><a routerLink="/shop/bestsellers"><i class="fas fa-crown"></i> Bestsellers</a></li>
                      <li><a routerLink="/shop/trending"><i class="fas fa-fire"></i> Trending Now</a></li>
                      <li><a routerLink="/shop/sale"><i class="fas fa-percent"></i> Sale</a></li>
                    </ul>
                  </div>
                  <div class="dropdown-featured">
                    <div class="featured-image">
                      <img src="https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Featured Collection">
                      <div class="featured-overlay">
                        <h4><i class="fas fa-sun"></i> Summer Collection</h4>
                        <p>Discover the latest trends</p>
                        <a routerLink="/shop/summer" class="featured-btn">
                          <i class="fas fa-arrow-right"></i> Shop Now
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            <li class="nav-item" [class.active]="activeRoute === 'deals'">
              <a routerLink="/deals" class="nav-link">
                <i class="fas fa-percentage"></i>
                <span>Deals</span>
                <span class="nav-badge">Hot</span>
              </a>
            </li>
            <li class="nav-item" [class.active]="activeRoute === 'about'">
              <a routerLink="/about" class="nav-link">
                <i class="fas fa-info-circle"></i>
                <span>About Us</span>
              </a>
            </li>
            <li class="nav-item" [class.active]="activeRoute === 'contact'">
              <a routerLink="/contact" class="nav-link">
                <i class="fas fa-envelope"></i>
                <span>Contact</span>
              </a>
            </li>
          </ul>

          <!-- Mobile Nav Close Button -->
          <button class="nav-close" (click)="toggleMenu()">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <!-- Search and User Actions -->
        <div class="nav-actions">
          <div class="search-container">
            <button class="action-btn search-toggle" (click)="toggleSearch()">
              <i class="fas fa-search"></i>
              <span class="action-tooltip">Search</span>
            </button>
            <div class="search-dropdown" [class.active]="isSearchOpen">
              <form class="search-form">
                <div class="search-input-wrapper">
                  <i class="fas fa-search search-icon"></i>
                  <input type="text" placeholder="Search for products..." class="search-input">
                  <button type="submit" class="search-submit">
                    <i class="fas fa-arrow-right"></i>
                  </button>
                </div>
              </form>
              <div class="search-suggestions">
                <h4><i class="fas fa-fire"></i> Popular Searches</h4>
                <div class="suggestion-tags">
                  <a href="#" class="tag"><i class="fas fa-tshirt"></i> Summer Dresses</a>
                  <a href="#" class="tag"><i class="fas fa-shoe-prints"></i> Sneakers</a>
                  <a href="#" class="tag"><i class="fas fa-glasses"></i> Sunglasses</a>
                  <a href="#" class="tag"><i class="fas fa-backpack"></i> Backpacks</a>
                </div>
              </div>
            </div>
          </div>

          <button class="action-btn" routerLink="/account">
            <i class="fas fa-user"></i>
            <span class="action-tooltip">Account</span>
          </button>

          <button class="action-btn" routerLink="/wishlist">
            <i class="fas fa-heart"></i>
            <span class="action-badge">3</span>
            <span class="action-tooltip">Wishlist</span>
          </button>

          <button class="action-btn cart-btn" (click)="toggleCart()">
            <i class="fas fa-shopping-cart"></i>
            <span class="action-badge cart-count">2</span>
            <span class="action-tooltip">Cart</span>
          </button>
          
          <!-- Mobile Menu Toggle -->
          <button class="menu-toggle" (click)="toggleMenu()">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Search Overlay for Mobile -->
  <div class="search-overlay" [class.active]="isSearchOpen" (click)="toggleSearch()"></div>

  <!-- Mini Cart Sidebar -->
  <div class="cart-sidebar" [class.active]="isCartOpen">
    <div class="cart-header">
      <h3><i class="fas fa-shopping-cart"></i> Your Cart (2)</h3>
      <button class="cart-close" (click)="toggleCart()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="cart-items">
      <div class="cart-item">
        <div class="cart-item-image">
          <img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Product">
        </div>
        <div class="cart-item-details">
          <h4>Cotton T-Shirt</h4>
          <p><i class="fas fa-ruler-combined"></i> Size: M | <i class="fas fa-palette"></i> Color: White</p>
          <div class="item-quantity">
            <button class="qty-btn"><i class="fas fa-minus"></i></button>
            <span>1</span>
            <button class="qty-btn"><i class="fas fa-plus"></i></button>
          </div>
        </div>
        <div class="cart-item-price">
          <span class="price">$24.99</span>
          <button class="remove-item">
            <i class="fas fa-trash-alt"></i>
          </button>
        </div>
      </div>
      <div class="cart-item">
        <div class="cart-item-image">
          <img src="https://images.unsplash.com/photo-1560769629-975ec94e6a86?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Product">
        </div>
        <div class="cart-item-details">
          <h4>Leather Sneakers</h4>
          <p><i class="fas fa-ruler-combined"></i> Size: 42 | <i class="fas fa-palette"></i> Color: Black</p>
          <div class="item-quantity">
            <button class="qty-btn"><i class="fas fa-minus"></i></button>
            <span>1</span>
            <button class="qty-btn"><i class="fas fa-plus"></i></button>
          </div>
        </div>
        <div class="cart-item-price">
          <span class="price">$89.99</span>
          <button class="remove-item">
            <i class="fas fa-trash-alt"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="cart-footer">
      <div class="cart-totals">
        <div class="total-row">
          <span><i class="fas fa-calculator"></i> Subtotal:</span>
          <span>$114.98</span>
        </div>
        <div class="total-row">
          <span><i class="fas fa-shipping-fast"></i> Shipping:</span>
          <span class="free-shipping">Free</span>
        </div>
        <div class="total-row total">
          <span><i class="fas fa-money-bill-wave"></i> Total:</span>
          <span>$114.98</span>
        </div>
      </div>
      <div class="cart-actions">
        <a routerLink="/cart" class="btn btn-outline-primary w-100 mb-2">
          <i class="fas fa-shopping-cart"></i> View Cart
        </a>
        <a routerLink="/checkout" class="btn btn-primary w-100">
          <i class="fas fa-credit-card"></i> Checkout
        </a>
      </div>
    </div>
  </div>

  <!-- Cart Overlay -->
  <div class="cart-overlay" [class.active]="isCartOpen" (click)="toggleCart()"></div>
</header>
