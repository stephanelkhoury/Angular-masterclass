{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/core/core.module.ts","./src/app/core/guards/admin.guard.ts","./src/app/core/guards/auth.guard.ts","./src/app/core/interceptors/cache.interceptor.ts","./src/app/core/interceptors/error.interceptor.ts","./src/app/core/interceptors/jwt.interceptor.ts","./src/app/core/services/auth.service.ts","./src/app/core/services/cart.service.ts","./src/app/core/services/fake-store-api.service.ts","./src/app/core/services/mock-data.service.ts","./src/app/core/services/notification.service.ts","./src/app/core/services/order.service.ts","./src/app/core/services/product.service.ts","./src/app/core/services/storage.service.ts","./src/app/core/services/wishlist.service.ts","./src/app/pages/products-page/products-page.component.ts","./src/app/pages/products-page/products-page.component.html","./src/app/shared/components/confirm-dialog/confirm-dialog.component.ts","./src/app/shared/components/footer/footer.component.ts","./src/app/shared/components/footer/footer.component.html","./src/app/shared/components/header/header.component.ts","./src/app/shared/components/header/header.component.html","./src/app/shared/components/loading-spinner/loading-spinner.component.ts","./src/app/shared/components/loading-spinner/loading-spinner.component.html","./src/app/shared/components/not-found/not-found.component.ts","./src/app/shared/components/not-found/not-found.component.html","./src/app/shared/components/product-card/product-card.component.ts","./src/app/shared/components/product-card/product-card.component.html","./src/app/shared/components/quantity-selector/quantity-selector.component.ts","./src/app/shared/components/star-rating/star-rating.component.ts","./src/app/shared/directives/highlight.directive.ts","./src/app/shared/directives/lazy-img.directive.ts","./src/app/shared/pipes/price.pipe.ts","./src/app/shared/pipes/truncate.pipe.ts","./src/app/shared/shared.module.ts","./src/app/store/actions/auth.actions.ts","./src/app/store/actions/cart.actions.ts","./src/app/store/actions/product.actions.ts","./src/app/store/actions/ui.actions.ts","./src/app/store/effects/app.effects.ts","./src/app/store/effects/auth.effects.ts","./src/app/store/effects/cart.effects.ts","./src/app/store/effects/product.effects.ts","./src/app/store/index.ts","./src/app/store/reducers/auth.reducer.ts","./src/app/store/reducers/cart.reducer.ts","./src/app/store/reducers/orders.reducer.ts","./src/app/store/reducers/products.reducer.ts","./src/app/store/reducers/ui.reducer.ts","./src/app/store/selectors/auth.selectors.ts","./src/app/store/selectors/cart.selectors.ts","./src/app/store/selectors/ui.selectors.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule, PreloadAllModules } from '@angular/router';\n\nimport { AuthGuard } from './core/guards/auth.guard';\nimport { AdminGuard } from './core/guards/admin.guard';\nimport { NotFoundComponent } from './shared/components/not-found/not-found.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    loadChildren: () => import('./features/home/home.module').then(m => m.HomeModule)\n  },\n  {\n    path: 'products',\n    loadChildren: () => import('./features/products/products.module').then(m => m.ProductsModule)\n  },\n  {\n    path: 'cart',\n    loadChildren: () => import('./features/cart/cart.module').then(m => m.CartModule)\n  },\n  {\n    path: 'checkout',\n    loadChildren: () => import('./features/checkout/checkout.module').then(m => m.CheckoutModule),\n    canActivate: [AuthGuard]\n  },\n  {\n    path: 'auth',\n    loadChildren: () => import('./features/auth/auth.module').then(m => m.AuthModule)\n  },\n  {\n    path: 'profile',\n    loadChildren: () => import('./features/profile/profile.module').then(m => m.ProfileModule),\n    canActivate: [AuthGuard]\n  },\n  {\n    path: 'orders',\n    loadChildren: () => import('./features/orders/orders.module').then(m => m.OrdersModule),\n    canActivate: [AuthGuard]\n  },\n  {\n    path: 'wishlist',\n    loadChildren: () => import('./features/wishlist/wishlist.module').then(m => m.WishlistModule),\n    canActivate: [AuthGuard]\n  },\n  {\n    path: 'admin',\n    loadChildren: () => import('./features/admin/admin.module').then(m => m.AdminModule),\n    canActivate: [AuthGuard, AdminGuard]\n  },\n  {\n    path: 'about',\n    loadChildren: () => import('./features/about/about.module').then(m => m.AboutModule)\n  },\n  {\n    path: 'contact',\n    loadChildren: () => import('./features/contact/contact.module').then(m => m.ContactModule)\n  },\n  { path: '**', component: NotFoundComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {\n    preloadingStrategy: PreloadAllModules,\n    scrollPositionRestoration: 'enabled',\n    useHash: true // Added hash location strategy\n  })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit, HostListener, OnDestroy } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\nimport { Observable, Subject } from 'rxjs';\nimport { SwUpdate } from '@angular/service-worker';\n\nimport { AppState } from './store';\nimport { checkAuthStatus, logout } from './store/actions/auth.actions';\nimport { selectIsLoading } from './store/selectors/ui.selectors';\nimport { selectIsAuthenticated, selectCurrentUser } from './store/selectors/auth.selectors';\nimport { selectCartItemCount } from './store/selectors/cart.selectors';\nimport { User } from './core/models/user.model';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  isLoading$: Observable<boolean>;\n  isAuthenticated$: Observable<boolean>;\n  currentUser$: Observable<User | null>;\n  cartItemCount$: Observable<number>;\n  updateAvailable = false;\n  showBackToTop = false;\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private store: Store<AppState>,\n    private router: Router,\n    private swUpdate: SwUpdate\n  ) {\n    this.isLoading$ = this.store.select(selectIsLoading);\n    this.isAuthenticated$ = this.store.select(selectIsAuthenticated);\n    this.currentUser$ = this.store.select(selectCurrentUser);\n    this.cartItemCount$ = this.store.select(selectCartItemCount);\n  }\n\n  @HostListener('window:scroll', ['$event'])\n  onWindowScroll(): void {\n    this.showBackToTop = window.pageYOffset > 300;\n  }\n\n  ngOnInit(): void {\n    // Check authentication status on app load\n    this.store.dispatch(checkAuthStatus());\n    \n    // Handle route changes with smooth scrolling\n    this.router.events\n      .pipe(\n        filter(event => event instanceof NavigationEnd),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(() => {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      });\n    \n    // Subscribe to service worker updates\n    if (this.swUpdate.isEnabled) {\n      this.swUpdate.versionUpdates.subscribe(() => {\n        this.updateAvailable = true;\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  scrollToTop(): void {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n\n  updateApp(): void {\n    if (this.swUpdate.isEnabled) {\n      this.swUpdate.activateUpdate().then(() => {\n        document.location.reload();\n      });\n    }\n  }\n\n  logout(): void {\n    this.store.dispatch(logout());\n  }\n}\n","<!-- Modern Header Component -->\n<app-header></app-header>\n\n<!-- Main Application Layout -->\n<div class=\"app-layout\">\n  <!-- Content Area -->\n  <main class=\"main-content\" role=\"main\">\n    <!-- Router outlet for dynamic content -->\n    <router-outlet></router-outlet>\n    \n    <!-- Loading overlay for app-wide operations -->\n    <app-loading-spinner *ngIf=\"isLoading$ | async\" [overlay]=\"true\"></app-loading-spinner>\n  </main>\n</div>\n\n<!-- Modern Footer Component -->\n<app-footer></app-footer>\n\n<!-- Back to top button -->\n<button \n  class=\"back-to-top\" \n  [class.visible]=\"showBackToTop\"\n  (click)=\"scrollToTop()\"\n  aria-label=\"Back to top\"\n  mat-fab\n  color=\"primary\">\n  <mat-icon>keyboard_arrow_up</mat-icon>\n</button>\n","import { NgModule, isDevMode } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { RouterModule } from '@angular/router';\nimport { ServiceWorkerModule } from '@angular/service-worker';\n\n// NgRx\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\nimport { StoreRouterConnectingModule } from '@ngrx/router-store';\n\n// Core Module\nimport { CoreModule } from './core/core.module';\n\n// Shared Module\nimport { SharedModule } from './shared/shared.module';\n\n// App Components\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\n\n// Root Reducers and Effects\nimport { reducers, metaReducers } from './store';\nimport { AppEffects } from './store/effects/app.effects';\nimport { AuthEffects } from './store/effects/auth.effects';\nimport { CartEffects } from './store/effects/cart.effects';\nimport { ProductEffects } from './store/effects/product.effects';\n\n// Interceptors\nimport { JwtInterceptor } from './core/interceptors/jwt.interceptor';\nimport { ErrorInterceptor } from './core/interceptors/error.interceptor';\nimport { CacheInterceptor } from './core/interceptors/cache.interceptor';\nimport { ProductsPageComponent } from './pages/products-page/products-page.component'; // Add this import\n\n// For loading spinner and icons (if not already imported globally or in a shared module)\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatIconModule } from '@angular/material/icon';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ProductsPageComponent // Add ProductsPageComponent here\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    RouterModule,\n    AppRoutingModule,\n    \n    // Core and Shared Modules\n    CoreModule,\n    SharedModule,\n    \n    // NgRx\n    StoreModule.forRoot(reducers, { metaReducers }),\n    EffectsModule.forRoot([AppEffects, AuthEffects, CartEffects, ProductEffects]),\n    StoreDevtoolsModule.instrument({\n      maxAge: 25, // Retains last 25 states\n      logOnly: !isDevMode(), // Restrict extension to log-only mode in production\n      autoPause: true, // Pause recording actions and state changes when the extension window is not open\n    }),\n    StoreRouterConnectingModule.forRoot(),\n    \n    // PWA\n    ServiceWorkerModule.register('ngsw-worker.js', {\n      enabled: !isDevMode(),\n      // Register the ServiceWorker as soon as the application is stable\n      // or after 30 seconds (whichever comes first).\n      registrationStrategy: 'registerWhenStable:30000'\n    }),\n    MatProgressSpinnerModule, // Add if not already available\n    MatIconModule            // Add if not already available\n  ],\n  providers: [\n    { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\n    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\n    { provide: HTTP_INTERCEPTORS, useClass: CacheInterceptor, multi: true }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { NgModule, Optional, SkipSelf } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { RouterModule } from '@angular/router';\n\n// Services\nimport { AuthService } from './services/auth.service';\nimport { ProductService } from './services/product.service';\nimport { CartService } from './services/cart.service';\nimport { OrderService } from './services/order.service';\nimport { NotificationService } from './services/notification.service';\nimport { StorageService } from './services/storage.service';\n\n// Guards\nimport { AuthGuard } from './guards/auth.guard';\nimport { AdminGuard } from './guards/admin.guard';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    RouterModule\n  ],\n  providers: [\n    AuthService,\n    ProductService,\n    CartService,\n    OrderService,\n    NotificationService,\n    StorageService,\n    AuthGuard,\n    AdminGuard\n  ]\n})\nexport class CoreModule {\n  constructor(@Optional() @SkipSelf() parentModule: CoreModule) {\n    if (parentModule) {\n      throw new Error('CoreModule has already been loaded. Import this module in the AppModule only.');\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../../store';\nimport { selectCurrentUser } from '../../store/selectors/auth.selectors';\nimport { NotificationService } from '../services/notification.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminGuard implements CanActivate {\n  \n  constructor(\n    private store: Store<AppState>,\n    private router: Router,\n    private notificationService: NotificationService\n  ) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    \n    return this.store.select(selectCurrentUser).pipe(\n      take(1),\n      map(user => {\n        if (user?.isAdmin) {\n          return true;\n        }\n        \n        this.notificationService.error('You do not have permission to access this area');\n        return this.router.createUrlTree(['/']);\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../../store';\nimport { selectIsAuthenticated } from '../../store/selectors/auth.selectors';\nimport { NotificationService } from '../services/notification.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  \n  constructor(\n    private store: Store<AppState>,\n    private router: Router,\n    private notificationService: NotificationService\n  ) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    \n    return this.store.select(selectIsAuthenticated).pipe(\n      take(1),\n      map(isAuthenticated => {\n        if (isAuthenticated) {\n          return true;\n        }\n        \n        this.notificationService.info('Please login to access this page');\n        return this.router.createUrlTree(['/auth/login'], {\n          queryParams: { returnUrl: state.url }\n        });\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpResponse\n} from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { tap, shareReplay } from 'rxjs/operators';\n\ninterface CacheEntry {\n  response: HttpResponse<any>;\n  timestamp: number;\n}\n\n@Injectable()\nexport class CacheInterceptor implements HttpInterceptor {\n  private cache = new Map<string, CacheEntry>();\n  private readonly CACHE_DURATION = 5 * 60 * 1000; // 5 minutes in milliseconds\n  \n  constructor() {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    // Only cache GET requests\n    if (request.method !== 'GET') {\n      return next.handle(request);\n    }\n    \n    // Don't cache requests with 'no-cache' header\n    if (request.headers.get('no-cache')) {\n      return next.handle(request);\n    }\n    \n    // Don't cache authentication requests\n    if (request.url.includes('/auth/')) {\n      return next.handle(request);\n    }\n    \n    // Create a cache key from the request URL\n    const cacheKey = request.url;\n    \n    // Check if we have a cached response and it's still valid\n    const cachedEntry = this.cache.get(cacheKey);\n    if (cachedEntry) {\n      const now = Date.now();\n      if (now - cachedEntry.timestamp < this.CACHE_DURATION) {\n        // Return the cached response\n        return of(cachedEntry.response);\n      } else {\n        // Cache expired, remove it\n        this.cache.delete(cacheKey);\n      }\n    }\n    \n    // No cache hit or expired cache, forward the request\n    return next.handle(request).pipe(\n      tap(event => {\n        if (event instanceof HttpResponse) {\n          // Cache the response\n          this.cache.set(cacheKey, {\n            response: event,\n            timestamp: Date.now()\n          });\n        }\n      }),\n      // Use shareReplay to handle multiple subscribers requesting the same API\n      shareReplay(1)\n    );\n  }\n  \n  // Method to clear the cache\n  clearCache(): void {\n    this.cache.clear();\n  }\n  \n  // Method to remove a specific entry from the cache\n  removeFromCache(url: string): void {\n    this.cache.delete(url);\n  }\n}","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpErrorResponse\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../../store';\nimport { logout } from '../../store/actions/auth.actions';\nimport { setError } from '../../store/actions/ui.actions';\nimport { NotificationService } from '../services/notification.service';\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n  constructor(\n    private router: Router,\n    private store: Store<AppState>,\n    private notificationService: NotificationService\n  ) {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    return next.handle(request).pipe(\n      catchError((error: HttpErrorResponse) => {\n        let errorMessage = 'An unknown error occurred';\n        \n        if (error.error instanceof ErrorEvent) {\n          // Client-side error\n          errorMessage = `Error: ${error.error.message}`;\n        } else {\n          // Server-side error\n          errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\n          \n          if (error.status === 401) {\n            // Unauthorized - log out user\n            this.store.dispatch(logout());\n            this.router.navigate(['/auth/login']);\n            errorMessage = 'Your session has expired. Please log in again.';\n          }\n          \n          if (error.status === 403) {\n            this.router.navigate(['/']);\n            errorMessage = 'You do not have permission to access this resource.';\n          }\n          \n          if (error.status === 404) {\n            errorMessage = 'The requested resource was not found.';\n          }\n          \n          if (error.status >= 500) {\n            errorMessage = 'A server error occurred. Please try again later.';\n          }\n        }\n        \n        // Display error notification\n        this.notificationService.showError(errorMessage);\n        \n        // Store error in the NgRx store\n        this.store.dispatch(setError({ error: errorMessage }));\n        \n        return throwError(() => new Error(errorMessage));\n      })\n    );\n  }\n}","import { Injectable } from '@angular/core';\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n  \n  constructor(private authService: AuthService) {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    // Don't add authorization header to external APIs like Fake Store API\n    if (request.url.includes('fakestoreapi.com')) {\n      console.log('JWT Interceptor: Skipping auth header for Fake Store API:', request.url);\n      return next.handle(request);\n    }\n    \n    console.log('JWT Interceptor: Processing request:', request.url);\n    \n    // Get the token\n    const token = this.authService.getToken();\n    \n    if (token) {\n      console.log('JWT Interceptor: Adding auth header');\n      // Clone the request and add the authorization header\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n    } else {\n      console.log('JWT Interceptor: No token found');\n    }\n    \n    return next.handle(request);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of, throwError, BehaviorSubject } from 'rxjs';\nimport { catchError, tap, map } from 'rxjs/operators';\n\nimport { environment } from '../../../environments/environment';\nimport { StorageService } from './storage.service';\nimport { NotificationService } from './notification.service';\nimport { User } from '../models/user.model';\n\nexport interface AuthResponse {\n  user: User;\n  token: string;\n  expiresIn: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private apiUrl = `${environment.apiUrl}/auth`;\n  private tokenExpirationTimer: any;\n  private userSubject = new BehaviorSubject<User | null>(null);\n\n  user$ = this.userSubject.asObservable();\n\n  constructor(\n    private http: HttpClient,\n    private storageService: StorageService,\n    private notificationService: NotificationService\n  ) {\n    this.autoLogin();\n  }\n\n  signup(email: string, password: string, name: string): Observable<AuthResponse> {\n    return this.http.post<AuthResponse>(`${this.apiUrl}/signup`, { email, password, name })\n      .pipe(\n        tap(response => this.handleAuthentication(response)),\n        catchError(error => {\n          this.notificationService.error('Registration failed. Please try again.');\n          return throwError(() => error);\n        })\n      );\n  }\n\n  login(email: string, password: string): Observable<AuthResponse> {\n    return this.http.post<AuthResponse>(`${this.apiUrl}/login`, { email, password })\n      .pipe(\n        tap(response => this.handleAuthentication(response)),\n        catchError(error => {\n          this.notificationService.error('Login failed. Please check your credentials and try again.');\n          return throwError(() => error);\n        })\n      );\n  }\n\n  logout(): void {\n    this.userSubject.next(null);\n    this.storageService.removeItem('userData');\n    this.storageService.removeItem('token');\n    \n    if (this.tokenExpirationTimer) {\n      clearTimeout(this.tokenExpirationTimer);\n    }\n    this.tokenExpirationTimer = null;\n  }\n\n  autoLogin(): Observable<boolean> {\n    const userData = this.storageService.getItem<any>('userData');\n    if (!userData) {\n      return of(false);\n    }\n\n    try {\n      const loadedUser = userData.user;\n      const tokenExpirationDate = new Date(userData.tokenExpirationDate);\n\n      if (tokenExpirationDate <= new Date()) {\n        this.logout();\n        return of(false);\n      }\n\n      this.userSubject.next(loadedUser);\n      this.setAutoLogoutTimer(tokenExpirationDate.getTime() - new Date().getTime());\n      return of(true);\n    } catch (error) {\n      console.error('Error parsing user data', error);\n      this.logout();\n      return of(false);\n    }\n  }\n\n  getCurrentUser(): Observable<User | null> {\n    return this.user$;\n  }\n\n  getToken(): string | null {\n    const userData = this.storageService.getItem<any>('userData');\n    \n    if (!userData) {\n      return null;\n    }\n    \n    try {\n      return userData.token;\n    } catch (error) {\n      console.error('Error parsing user data', error);\n      return null;\n    }\n  }\n\n  isAuthenticated(): boolean {\n    return !!this.getToken();\n  }\n\n  private handleAuthentication(response: AuthResponse): void {\n    const { user, token, expiresIn } = response;\n    const expirationDate = new Date(new Date().getTime() + expiresIn * 1000);\n    \n    const userData = {\n      user,\n      token,\n      tokenExpirationDate: expirationDate.toISOString()\n    };\n    \n    this.storageService.setItem('userData', JSON.stringify(userData));\n    this.userSubject.next(user);\n    this.setAutoLogoutTimer(expiresIn * 1000);\n  }\n\n  private setAutoLogoutTimer(expirationDuration: number): void {\n    this.tokenExpirationTimer = setTimeout(() => {\n      this.logout();\n    }, expirationDuration);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { Store } from '@ngrx/store';\n\nimport { environment } from '../../../environments/environment';\nimport { Product } from '../models/product.model';\nimport { CartItem } from '../models/cart-item.model'; // Use cart-item.model\nimport { AppState } from '../../store';\nimport { addToCart, removeFromCart, updateCartItemQuantity } from '../../store/actions/cart.actions';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n  private apiUrl = `${environment.apiUrl}/cart`;\n\n  constructor(\n    private http: HttpClient,\n    private store: Store<AppState>\n  ) {}\n\n  loadCart(): Observable<CartItem[]> {\n    return this.http.get<CartItem[]>(this.apiUrl);\n  }\n\n  getCart(): Observable<CartItem[]> {\n    return this.http.get<CartItem[]>(this.apiUrl);\n  }\n\n  addToCart(product: Product, quantity: number = 1): void {\n    const cartItem: CartItem = {\n      productId: product.id,\n      quantity: quantity,\n      name: product.name,\n      price: product.discountPrice || product.price,\n      unitPrice: product.discountPrice || product.price,\n      image: product.imageUrl,\n      imageUrl: product.imageUrl\n    };\n    this.store.dispatch(addToCart({ item: cartItem }));\n  }\n\n  getCartItems(): Observable<CartItem[]> {\n    return this.http.get<CartItem[]>(this.apiUrl);\n  }\n\n  removeFromCart(id: string): void { // id is productId\n    this.store.dispatch(removeFromCart({ productId: id }));\n  }\n\n  updateQuantity(id: string, quantity: number): void { // id is productId\n    this.store.dispatch(updateCartItemQuantity({ productId: id, quantity }));\n  }\n\n  clearCart(): void {\n    this.http.delete<void>(`${this.apiUrl}/clear`).subscribe();\n  }\n\n  syncCart(items: CartItem[]): Observable<void> {\n    return this.http.post<void>(`${this.apiUrl}/sync`, { items });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, map, forkJoin, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\nimport { Product, Category, PaginatedResponse } from '../models/product.model';\n\n// Fake Store API interfaces\nexport interface FakeStoreProduct {\n  id: number;\n  title: string;\n  price: number;\n  description: string;\n  category: string;\n  image: string;\n  rating: {\n    rate: number;\n    count: number;\n  };\n}\n\nexport interface FakeStoreCategory {\n  name: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FakeStoreApiService {\n  private baseUrl = 'https://fakestoreapi.com';\n\n  constructor(private http: HttpClient) {}\n\n  // Get all products from Fake Store API\n  getProducts(options: {\n    page?: number;\n    limit?: number;\n    sortBy?: string;\n    order?: 'asc' | 'desc';\n    category?: string;\n    search?: string;\n  } = {}): Observable<PaginatedResponse<Product>> {\n    \n    let url = `${this.baseUrl}/products`;\n    \n    // Handle category filtering\n    if (options.category && options.category !== 'all') {\n      url = `${this.baseUrl}/products/category/${encodeURIComponent(options.category)}`;\n    }\n    \n    // Add query parameters\n    const params = new URLSearchParams();\n    if (options.limit) {\n      params.append('limit', options.limit.toString());\n    }\n    if (options.sortBy) {\n      params.append('sort', options.order || 'asc');\n    }\n    \n    const queryString = params.toString();\n    if (queryString) {\n      url += `?${queryString}`;\n    }\n\n    console.log('FakeStoreApiService: Making request to:', url);\n\n    return this.http.get<FakeStoreProduct[]>(url).pipe(\n      map(products => {\n        console.log('FakeStoreApiService: Received response:', products);\n        return this.transformToAppProducts(products, options);\n      }),\n      catchError(error => {\n        console.error('FakeStoreApiService: Error fetching products:', error);\n        return of(this.getEmptyResponse());\n      })\n    );\n  }\n\n  // Get product by ID\n  getProductById(id: string): Observable<Product | null> {\n    const url = `${this.baseUrl}/products/${id}`;\n    console.log('FakeStoreApiService: Getting product by ID from:', url);\n    \n    return this.http.get<FakeStoreProduct>(url).pipe(\n      map(product => {\n        console.log('FakeStoreApiService: Received product:', product);\n        return this.transformSingleProduct(product);\n      }),\n      catchError(error => {\n        console.error('FakeStoreApiService: Error fetching product by ID:', error);\n        return of(null);\n      })\n    );\n  }\n\n  // Get all categories\n  getCategories(): Observable<Category[]> {\n    return this.http.get<string[]>(`${this.baseUrl}/products/categories`).pipe(\n      map(categories => this.transformToAppCategories(categories)),\n      catchError(error => {\n        console.error('Error fetching categories:', error);\n        return of([]);\n      })\n    );\n  }\n\n  // Get products in a specific category\n  getProductsByCategory(categoryName: string, limit?: number): Observable<Product[]> {\n    let url = `${this.baseUrl}/products/category/${encodeURIComponent(categoryName)}`;\n    if (limit) {\n      url += `?limit=${limit}`;\n    }\n\n    return this.http.get<FakeStoreProduct[]>(url).pipe(\n      map(products => products.map(p => this.transformSingleProduct(p))),\n      catchError(error => {\n        console.error('Error fetching products by category:', error);\n        return of([]);\n      })\n    );\n  }\n\n  // Transform Fake Store API product to your app's Product interface\n  private transformSingleProduct(fakeProduct: FakeStoreProduct): Product {\n    return {\n      id: fakeProduct.id.toString(),\n      name: fakeProduct.title,\n      description: fakeProduct.description,\n      price: fakeProduct.price,\n      imageUrl: fakeProduct.image,\n      images: [{ id: '1', url: fakeProduct.image, altText: fakeProduct.title }],\n      category: {\n        id: fakeProduct.category,\n        name: this.capitalizeCategory(fakeProduct.category)\n      },\n      categoryId: fakeProduct.category,\n      stock: Math.floor(Math.random() * 100) + 1, // Random stock since API doesn't provide\n      stockQuantity: Math.floor(Math.random() * 100) + 1,\n      rating: fakeProduct.rating.rate,\n      brand: this.generateBrandFromCategory(fakeProduct.category),\n      sku: `FS-${fakeProduct.id}`,\n      createdAt: new Date(),\n      featured: Math.random() > 0.7, // Randomly mark some as featured\n      regularPrice: fakeProduct.price * 1.2, // Simulate original price\n      discountPrice: Math.random() > 0.5 ? fakeProduct.price : undefined,\n      availabilityStatus: 'in-stock' as const,\n      freeShipping: Math.random() > 0.6,\n      fastDelivery: Math.random() > 0.7,\n      reviews: this.generateMockReviews(fakeProduct.id.toString(), fakeProduct.rating.count)\n    };\n  }\n\n  // Transform multiple products\n  private transformToAppProducts(\n    fakeProducts: FakeStoreProduct[], \n    options: any\n  ): PaginatedResponse<Product> {\n    let products = fakeProducts.map(p => this.transformSingleProduct(p));\n    \n    // Apply search filter if provided\n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      products = products.filter(p => \n        p.name.toLowerCase().includes(searchTerm) ||\n        p.description.toLowerCase().includes(searchTerm) ||\n        p.category?.name.toLowerCase().includes(searchTerm)\n      );\n    }\n\n    // Calculate pagination\n    const page = options.page || 1;\n    const limit = options.limit || products.length;\n    const startIndex = (page - 1) * limit;\n    const endIndex = startIndex + limit;\n    const paginatedProducts = products.slice(startIndex, endIndex);\n\n    return {\n      items: paginatedProducts,\n      totalCount: products.length,\n      page: page,\n      limit: limit,\n      totalPages: Math.ceil(products.length / limit)\n    };\n  }\n\n  // Transform categories\n  private transformToAppCategories(categories: string[]): Category[] {\n    return categories.map(cat => ({\n      id: cat,\n      name: this.capitalizeCategory(cat),\n      featured: Math.random() > 0.5 // Randomly mark some as featured\n    }));\n  }\n\n  // Helper methods\n  private capitalizeCategory(category: string): string {\n    return category\n      .split(' ')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n  }\n\n  private generateBrandFromCategory(category: string): string {\n    const brandMap: { [key: string]: string[] } = {\n      'electronics': ['Apple', 'Samsung', 'Sony', 'LG', 'Microsoft'],\n      'jewelery': ['Tiffany & Co.', 'Cartier', 'Pandora', 'Swarovski'],\n      \"men's clothing\": ['Nike', 'Adidas', 'Levi\\'s', 'Calvin Klein', 'Tommy Hilfiger'],\n      \"women's clothing\": ['Zara', 'H&M', 'Forever 21', 'ASOS', 'Mango']\n    };\n\n    const brands = brandMap[category] || ['Generic Brand'];\n    return brands[Math.floor(Math.random() * brands.length)];\n  }\n\n  private generateMockReviews(productId: string, count: number): any[] {\n    // Generate a few mock reviews based on the count\n    const maxReviews = Math.min(count, 5);\n    const reviews = [];\n    \n    for (let i = 0; i < maxReviews; i++) {\n      reviews.push({\n        id: `${productId}-review-${i}`,\n        productId: productId,\n        userId: `user-${i}`,\n        userName: `Customer ${i + 1}`,\n        rating: Math.floor(Math.random() * 5) + 1,\n        comment: 'Great product! Highly recommended.',\n        createdAt: new Date()\n      });\n    }\n    \n    return reviews;\n  }\n\n  private getEmptyResponse(): PaginatedResponse<Product> {\n    return {\n      items: [],\n      totalCount: 0,\n      page: 1,\n      limit: 10,\n      totalPages: 0\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { delay } from 'rxjs/operators';\nimport { Product, Category, Review, PaginatedResponse, ProductImage } from '../models/product.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MockDataService {\n  private products: Product[] = [\n    {\n      id: '1',\n      name: 'iPhone 15 Pro Max',\n      description: 'The ultimate iPhone experience with A17 Bionic chip and Pro camera system.',\n      price: 1199.99,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=iPhone+15+Pro',\n      images: [\n        { url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+1' },\n        { url: 'https://via.placeholder.com/600x600.png?text=iPhone+15+Pro+View+2' },\n      ],\n      category: { id: 'smartphones', name: 'Smartphones', parentId: 'electronics' },\n      categoryId: 'smartphones',\n      brand: 'Apple',\n      stockQuantity: 150,\n      rating: 4.8,\n      reviews: [\n        { id: 'r1p1', productId: '1', userId: 'u1', userName: 'TechReviewer', rating: 5, comment: 'Amazing device!', createdAt: new Date('2024-01-10T10:00:00Z') }\n      ],\n      featured: true,\n      createdAt: new Date('2024-01-01T10:00:00Z'),\n      updatedAt: new Date('2024-01-05T10:00:00Z'),\n      keyFeatures: ['A17 Bionic Chip', 'Pro Camera System', 'ProMotion Display'],\n      freeShipping: true,\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '2',\n      name: 'MacBook Pro 16-inch',\n      description: 'The most powerful MacBook Pro ever with M3 Max chip.',\n      price: 2499.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=MacBook+Pro+16',\n      images: [\n        { url: 'https://via.placeholder.com/600x600.png?text=MacBook+Pro+16+View+1' },\n      ],\n      category: { id: 'laptops', name: 'Laptops', parentId: 'electronics' },\n      categoryId: 'laptops',\n      brand: 'Apple',\n      stockQuantity: 75,\n      rating: 4.9,\n      reviews: [],\n      featured: true,\n      createdAt: new Date('2023-11-15T10:00:00Z'),\n      updatedAt: new Date('2023-12-01T10:00:00Z'),\n      keyFeatures: ['M3 Max Chip', 'Liquid Retina XDR Display', '1080p FaceTime HD Camera'],\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '3',\n      name: 'Sony WH-1000XM5 Headphones',\n      description: 'Industry-leading noise canceling headphones with exceptional sound quality.',\n      price: 348.00,\n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Sony+XM5',\n      category: { id: 'audio', name: 'Audio', parentId: 'electronics' },\n      categoryId: 'audio',\n      brand: 'Sony',\n      stockQuantity: 200,\n      rating: 4.7,\n      reviews: [],\n      featured: false,\n      createdAt: new Date('2023-05-01T10:00:00Z'),\n      updatedAt: new Date('2023-05-01T10:00:00Z'),\n      keyFeatures: ['Noise Canceling', '30-hour battery life', 'Multipoint connection'],\n      fastDelivery: true,\n      availabilityStatus: 'in-stock',\n    },\n    // Add more diverse mock products here, ensuring they conform to the Product model\n     {\n      id: '4', name: 'Men\\'s Casual Shirt', description: 'Comfortable cotton casual shirt.', price: 45.00, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Casual+Shirt', \n      category: { id: 'mens-clothing', name: 'Men\\'s Clothing', parentId: 'fashion'}, \n      categoryId: 'mens-clothing',\n      stockQuantity: 120, rating: 4.0, brand: 'ClothCo', \n      createdAt: new Date('2023-03-01T10:00:00Z'), regularPrice: 50.00,\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '5', name: 'Running Shoes', description: 'Lightweight running shoes for athletes.', price: 89.99, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Running+Shoes', \n      category: { id: 'footwear', name: 'Footwear', parentId: 'fashion'}, \n      categoryId: 'footwear',\n      stockQuantity: 75, rating: 4.6, brand: 'FitGear', \n      createdAt: new Date('2023-02-10T10:00:00Z'),\n      availabilityStatus: 'in-stock',\n    },\n    {\n      id: '6', name: 'Coffee Maker Deluxe', description: 'Drip coffee maker with timer and grinder.', price: 79.95, \n      imageUrl: 'https://via.placeholder.com/400x400.png?text=Coffee+Maker', \n      category: { id: 'kitchen-appliances', name: 'Kitchen Appliances', parentId: 'home-garden'}, \n      categoryId: 'kitchen-appliances',\n      stockQuantity: 60, rating: 4.2, brand: 'HomeEase', \n      createdAt: new Date('2023-04-05T10:00:00Z'), keyFeatures: ['Programmable', 'Built-in Grinder'],\n      availabilityStatus: 'low-stock',\n    }\n  ];\n\n  private categories: Category[] = [\n    { id: 'electronics', name: 'Electronics', description: 'Gadgets and devices', image: 'https://via.placeholder.com/300x200.png?text=Electronics', featured: true },\n    { id: 'smartphones', name: 'Smartphones', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Smartphones' },\n    { id: 'laptops', name: 'Laptops', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Laptops' },\n    { id: 'audio', name: 'Audio', parentId: 'electronics', image: 'https://via.placeholder.com/300x200.png?text=Audio' },\n    { id: 'fashion', name: 'Fashion', description: 'Apparel and accessories', image: 'https://via.placeholder.com/300x200.png?text=Fashion', featured: true },\n    { id: 'mens-clothing', name: 'Men\\'s Clothing', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Men%27s+Clothing' },\n    { id: 'womens-clothing', name: 'Women\\'s Clothing', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Women%27s+Clothing' },\n    { id: 'footwear', name: 'Footwear', parentId: 'fashion', image: 'https://via.placeholder.com/300x200.png?text=Footwear' },\n    { id: 'home-garden', name: 'Home & Garden', description: 'Items for your home', image: 'https://via.placeholder.com/300x200.png?text=Home+Garden' },\n    { id: 'kitchen-appliances', name: 'Kitchen Appliances', parentId: 'home-garden', image: 'https://via.placeholder.com/300x200.png?text=Kitchen' },\n  ];\n\n  private reviews: Review[] = [\n    { id: 'r1p1', productId: '1', userId: 'user123', userName: 'Jane D.', rating: 5, comment: 'Absolutely love this phone!', createdAt: new Date('2024-01-15T14:30:00Z') },\n    { id: 'r2p1', productId: '1', userId: 'user456', userName: 'John S.', rating: 4, comment: 'Great features, a bit pricey.', createdAt: new Date('2024-01-17T09:15:00Z') },\n    { id: 'r1p2', productId: '2', userId: 'user789', userName: 'Alice B.', rating: 5, comment: 'Perfect for my development work.', createdAt: new Date('2023-11-20T11:00:00Z') },\n  ];\n\n  constructor() {}\n\n  getProducts(options: {\n    page?: number;\n    limit?: number;\n    sortBy?: string;\n    order?: 'asc' | 'desc';\n    category?: string; // categoryId or categoryName\n    subcategory?: string; // subcategoryName\n    minPrice?: number;\n    maxPrice?: number;\n    search?: string;\n  } = {}): Observable<PaginatedResponse<Product>> {\n    let filteredProducts = [...this.products];\n\n    if (options.search) {\n      const searchTerm = options.search.toLowerCase();\n      filteredProducts = filteredProducts.filter(p =>\n        p.name.toLowerCase().includes(searchTerm) ||\n        p.description.toLowerCase().includes(searchTerm) ||\n        p.brand?.toLowerCase().includes(searchTerm) ||\n        p.category?.name.toLowerCase().includes(searchTerm)\n      );\n    }\n\n    if (options.category) {\n      const categoryFilter = options.category.toLowerCase();\n      filteredProducts = filteredProducts.filter(p =>\n        p.category?.id.toLowerCase() === categoryFilter ||\n        p.category?.name.toLowerCase() === categoryFilter ||\n        p.categoryId?.toLowerCase() === categoryFilter\n      );\n    }\n    \n    if (options.subcategory) {\n        const subCategoryTerm = options.subcategory.toLowerCase();\n        // This is a simplified subcategory filter. \n        // A real app might have subcategories explicitly linked or as part of a category path.\n        filteredProducts = filteredProducts.filter(p => \n           (p.description?.toLowerCase().includes(subCategoryTerm)) || \n           (p.name?.toLowerCase().includes(subCategoryTerm)) ||\n           (p.keyFeatures && p.keyFeatures.some(kf => kf.toLowerCase().includes(subCategoryTerm))) ||\n           (p.category?.name.toLowerCase().includes(subCategoryTerm)) // if subcat is part of main cat name\n       );\n    }\n\n\n    if (options.minPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price >= options.minPrice!);\n    }\n    if (options.maxPrice !== undefined) {\n      filteredProducts = filteredProducts.filter(p => p.price <= options.maxPrice!);\n    }\n\n    if (options.sortBy) {\n      filteredProducts.sort((a, b) => {\n        let aValue: any;\n        let bValue: any;\n\n        if (options.sortBy === 'price') {\n          aValue = a.price;\n          bValue = b.price;\n        } else if (options.sortBy === 'name') {\n          aValue = a.name.toLowerCase();\n          bValue = b.name.toLowerCase();\n        } else if (options.sortBy === 'createdAt' && a.createdAt && b.createdAt) {\n          aValue = a.createdAt.getTime();\n          bValue = b.createdAt.getTime();\n        } else if (options.sortBy === 'rating' && a.rating !== undefined && b.rating !== undefined) {\n            aValue = a.rating;\n            bValue = b.rating;\n        } else {\n          return 0; // No sort or unknown field\n        }\n\n        if (aValue < bValue) return options.order === 'asc' ? -1 : 1;\n        if (aValue > bValue) return options.order === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n\n    const page = options.page || 1;\n    const limit = options.limit || 10;\n    const totalCount = filteredProducts.length;\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const items = filteredProducts.slice(startIndex, endIndex);\n    const totalPages = Math.ceil(totalCount / limit);\n\n    const response: PaginatedResponse<Product> = {\n      items,\n      totalCount,\n      page,\n      limit,\n      totalPages\n    };\n    return of(response).pipe(delay(300)); // Simulate network delay\n  }\n\n  getProductById(id: string): Observable<Product> {\n    const product = this.products.find(p => p.id === id);\n    if (product) {\n      return of(product).pipe(delay(100));\n    }\n    return of(undefined as any).pipe(delay(100)); // Simulate not found\n  }\n\n  getCategories(): Observable<Category[]> {\n    return of(this.categories).pipe(delay(100));\n  }\n\n  getProductReviews(productId: string, page = 1, limit = 5): Observable<{ reviews: Review[]; totalCount: number }> {\n    const productReviews = this.reviews.filter(r => r.productId === productId);\n    const totalCount = productReviews.length;\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const items = productReviews.slice(startIndex, endIndex);\n    \n    return of({ reviews: items, totalCount }).pipe(delay(100));\n  }\n  \n  getFeaturedProducts(limit = 8): Observable<Product[]> {\n    const featured = this.products.filter(p => p.featured).slice(0, limit);\n    return of(featured).pipe(delay(200));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationService {\n  \n  constructor(private snackBar: MatSnackBar) {}\n\n  show(message: string, duration: number = 3000): void {\n    this.snackBar.open(message, 'Close', {\n      duration: duration,\n      verticalPosition: 'top',\n      horizontalPosition: 'right'\n    });\n  }\n\n  success(message: string, duration: number = 3000): void {\n    this.snackBar.open(message, 'Close', {\n      duration: duration,\n      panelClass: ['notification-success'],\n      verticalPosition: 'top',\n      horizontalPosition: 'right'\n    });\n  }\n\n  error(message: string, duration: number = 5000): void {\n    this.snackBar.open(message, 'Close', {\n      duration: duration,\n      panelClass: ['notification-error'],\n      verticalPosition: 'top',\n      horizontalPosition: 'right'\n    });\n  }\n\n  info(message: string, duration: number = 4000): void {\n    this.snackBar.open(message, 'Close', {\n      duration: duration,\n      panelClass: ['notification-info'],\n      verticalPosition: 'top',\n      horizontalPosition: 'right'\n    });\n  }\n\n  warn(message: string, duration: number = 4000): void {\n    this.snackBar.open(message, 'Close', {\n      duration: duration,\n      panelClass: ['notification-warn'],\n      verticalPosition: 'top',\n      horizontalPosition: 'right'\n    });\n  }\n\n  // Aliases for consistency with other parts of the app\n  showSuccess(message: string, duration: number = 3000): void {\n    this.success(message, duration);\n  }\n\n  showError(message: string, duration: number = 5000): void {\n    this.error(message, duration);\n  }\n\n  showInfo(message: string, duration: number = 4000): void {\n    this.info(message, duration);\n  }\n\n  showWarning(message: string, duration: number = 4000): void {\n    this.warn(message, duration);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\n\nimport { environment } from '../../../environments/environment';\nimport { Order, CreateOrderRequest } from '../models/order.model';\nimport { NotificationService } from './notification.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n  private apiUrl = `${environment.apiUrl}/orders`;\n  \n  constructor(\n    private http: HttpClient,\n    private notificationService: NotificationService\n  ) {}\n\n  getOrders(page = 1, limit = 10): Observable<{ orders: Order[], totalCount: number }> {\n    return this.http.get<{ orders: Order[], totalCount: number }>(\n      `${this.apiUrl}?page=${page}&limit=${limit}`\n    ).pipe(\n      catchError(error => {\n        this.notificationService.error('Failed to load your orders. Please try again.');\n        return throwError(() => error);\n      })\n    );\n  }\n\n  getOrderById(id: string): Observable<Order> {\n    return this.http.get<Order>(`${this.apiUrl}/${id}`).pipe(\n      catchError(error => {\n        this.notificationService.error('Failed to load order details. Please try again.');\n        return throwError(() => error);\n      })\n    );\n  }\n\n  createOrder(orderData: CreateOrderRequest): Observable<Order> {\n    return this.http.post<Order>(this.apiUrl, orderData).pipe(\n      tap(() => {\n        this.notificationService.success('Order placed successfully!');\n      }),\n      catchError(error => {\n        this.notificationService.error('Failed to place your order. Please try again.');\n        return throwError(() => error);\n      })\n    );\n  }\n\n  cancelOrder(orderId: string, reason?: string): Observable<Order> {\n    return this.http.post<Order>(\n      `${this.apiUrl}/${orderId}/cancel`,\n      { reason }\n    ).pipe(\n      tap(() => {\n        this.notificationService.success('Order cancelled successfully.');\n      }),\n      catchError(error => {\n        this.notificationService.error('Failed to cancel your order. Please try again.');\n        return throwError(() => error);\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\nimport { environment } from '../../../environments/environment';\nimport { NotificationService } from './notification.service';\nimport { MockDataService } from './mock-data.service';\nimport { FakeStoreApiService } from './fake-store-api.service';\nimport { Product, Category, Review, PaginatedResponse } from '../models/product.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductService {\n  private apiUrl = `${environment.apiUrl}/products`;\n  private categoriesUrl = `${environment.apiUrl}/categories`;\n  \n  // This local mockProducts is likely not used if mockDataService is primary for mocks.\n  // private mockProducts: Product[] = [ ... ]; \n  \n  constructor(\n    private http: HttpClient,\n    private notificationService: NotificationService,\n    private mockDataService: MockDataService,\n    private fakeStoreApiService: FakeStoreApiService\n  ) {}\n\n  getProducts(options: {\n    page?: number;\n    limit?: number;\n    sortBy?: string;\n    order?: 'asc' | 'desc';\n    category?: string; // This could be category ID or name\n    subcategory?: string; \n    minPrice?: number;\n    maxPrice?: number;\n    search?: string;\n  } = {}): Observable<PaginatedResponse<Product>> { // Changed return type\n    \n    console.log('ProductService: getProducts called with options:', options);\n    console.log('ProductService: Environment flags:', {\n      useFakeStoreApi: environment.useFakeStoreApi,\n      useMockData: environment.useMockData\n    });\n    \n    // Check if we should use Fake Store API\n    if (environment.useFakeStoreApi) {\n      console.log('ProductService: Using Fake Store API');\n      return this.fakeStoreApiService.getProducts(options);\n    }\n    \n    if (environment.useMockData) {\n      console.log('ProductService: Using Mock Data');\n      // Assuming mockDataService.getProducts returns PaginatedResponse<Product>\n      return this.mockDataService.getProducts(options); \n    }\n    \n    console.log('ProductService: Using real API');\n    \n    let params = new HttpParams();\n    \n    if (options.page) params = params.set('_page', options.page.toString()); // Common API convention\n    if (options.limit) params = params.set('_limit', options.limit.toString()); // Common API convention\n    if (options.sortBy) params = params.set('_sort', options.sortBy);\n    if (options.order) params = params.set('_order', options.order);\n    if (options.category) params = params.set('categoryId', options.category); // Assuming API filters by categoryId\n    if (options.subcategory) params = params.set('subcategoryName', options.subcategory); // Example: API might filter by subcategoryName\n    if (options.minPrice) params = params.set('price_gte', options.minPrice.toString());\n    if (options.maxPrice) params = params.set('price_lte', options.maxPrice.toString());\n    if (options.search) params = params.set('q', options.search); // Common API convention for search\n    \n    // For a real API, the response might already be PaginatedResponse or you might need to map it.\n    // If API returns Product[] and headers for totalCount:\n    return this.http.get<Product[]>(this.apiUrl, { params, observe: 'response' }).pipe(\n      map(response => {\n        const items = response.body || [];\n        const totalCountHeader = response.headers.get('X-Total-Count');\n        const totalCount = totalCountHeader ? +totalCountHeader : items.length;\n        return {\n          items: items,\n          totalCount: totalCount,\n          page: options.page || 1,\n          limit: options.limit || items.length, // Or a default limit\n          totalPages: options.limit ? Math.ceil(totalCount / options.limit) : 1\n        };\n      }),\n      catchError(this.handleError('Failed to load products'))\n    );\n  }\n\n  getProductById(id: string): Observable<Product> {\n    console.log('ProductService: getProductById called with id:', id);\n    console.log('ProductService: Environment flags:', {\n      useFakeStoreApi: environment.useFakeStoreApi,\n      useMockData: environment.useMockData\n    });\n    \n    // Check if we should use Fake Store API\n    if (environment.useFakeStoreApi) {\n      console.log('ProductService: Using Fake Store API for product by ID');\n      return this.fakeStoreApiService.getProductById(id).pipe(\n        map(product => {\n          if (!product) {\n            throw new Error('Product not found');\n          }\n          return product;\n        })\n      );\n    }\n    \n    // Use mock data in development\n    if (environment.useMockData) {\n      return this.mockDataService.getProductById(id).pipe(\n        map(product => {\n          if (!product) {\n            throw new Error('Product not found');\n          }\n          return product;\n        })\n      );\n    }\n    \n    return this.http.get<Product>(`${this.apiUrl}/${id}`).pipe(\n      catchError(this.handleError('Failed to load product details'))\n    );\n  }\n\n  getCategories(): Observable<Category[]> {\n    // Check if we should use Fake Store API\n    if (environment.useFakeStoreApi) {\n      return this.fakeStoreApiService.getCategories();\n    }\n    \n    // Use mock data in development\n    if (environment.useMockData) {\n      return this.mockDataService.getCategories();\n    }\n    \n    return this.http.get<Category[]>(this.categoriesUrl).pipe(\n      map(categories => this.buildCategoryTree(categories)),\n      catchError(this.handleError('Failed to load categories'))\n    );\n  }\n\n  getProductReviews(productId: string, page = 1, limit = 10): Observable<{ reviews: Review[]; totalCount: number }> {\n    // Use mock data in development\n    if (environment.useMockData) {\n      return this.mockDataService.getProductReviews(productId, page, limit);\n    }\n    \n    const params = new HttpParams()\n      .set('page', page.toString())\n      .set('limit', limit.toString());\n    \n    return this.http.get<{ reviews: Review[]; totalCount: number }>(\n      `${this.apiUrl}/${productId}/reviews`,\n      { params }\n    ).pipe(\n      catchError(this.handleError('Failed to load product reviews'))\n    );\n  }\n\n  addProductReview(productId: string, review: { rating: number; title: string; comment: string }): Observable<Review> {\n    return this.http.post<Review>(\n      `${this.apiUrl}/${productId}/reviews`,\n      review\n    ).pipe(\n      catchError(this.handleError('Failed to submit your review'))\n    );\n  }\n\n  getFeaturedProducts(limit = 8): Observable<Product[]> { // This typically returns just an array\n    if (environment.useMockData) {\n      return this.mockDataService.getFeaturedProducts(limit);\n    }\n    \n    const params = new HttpParams().set('_limit', limit.toString()).set('featured', 'true');\n    \n    // Assuming API returns Product[] directly for this specific endpoint\n    return this.http.get<Product[]>(this.apiUrl, { params }).pipe(\n      catchError(this.handleError('Failed to load featured products'))\n    );\n  }\n\n  getRelatedProducts(productId: string, limit = 4): Observable<Product[]> {\n    const params = new HttpParams().set('limit', limit.toString());\n    \n    return this.http.get<Product[]>(`${this.apiUrl}/${productId}/related`, { params }).pipe(\n      catchError(this.handleError('Failed to load related products'))\n    );\n  }\n\n  private buildCategoryTree(categories: Category[]): Category[] {\n    // Create a map for faster lookup\n    const categoryMap = new Map<string, Category>();\n    categories.forEach(category => {\n      categoryMap.set(category.id, { ...category, children: [] });\n    });\n    \n    // Identify top-level categories and build hierarchy\n    const rootCategories: Category[] = [];\n    categoryMap.forEach(category => {\n      if (!category.parentId) {\n        rootCategories.push(category);\n      } else {\n        const parent = categoryMap.get(category.parentId);\n        if (parent) {\n          parent.children = parent.children || [];\n          parent.children.push(category);\n        }\n      }\n    });\n    \n    return rootCategories;\n  }\n\n  private handleError(message: string) {\n    return (error: any): Observable<never> => {\n      this.notificationService.error(message);\n      throw error;\n    };\n  }\n\n  // Store management methods\n  loadProducts(): Observable<PaginatedResponse<Product>> { // Align with getProducts return type\n    return this.getProducts(); // Now returns PaginatedResponse\n  }\n\n  loadCategories(): Observable<Category[]> {\n    return this.getCategories();\n  }\n\n  loadProductById(id: string): Observable<Product> {\n    return this.getProductById(id);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n  private prefix = 'angular-ecommerce_';\n\n  constructor() {}\n\n  setItem<T>(key: string, value: T): void {\n    const storageKey = this.prefix + key;\n    localStorage.setItem(storageKey, JSON.stringify(value));\n  }\n\n  getItem<T>(key: string): T | null {\n    const storageKey = this.prefix + key;\n    const item = localStorage.getItem(storageKey);\n    \n    if (!item) {\n      return null;\n    }\n    \n    try {\n      return JSON.parse(item) as T;\n    } catch (error) {\n      console.error(`Error parsing stored item with key ${key}:`, error);\n      return null;\n    }\n  }\n\n  removeItem(key: string): void {\n    const storageKey = this.prefix + key;\n    localStorage.removeItem(storageKey);\n  }\n\n  clear(): void {\n    // Only clear items with our prefix\n    Object.keys(localStorage)\n      .filter(key => key.startsWith(this.prefix))\n      .forEach(key => localStorage.removeItem(key));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, map, of } from 'rxjs';\nimport { Product } from '../models/product.model';\nimport { StorageService } from './storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WishlistService {\n  private readonly WISHLIST_KEY = 'ecommerce_wishlist';\n  private wishlistSubject = new BehaviorSubject<Product[]>([]);\n  \n  public wishlist$ = this.wishlistSubject.asObservable();\n  public wishlistCount$ = this.wishlist$.pipe(\n    map(items => items.length)\n  );\n\n  constructor(private storageService: StorageService) {\n    this.loadWishlist();\n  }\n\n  private loadWishlist(): void {\n    const savedWishlist = this.storageService.getItem(this.WISHLIST_KEY);\n    if (savedWishlist && Array.isArray(savedWishlist)) {\n      this.wishlistSubject.next(savedWishlist);\n    }\n  }\n\n  private saveWishlist(): void {\n    this.storageService.setItem(this.WISHLIST_KEY, this.wishlistSubject.value);\n  }\n\n  addToWishlist(product: Product): void {\n    const currentWishlist = this.wishlistSubject.value;\n    const existingIndex = currentWishlist.findIndex(item => item.id === product.id);\n    \n    if (existingIndex === -1) {\n      const updatedWishlist = [...currentWishlist, product];\n      this.wishlistSubject.next(updatedWishlist);\n      this.saveWishlist();\n    }\n  }\n\n  removeFromWishlist(productId: string): void {\n    const currentWishlist = this.wishlistSubject.value;\n    const updatedWishlist = currentWishlist.filter(item => item.id !== productId);\n    this.wishlistSubject.next(updatedWishlist);\n    this.saveWishlist();\n  }\n\n  isInWishlist(productId: string): Observable<boolean> {\n    return this.wishlist$.pipe(\n      map(items => items.some(item => item.id === productId))\n    );\n  }\n\n  clearWishlist(): void {\n    this.wishlistSubject.next([]);\n    this.saveWishlist();\n  }\n\n  getWishlist(): Product[] {\n    return this.wishlistSubject.value;\n  }\n\n  // Toggles item and returns an observable indicating the new state (e.g., true if added, false if removed)\n  toggleWishlist(productId: string): Observable<boolean> {\n    let currentWishlist = this.getWishlist();\n    const productIndex = currentWishlist.findIndex(item => item.id === productId);\n    let added: boolean;\n\n    if (productIndex > -1) {\n      currentWishlist.splice(productIndex, 1); // Remove from wishlist\n      added = false;\n    } else {\n      const product = { id: productId } as Product; // Create a product object with at least the id\n      currentWishlist = [...currentWishlist, product]; // Add to wishlist\n      added = true;\n    }\n    this.wishlistSubject.next(currentWishlist);\n    this.saveWishlist();\n    return of(added); // Simulate async operation and return new state\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable, switchMap, tap, map as rxjsMap } from 'rxjs';\nimport { Product, PaginatedResponse } from '../../core/models/product.model';\nimport { ProductService } from '../../core/services/product.service';\n\n@Component({\n  selector: 'app-products-page',\n  templateUrl: './products-page.component.html',\n  styleUrls: ['./products-page.component.scss']\n})\nexport class ProductsPageComponent implements OnInit {\n  products$: Observable<Product[]>;\n  pageTitle = 'All Products';\n  \n  // For potential pagination controls\n  totalCount = 0;\n  currentPage = 1;\n  itemsPerPage = 10; // Default, can be updated from params or response\n\n  constructor(\n    private productService: ProductService,\n    private route: ActivatedRoute\n  ) {\n    this.products$ = this.route.queryParams.pipe(\n      tap(params => {\n        const category = params['category'];\n        const subcategory = params['subcategory'];\n        const search = params['search'];\n        this.currentPage = params['page'] ? +params['page'] : 1;\n        // Update itemsPerPage if it's in queryParams too\n        \n        if (search) {\n          this.pageTitle = `Search Results for \"${search}\"`;\n        } else if (category) {\n          this.pageTitle = `Products in ${this.capitalizeFirstLetter(category)}`;\n        } else if (subcategory) {\n           this.pageTitle = `Products in ${this.capitalizeFirstLetter(subcategory)}`;\n        } else {\n          this.pageTitle = 'All Products';\n        }\n      }),\n      switchMap(params => {\n        const category = params['category'];\n        const subcategory = params['subcategory'];\n        const search = params['search'];\n        const page = params['page'] ? +params['page'] : 1;\n        const limit = params['limit'] ? +params['limit'] : this.itemsPerPage;\n        \n        return this.productService.getProducts({ category, subcategory, search, page, limit });\n      }),\n      rxjsMap((response: PaginatedResponse<Product>) => { \n        this.totalCount = response.totalCount;\n        this.currentPage = response.page;\n        this.itemsPerPage = response.limit;\n        return response.items; // Extract items for the template\n      })\n    );\n  }\n\n  ngOnInit(): void {\n  }\n\n  private capitalizeFirstLetter(str: string): string {\n    if (!str) {\n      return '';\n    }\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n}\n","<div class=\"container products-page\">\n  <header class=\"page-header\">\n    <h1>{{ pageTitle }}</h1>\n    <!-- Add sorting/filtering options here later -->\n  </header>\n\n  <div *ngIf=\"(products$ | async) as products; else loadingOrError\">\n    <div *ngIf=\"products.length > 0; else noProducts\" class=\"products-grid\">\n      <div *ngFor=\"let product of products\" class=\"product-card\">\n        <a [routerLink]=\"['/products', product.id]\" class=\"product-link\">\n          <img [src]=\"product.imageUrl\" [alt]=\"product.name\" class=\"product-image\">\n          <div class=\"product-info\">\n            <h3 class=\"product-name\">{{ product.name }}</h3>\n            <p class=\"product-category\">{{ product.category }}</p>\n            <p class=\"product-price\">{{ product.price | currency:'USD':'symbol' }}</p>\n          </div>\n        </a>\n        <button class=\"btn btn-primary add-to-cart-btn\">Add to Cart</button>\n      </div>\n    </div>\n    <ng-template #noProducts>\n      <div class=\"no-products-message\">\n        <mat-icon>search_off</mat-icon>\n        <p>No products found matching your criteria.</p>\n      </div>\n    </ng-template>\n  </div>\n\n  <ng-template #loadingOrError>\n    <!-- You can differentiate between loading and error states later -->\n    <div class=\"loading-message\">\n      <mat-spinner diameter=\"50\"></mat-spinner>\n      <p>Loading products...</p>\n    </div>\n  </ng-template>\n</div>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nexport interface ConfirmDialogData {\n  title: string;\n  message: string;\n  confirmButtonText: string;\n  cancelButtonText: string;\n  color?: 'primary' | 'accent' | 'warn';\n}\n\n@Component({\n  selector: 'app-confirm-dialog',\n  template: `\n    <h2 mat-dialog-title>{{ data.title }}</h2>\n    <mat-dialog-content>\n      <p [innerHTML]=\"data.message\"></p>\n    </mat-dialog-content>\n    <mat-dialog-actions align=\"end\">\n      <button mat-button mat-dialog-close>\n        {{ data.cancelButtonText || 'Cancel' }}\n      </button>\n      <button mat-raised-button \n              [color]=\"data.color || 'primary'\" \n              [mat-dialog-close]=\"true\">\n        {{ data.confirmButtonText || 'Confirm' }}\n      </button>\n    </mat-dialog-actions>\n  `,\n  styles: [`\n    mat-dialog-content {\n      min-width: 300px;\n    }\n  `]\n})\nexport class ConfirmDialogComponent {\n  constructor(\n    public dialogRef: MatDialogRef<ConfirmDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: ConfirmDialogData\n  ) {}\n}","import { Component, OnInit, OnDestroy, HostListener } from '@angular/core';\nimport { Subject, takeUntil } from 'rxjs';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss']\n})\nexport class FooterComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  \n  currentYear = new Date().getFullYear();\n  newsletterEmail = '';\n  isSubscribing = false;\n  showBackToTop = false;\n\n  @HostListener('window:scroll', [])\n  onWindowScroll() {\n    this.showBackToTop = window.pageYOffset > 400;\n  }\n\n  ngOnInit() {\n    // Component initialization\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  subscribeNewsletter() {\n    if (!this.newsletterEmail || this.isSubscribing) {\n      return;\n    }\n\n    // Validate email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(this.newsletterEmail)) {\n      // Could show toast notification here\n      console.warn('Please enter a valid email address');\n      return;\n    }\n\n    this.isSubscribing = true;\n\n    // Simulate API call\n    setTimeout(() => {\n      console.log('Newsletter subscription for:', this.newsletterEmail);\n      // Could show success toast notification here\n      this.newsletterEmail = '';\n      this.isSubscribing = false;\n    }, 2000);\n  }\n\n  scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n}\n","<!-- Modern Footer Component -->\n<footer class=\"footer\">\n  <div class=\"footer-content\">\n    <!-- Newsletter Section -->\n    <section class=\"newsletter-section\">\n      <div class=\"container\">\n        <div class=\"newsletter-content\">\n          <div class=\"newsletter-text\">\n            <h3>Stay Updated</h3>\n            <p>Subscribe to our newsletter and get the latest deals and updates delivered to your inbox.</p>\n          </div>\n          <div class=\"newsletter-form\">\n            <form (ngSubmit)=\"subscribeNewsletter()\" class=\"newsletter-form-wrapper\">\n              <div class=\"input-group\">\n                <input \n                  type=\"email\" \n                  [(ngModel)]=\"newsletterEmail\"\n                  name=\"newsletterEmail\"\n                  placeholder=\"Enter your email address\"\n                  class=\"newsletter-input\"\n                  [disabled]=\"isSubscribing\"\n                  required>\n                <button \n                  type=\"submit\"\n                  class=\"newsletter-button\"\n                  [disabled]=\"isSubscribing || !newsletterEmail\">\n                  <span *ngIf=\"!isSubscribing\">Subscribe</span>\n                  <span *ngIf=\"isSubscribing\" class=\"loading-text\">\n                    <mat-spinner diameter=\"16\"></mat-spinner>\n                    Subscribing...\n                  </span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Main Footer Content -->\n    <section class=\"main-footer\">\n      <div class=\"container\">\n        <div class=\"footer-grid\">\n          <!-- Company Information -->\n          <div class=\"footer-column company-info\">\n            <div class=\"footer-logo\">\n              <h3>ShopEasy</h3>\n            </div>\n            <p class=\"company-description\">\n              Your trusted online shopping destination for quality products at unbeatable prices. \n              We're committed to providing exceptional customer service and a seamless shopping experience.\n            </p>\n            <div class=\"contact-info\">\n              <div class=\"contact-item\">\n                <mat-icon>location_on</mat-icon>\n                <span>123 Commerce Street, Shopping District, City 12345</span>\n              </div>\n              <div class=\"contact-item\">\n                <mat-icon>phone</mat-icon>\n                <span>+1 (555) 123-4567</span>\n              </div>\n              <div class=\"contact-item\">\n                <mat-icon>email</mat-icon>\n                <span>support&#64;shopeasy.com</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Quick Links -->\n          <div class=\"footer-column\">\n            <h4>Quick Links</h4>\n            <ul class=\"footer-links\">\n              <li><a routerLink=\"/products\">All Products</a></li>\n              <li><a routerLink=\"/categories\">Categories</a></li>\n              <li><a routerLink=\"/deals\">Special Deals</a></li>\n              <li><a routerLink=\"/new-arrivals\">New Arrivals</a></li>\n              <li><a routerLink=\"/bestsellers\">Best Sellers</a></li>\n              <li><a routerLink=\"/brands\">Brands</a></li>\n            </ul>\n          </div>\n\n          <!-- Customer Service -->\n          <div class=\"footer-column\">\n            <h4>Customer Service</h4>\n            <ul class=\"footer-links\">\n              <li><a routerLink=\"/help\">Help Center</a></li>\n              <li><a routerLink=\"/contact\">Contact Us</a></li>\n              <li><a routerLink=\"/shipping\">Shipping Info</a></li>\n              <li><a routerLink=\"/returns\">Returns & Exchanges</a></li>\n              <li><a routerLink=\"/size-guide\">Size Guide</a></li>\n              <li><a routerLink=\"/track-order\">Track Your Order</a></li>\n            </ul>\n          </div>\n\n          <!-- About & Legal -->\n          <div class=\"footer-column\">\n            <h4>About & Legal</h4>\n            <ul class=\"footer-links\">\n              <li><a routerLink=\"/about\">About Us</a></li>\n              <li><a routerLink=\"/careers\">Careers</a></li>\n              <li><a routerLink=\"/privacy\">Privacy Policy</a></li>\n              <li><a routerLink=\"/terms\">Terms of Service</a></li>\n              <li><a routerLink=\"/accessibility\">Accessibility</a></li>\n              <li><a routerLink=\"/sitemap\">Sitemap</a></li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Features Section -->\n    <section class=\"features-section\">\n      <div class=\"container\">\n        <div class=\"features-grid\">\n          <div class=\"feature-item\">\n            <mat-icon>local_shipping</mat-icon>\n            <div class=\"feature-content\">\n              <h5>Free Shipping</h5>\n              <p>On orders over $50</p>\n            </div>\n          </div>\n          <div class=\"feature-item\">\n            <mat-icon>security</mat-icon>\n            <div class=\"feature-content\">\n              <h5>Secure Payment</h5>\n              <p>100% secure transactions</p>\n            </div>\n          </div>\n          <div class=\"feature-item\">\n            <mat-icon>support_agent</mat-icon>\n            <div class=\"feature-content\">\n              <h5>24/7 Support</h5>\n              <p>Dedicated customer service</p>\n            </div>\n          </div>\n          <div class=\"feature-item\">\n            <mat-icon>autorenew</mat-icon>\n            <div class=\"feature-content\">\n              <h5>Easy Returns</h5>\n              <p>30-day return policy</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Bottom Footer -->\n    <section class=\"bottom-footer\">\n      <div class=\"container\">\n        <div class=\"bottom-footer-content\">\n          <div class=\"copyright\">\n            <p>&copy; {{ currentYear }} ShopEasy. All rights reserved.</p>\n          </div>\n          \n          <div class=\"payment-methods\">\n            <span class=\"payment-label\">We Accept:</span>\n            <div class=\"payment-icons\">\n              <div class=\"payment-icon visa\">VISA</div>\n              <div class=\"payment-icon mastercard\">MC</div>\n              <div class=\"payment-icon amex\">AMEX</div>\n              <div class=\"payment-icon paypal\">PayPal</div>\n              <div class=\"payment-icon apple-pay\">Apple Pay</div>\n            </div>\n          </div>\n          \n          <div class=\"social-links\">\n            <a href=\"#\" class=\"social-link\" aria-label=\"Facebook\">\n              <mat-icon>facebook</mat-icon>\n            </a>\n            <a href=\"#\" class=\"social-link\" aria-label=\"Twitter\">\n              <mat-icon>twitter</mat-icon>\n            </a>\n            <a href=\"#\" class=\"social-link\" aria-label=\"Instagram\">\n              <mat-icon>instagram</mat-icon>\n            </a>\n            <a href=\"#\" class=\"social-link\" aria-label=\"LinkedIn\">\n              <mat-icon>linkedin</mat-icon>\n            </a>\n            <a href=\"#\" class=\"social-link\" aria-label=\"YouTube\">\n              <mat-icon>youtube</mat-icon>\n            </a>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n\n  <!-- Back to Top Button -->\n  <button \n    class=\"back-to-top\"\n    [class.visible]=\"showBackToTop\"\n    (click)=\"scrollToTop()\"\n    aria-label=\"Back to top\">\n    <mat-icon>keyboard_arrow_up</mat-icon>\n  </button>\n</footer>","import { Component, OnInit, HostListener } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { Observable, BehaviorSubject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { debounceTime, distinctUntilChanged, filter, map } from 'rxjs/operators';\n\nimport { AppState } from '../../../store';\nimport { User } from '../../../core/models/user.model';\nimport { CartItem } from '../../../core/models/cart.model';\nimport { AuthService } from '../../../core/services/auth.service';\nimport { CartService } from '../../../core/services/cart.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'] // <-- Make sure this matches your SCSS filename\n})\nexport class HeaderComponent implements OnInit {\n  isLoggedIn$: Observable<boolean>;\n  currentUser$: Observable<User | null>;\n  cartItems$: Observable<CartItem[]>;\n  cartItemCount$: Observable<number>;\n  isAdmin$: Observable<boolean>;\n  wishlistCount$: Observable<number>;\n  notificationCount$: Observable<number>;\n  notifications$: Observable<any[]>;\n  \n  // Alias for template compatibility\n  isAuthenticated$: Observable<boolean>;\n  \n  // Search functionality\n  searchControl = new FormControl('');\n  mobileSearchControl = new FormControl('');\n  searchSuggestions: string[] = [];\n  showSearchSuggestions = false;\n  mobileSearchOpen = false;\n  showMobileSearch = false;\n\n  // Mobile menu state\n  mobileMenuOpen = false;\n  showMobileMenu = false;\n  megaMenuOpen = false;\n  showMobileCategories = false;\n\n  // Scroll state\n  isScrolled = false;\n\n  // Categories for mega menu\n  categories = [\n    {\n      name: 'Electronics',\n      icon: 'devices',\n      subcategories: ['Smartphones', 'Laptops', 'Tablets', 'Accessories']\n    },\n    {\n      name: 'Fashion',\n      icon: 'checkroom',\n      subcategories: ['Men\\'s Clothing', 'Women\\'s Clothing', 'Shoes', 'Bags']\n    },\n    {\n      name: 'Home & Garden',\n      icon: 'home',\n      subcategories: ['Furniture', 'Decor', 'Kitchen', 'Garden']\n    },\n    {\n      name: 'Sports',\n      icon: 'sports_soccer',\n      subcategories: ['Fitness', 'Outdoor', 'Team Sports', 'Equipment']\n    }\n  ];\n\n  // Popular categories observable\n  popularCategories$ = new BehaviorSubject(this.categories).asObservable();\n\n  // User notifications (mock data)\n  private notificationsSubject = new BehaviorSubject<any[]>([\n    {\n      id: 1,\n      message: 'Your order has been shipped!',\n      type: 'success',\n      timestamp: new Date(),\n      createdAt: new Date(),\n      read: false\n    },\n    {\n      id: 2,\n      message: 'New products available in Electronics',\n      type: 'info',\n      timestamp: new Date(),\n      createdAt: new Date(),\n      read: false\n    }\n  ]);\n\n  // Mobile detection\n  isMobile = false;\n\n  constructor(\n    private store: Store<AppState>,\n    private authService: AuthService,\n    private cartService: CartService,\n    private router: Router\n  ) {\n    this.isLoggedIn$ = this.store.select(state => !!state.auth.user);\n    this.currentUser$ = this.store.select(state => state.auth.user);\n    this.cartItems$ = this.store.select(state => state.cart.items);\n    this.cartItemCount$ = this.store.select(state => \n      state.cart.items.reduce((count: number, item: CartItem) => count + item.quantity, 0)\n    );\n    this.isAdmin$ = this.store.select(state => state.auth.user?.role === 'admin');\n    \n    // Alias for template compatibility\n    this.isAuthenticated$ = this.isLoggedIn$;\n    \n    // Mock observables for wishlist and notifications\n    this.wishlistCount$ = new BehaviorSubject(3).asObservable();\n    this.notifications$ = this.notificationsSubject.asObservable();\n    this.notificationCount$ = this.notificationsSubject.pipe(\n      map((notifications: any[]) => notifications.filter(n => !n.read).length)\n    );\n\n    this.detectMobile();\n  }\n\n  ngOnInit(): void {\n    // Load cart items when component initializes\n    this.cartService.loadCart();\n\n    // Setup search functionality\n    this.searchControl.valueChanges.pipe(\n      debounceTime(300),\n      distinctUntilChanged(),\n      filter(term => term !== null && term.length >= 2)\n    ).subscribe(term => {\n      this.onSearch(term);\n    });\n  }\n\n  @HostListener('window:scroll', [])\n  onWindowScroll() {\n    this.isScrolled = window.pageYOffset > 50;\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event: any): void {\n    this.detectMobile();\n  }\n\n  @HostListener('document:click', ['$event'])\n  onDocumentClick(event: any): void {\n    // Close search suggestions when clicking outside\n    if (!event.target.closest('.search-container')) {\n      this.showSearchSuggestions = false;\n    }\n    // Close mega menu when clicking outside\n    // Ensure that the click is not on the mega-menu-trigger link itself if it's used for toggling\n    if (!event.target.closest('.mega-menu-trigger > .nav-link') && \n        !event.target.closest('.mega-menu-trigger .mega-menu')) {\n      this.closeMegaMenu();\n    }\n  }\n\n  // Search functionality - handles both with and without parameters\n  onSearch(term?: string | null): void {\n    const searchTerm = term !== undefined ? (term || '') : (this.searchControl.value || '');\n    \n    if (!searchTerm || searchTerm.length < 2) {\n      this.searchSuggestions = [];\n      this.showSearchSuggestions = false;\n      if (term === undefined) {\n        // If called without parameter (button click), perform search anyway\n        this.performSearch(searchTerm);\n      }\n      return;\n    }\n\n    // Mock search suggestions\n    const mockSuggestions = [\n      'iPhone 15 Pro',\n      'Samsung Galaxy S24',\n      'MacBook Pro',\n      'AirPods Pro',\n      'iPad Air',\n      'Google Pixel 8',\n      'Sony WH-1000XM5',\n      'Nintendo Switch'\n    ];\n\n    this.searchSuggestions = mockSuggestions\n      .filter(suggestion => suggestion.toLowerCase().includes(searchTerm.toLowerCase()))\n      .slice(0, 5);\n    \n    this.showSearchSuggestions = this.searchSuggestions.length > 0;\n    \n    // If called without parameter (from button click), perform search\n    if (term === undefined) {\n      this.performSearch(searchTerm);\n    }\n  }\n\n  clearSearch(): void {\n    this.searchControl.setValue('');\n    this.searchSuggestions = [];\n    this.showSearchSuggestions = false;\n  }\n\n  selectSuggestion(suggestion: string): void {\n    this.searchControl.setValue(suggestion);\n    this.showSearchSuggestions = false;\n    this.performSearch(suggestion);\n  }\n\n  performSearch(term: string): void {\n    if (term) {\n      this.router.navigate(['/products'], { \n        queryParams: { search: term } \n      });\n      this.showSearchSuggestions = false;\n      if (this.mobileSearchOpen) {\n        this.toggleMobileSearch();\n      }\n    }\n  }\n\n  // Mobile search toggle\n  toggleMobileSearch(): void {\n    this.mobileSearchOpen = !this.mobileSearchOpen;\n    this.showMobileSearch = this.mobileSearchOpen;\n    if (this.mobileSearchOpen) {\n      // Focus search input after animation\n      setTimeout(() => {\n        const searchInput = document.querySelector('.mobile-search input') as HTMLInputElement;\n        if (searchInput) {\n          searchInput.focus();\n        }\n      }, 300);\n    }\n  }\n\n  onMobileSearch(): void {\n    const searchTerm = this.mobileSearchControl.value || '';\n    this.performSearch(searchTerm);\n    this.mobileSearchControl.setValue('');\n    this.toggleMobileSearch();\n  }\n\n  // Mobile menu\n  toggleMobileMenu(): void {\n    this.mobileMenuOpen = !this.mobileMenuOpen;\n    this.showMobileMenu = this.mobileMenuOpen;\n    // Prevent body scroll when menu is open\n    document.body.style.overflow = this.mobileMenuOpen ? 'hidden' : '';\n  }\n\n  closeMobileMenu(): void {\n    this.mobileMenuOpen = false;\n    this.showMobileMenu = false;\n    document.body.style.overflow = '';\n  }\n\n  // Mobile categories toggle\n  toggleMobileCategories(): void {\n    this.showMobileCategories = !this.showMobileCategories;\n  }\n\n  // Mega menu\n  openMegaMenu(): void {\n    if (!this.isMobile) { // Mega menu is for desktop\n      this.megaMenuOpen = true;\n    }\n  }\n\n  closeMegaMenu(): void {\n    if (!this.isMobile) {\n      this.megaMenuOpen = false;\n    }\n  }\n\n  toggleMegaMenuOnClick(event: MouseEvent): void {\n    if (!this.isMobile) {\n      event.stopPropagation(); // Prevent document click from closing it immediately\n      this.megaMenuOpen = !this.megaMenuOpen;\n    }\n  }\n\n  // Navigation methods\n  navigateToCategory(category: string): void {\n    this.router.navigate(['/products'], { \n      queryParams: { category: category.toLowerCase() } \n    });\n    this.closeMobileMenu();\n    this.closeMegaMenu();\n  }\n\n  navigateToSubcategory(subcategory: string): void {\n    this.router.navigate(['/products'], { \n      queryParams: { subcategory: subcategory.toLowerCase() } \n    });\n    this.closeMobileMenu();\n    this.closeMegaMenu();\n  }\n\n  navigateToWishlist(): void {\n    this.router.navigate(['/wishlist']);\n    this.closeMobileMenu();\n  }\n\n  navigateToCart(): void {\n    this.router.navigate(['/cart']);\n    this.closeMobileMenu();\n  }\n\n  navigateToProfile(): void {\n    this.router.navigate(['/profile']);\n    this.closeMobileMenu();\n  }\n\n  navigateToOrders(): void {\n    this.router.navigate(['/profile/orders']);\n    this.closeMobileMenu();\n  }\n\n  navigateToAdmin(): void {\n    this.router.navigate(['/admin']);\n    this.closeMobileMenu();\n  }\n\n  // Notification methods\n  markAllAsRead(): void {\n    const notifications = this.notificationsSubject.value;\n    const updatedNotifications = notifications.map(n => ({ ...n, read: true }));\n    this.notificationsSubject.next(updatedNotifications);\n  }\n\n  markAsRead(notification: any): void {\n    const notifications = this.notificationsSubject.value;\n    const updatedNotifications = notifications.map(n => \n      n.id === notification.id ? { ...n, read: true } : n\n    );\n    this.notificationsSubject.next(updatedNotifications);\n  }\n\n  getNotificationIcon(type: string): string {\n    switch (type) {\n      case 'success': return 'check_circle';\n      case 'warning': return 'warning';\n      case 'error': return 'error';\n      case 'info': \n      default: return 'info';\n    }\n  }\n\n  // Utility methods\n  private detectMobile(): void {\n    this.isMobile = window.innerWidth < 768;\n  }\n\n  logout(): void {\n    this.authService.logout();\n    this.router.navigate(['/']);\n    this.closeMobileMenu();\n    this.closeMegaMenu();\n  }\n}","<header class=\"header\" [class.scrolled]=\"isScrolled\">\n  <div class=\"header-main\">\n    <div class=\"container\">\n      <!-- Logo Section -->\n      <div class=\"logo-section\">\n        <a routerLink=\"/\" class=\"d-flex align-items-center text-decoration-none\">\n          <img src=\"assets/images/logo.svg\" alt=\"Brand Logo\" class=\"logo\">\n          <div class=\"brand-text\">\n            <span class=\"brand-name\">ShopSphere</span>\n            <span class=\"brand-tagline\" *ngIf=\"!isMobile\">Your One-Stop Shop</span>\n          </div>\n        </a>\n      </div>\n\n      <!-- Desktop Search Section -->\n      <div class=\"search-section\" *ngIf=\"!isMobile\">\n        <div class=\"search-container\">\n          <input\n            type=\"text\"\n            class=\"search-input\"\n            placeholder=\"Search products, categories...\"\n            [formControl]=\"searchControl\"\n            (focus)=\"showSearchSuggestions = searchSuggestions.length > 0\"\n            (keyup.enter)=\"onSearch()\"\n          />\n          <mat-icon class=\"search-icon\">search</mat-icon>\n          <button\n            *ngIf=\"searchControl.value\"\n            class=\"search-clear\"\n            (click)=\"clearSearch()\"\n            aria-label=\"Clear search\"\n          >\n            <mat-icon>close</mat-icon>\n          </button>\n        </div>\n        <div class=\"search-suggestions\" *ngIf=\"showSearchSuggestions && searchSuggestions.length > 0\">\n          <div\n            *ngFor=\"let suggestion of searchSuggestions\"\n            class=\"suggestion-item\"\n            (click)=\"selectSuggestion(suggestion)\"\n          >\n            <mat-icon class=\"suggestion-icon\">search</mat-icon>\n            <span>{{ suggestion }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Desktop Navigation Section -->\n      <nav class=\"nav-section\" *ngIf=\"!isMobile\">\n        <ul class=\"nav-menu\">\n          <li class=\"nav-item\">\n            <a routerLink=\"/\" class=\"nav-link\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{ exact: true }\">Home</a>\n          </li>\n          <li class=\"nav-item has-dropdown mega-menu-trigger\" \n              (mouseenter)=\"openMegaMenu()\" \n              (mouseleave)=\"closeMegaMenu()\">\n            <a class=\"nav-link\" (click)=\"toggleMegaMenuOnClick($event)\">Categories</a>\n            <div class=\"mega-menu\" [class.open]=\"megaMenuOpen\">\n              <!-- Removed .container from mega-menu-content for true fit-content width -->\n              <div class=\"mega-menu-content\"> \n                <div class=\"mega-menu-grid\">\n                  <div class=\"mega-menu-category\" *ngFor=\"let category of categories\">\n                    <h4 class=\"category-title\">\n                      <mat-icon class=\"category-icon\">{{ category.icon }}</mat-icon>\n                      {{ category.name }}\n                    </h4>\n                    <ul class=\"category-links\">\n                      <li *ngFor=\"let subcategory of category.subcategories\" class=\"category-link\">\n                        <a (click)=\"navigateToSubcategory(subcategory)\">{{ subcategory }}</a>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li class=\"nav-item\"><a routerLink=\"/products\" class=\"nav-link\" routerLinkActive=\"active\">Products</a></li>\n          <li class=\"nav-item\"><a routerLink=\"/contact\" class=\"nav-link\" routerLinkActive=\"active\">Contact</a></li>\n          <li class=\"nav-item\" *ngIf=\"isAdmin$ | async\"><a routerLink=\"/admin\" class=\"nav-link\" routerLinkActive=\"active\">Admin</a></li>\n        </ul>\n      </nav>\n\n      <!-- User Actions Section -->\n      <div class=\"user-actions\">\n        <button mat-icon-button class=\"action-button mobile-search-btn\" (click)=\"toggleMobileSearch()\" *ngIf=\"isMobile\" aria-label=\"Open search\">\n          <mat-icon class=\"action-icon\">search</mat-icon>\n        </button>\n        <button mat-icon-button class=\"action-button\" (click)=\"navigateToWishlist()\" aria-label=\"Wishlist\">\n          <mat-icon class=\"action-icon\">favorite_border</mat-icon>\n          <span class=\"badge\" *ngIf=\"(wishlistCount$ | async) as count\">{{ count > 9 ? '9+' : count }}</span>\n        </button>\n        <button mat-icon-button class=\"action-button\" (click)=\"navigateToCart()\" aria-label=\"Shopping cart\">\n          <mat-icon class=\"action-icon\">shopping_cart</mat-icon>\n          <span class=\"badge\" *ngIf=\"(cartItemCount$ | async) as count\">{{ count > 9 ? '9+' : count }}</span>\n        </button>\n        \n        <div class=\"user-menu\" *ngIf=\"isLoggedIn$ | async; else loggedOutActions\">\n          <button mat-icon-button class=\"action-button\" [matMenuTriggerFor]=\"userActionsMenu\" aria-label=\"User menu\">\n            <img *ngIf=\"(currentUser$ | async)?.avatar\" [src]=\"(currentUser$ | async)?.avatar\" alt=\"User Avatar\" class=\"user-avatar-icon\">\n            <mat-icon *ngIf=\"!(currentUser$ | async)?.avatar\" class=\"action-icon\">account_circle</mat-icon>\n          </button>\n          <mat-menu #userActionsMenu=\"matMenu\" class=\"custom-mat-menu\">\n            <div class=\"dropdown-header\">\n              <h5 class=\"user-name\">{{ (currentUser$ | async)?.name || (currentUser$ | async)?.firstName || 'User' }}</h5>\n              <p class=\"user-email\">{{ (currentUser$ | async)?.email }}</p>\n            </div>\n            <button mat-menu-item (click)=\"navigateToProfile()\">\n              <mat-icon class=\"dropdown-icon\">person</mat-icon> Profile\n            </button>\n            <button mat-menu-item (click)=\"navigateToOrders()\">\n              <mat-icon class=\"dropdown-icon\">receipt_long</mat-icon> Orders\n            </button>\n            <button mat-menu-item *ngIf=\"isAdmin$ | async\" (click)=\"navigateToAdmin()\">\n              <mat-icon class=\"dropdown-icon\">admin_panel_settings</mat-icon> Admin Panel\n            </button>\n            <mat-divider></mat-divider>\n            <button mat-menu-item (click)=\"logout()\" class=\"danger\">\n              <mat-icon class=\"dropdown-icon\">logout</mat-icon> Logout\n            </button>\n          </mat-menu>\n        </div>\n        <ng-template #loggedOutActions>\n          <a routerLink=\"/auth/login\" class=\"btn btn-sm btn-outline-primary login-btn\" *ngIf=\"!isMobile\">Login</a>\n          <button mat-icon-button class=\"action-button\" routerLink=\"/auth/login\" *ngIf=\"isMobile\" aria-label=\"Login\">\n            <mat-icon class=\"action-icon\">login</mat-icon>\n          </button>\n        </ng-template>\n\n        <button mat-icon-button class=\"action-button mobile-menu-btn\" (click)=\"toggleMobileMenu()\" *ngIf=\"isMobile\" aria-label=\"Open menu\">\n          <mat-icon class=\"action-icon\">menu</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Mobile Search Overlay -->\n  <div class=\"mobile-search-overlay\" [class.open]=\"mobileSearchOpen\" *ngIf=\"isMobile\">\n    <div class=\"mobile-search-content\">\n      <div class=\"mobile-search-header\">\n        <h3>Search</h3>\n        <button mat-icon-button (click)=\"toggleMobileSearch()\" class=\"close-search\" aria-label=\"Close search\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n      <input\n        type=\"text\"\n        class=\"mobile-search-input\"\n        placeholder=\"Search products...\"\n        [formControl]=\"mobileSearchControl\"\n        (keyup.enter)=\"onMobileSearch()\"\n      />\n      <button class=\"btn btn-primary w-100\" (click)=\"onMobileSearch()\">Search</button>\n    </div>\n  </div>\n</header>\n\n<!-- Mobile Menu Overlay -->\n<div class=\"mobile-menu-overlay\" [class.open]=\"mobileMenuOpen\" *ngIf=\"isMobile\">\n  <div class=\"mobile-menu-content\">\n    <div class=\"mobile-menu-header\">\n      <span class=\"mobile-menu-title\">Menu</span>\n      <button mat-icon-button (click)=\"toggleMobileMenu()\" class=\"close-menu\" aria-label=\"Close menu\">\n        <mat-icon>close</mat-icon>\n      </button>\n    </div>\n    <nav class=\"mobile-menu-nav\">\n      <ul>\n        <li class=\"mobile-nav-item\">\n          <a routerLink=\"/\" class=\"mobile-nav-link\" (click)=\"closeMobileMenu()\">\n            <mat-icon class=\"mobile-nav-icon\">home</mat-icon> Home\n          </a>\n        </li>\n        <li class=\"mobile-nav-item has-submenu\">\n          <a class=\"mobile-nav-link\" (click)=\"toggleMobileCategories()\">\n            <mat-icon class=\"mobile-nav-icon\">category</mat-icon> Categories\n            <mat-icon class=\"submenu-toggle\" [class.expanded]=\"showMobileCategories\">expand_more</mat-icon>\n          </a>\n          <ul class=\"mobile-submenu\" [class.expanded]=\"showMobileCategories\">\n            <li *ngFor=\"let category of categories\" class=\"mobile-submenu-item\">\n              <a (click)=\"navigateToCategory(category.name)\" class=\"mobile-submenu-link\">{{ category.name }}</a>\n            </li>\n          </ul>\n        </li>\n        <li class=\"mobile-nav-item\">\n          <a routerLink=\"/products\" class=\"mobile-nav-link\" (click)=\"closeMobileMenu()\">\n            <mat-icon class=\"mobile-nav-icon\">store</mat-icon> All Products\n          </a>\n        </li>\n        <li class=\"mobile-nav-item\" *ngIf=\"isAdmin$ | async\">\n          <a routerLink=\"/admin\" class=\"mobile-nav-link\" (click)=\"closeMobileMenu()\">\n            <mat-icon class=\"mobile-nav-icon\">admin_panel_settings</mat-icon> Admin\n          </a>\n        </li>\n        <li class=\"mobile-nav-item\" *ngIf=\"!(isLoggedIn$ | async)\">\n          <a routerLink=\"/auth/login\" class=\"mobile-nav-link\" (click)=\"closeMobileMenu()\">\n            <mat-icon class=\"mobile-nav-icon\">login</mat-icon> Login / Register\n          </a>\n        </li>\n      </ul>\n    </nav>\n    <div class=\"mobile-menu-footer\" *ngIf=\"(isLoggedIn$ | async)\">\n       <button class=\"btn btn-danger w-100\" (click)=\"logout()\">\n        <mat-icon>logout</mat-icon> Logout\n      </button>\n    </div>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-loading-spinner',\n  templateUrl: './loading-spinner.component.html',\n  styleUrls: ['./loading-spinner.component.scss']\n})\nexport class LoadingSpinnerComponent {\n  @Input() diameter = 50;\n  @Input() color: 'primary' | 'accent' | 'warn' = 'primary';\n  @Input() mode: 'indeterminate' | 'determinate' = 'indeterminate';\n  @Input() value = 100;\n  @Input() overlay = false;\n}\n","<div [class.spinner-overlay]=\"overlay\" class=\"spinner-container\">\n  <mat-progress-spinner\n    [diameter]=\"diameter\"\n    [color]=\"color\"\n    [mode]=\"mode\"\n    [value]=\"value\">\n  </mat-progress-spinner>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-not-found',\n  templateUrl: './not-found.component.html',\n  styleUrls: ['./not-found.component.scss']\n})\nexport class NotFoundComponent {}\n","<div class=\"not-found-container\">\n  <div class=\"not-found-content\">\n    <mat-icon class=\"not-found-icon\">sentiment_very_dissatisfied</mat-icon>\n    <h1>404</h1>\n    <h2>Page Not Found</h2>\n    <p>The page you are looking for doesn't exist or has been moved.</p>\n    <button mat-raised-button color=\"primary\" routerLink=\"/\">\n      <mat-icon>home</mat-icon>\n      Return to Home\n    </button>\n  </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter, ChangeDetectionStrategy, ChangeDetectorRef, OnChanges, SimpleChanges } from '@angular/core';\nimport { Product, ProductImage } from '../../../core/models/product.model'; // Added ProductImage\nimport { Store } from '@ngrx/store'; // Import Store\nimport { AppState } from '../../../store'; // Assuming AppState is defined\nimport * as CartActions from '../../../store/actions/cart.actions'; // Import CartActions\nimport { Observable, of } from 'rxjs'; // Import Observable and of for isInWishlist$\nimport { WishlistService } from '../../../core/services/wishlist.service'; // Assuming you have a WishlistService\nimport { map } from 'rxjs/operators';\nimport { CartItem } from '../../../core/models/cart-item.model'; // Import CartItem\n\n\n@Component({\n  selector: 'app-product-card',\n  templateUrl: './product-card.component.html',\n  styleUrls: ['./product-card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProductCardComponent implements OnInit, OnChanges {\n  @Input() product!: Product;\n  @Input() currencySymbol: string = '$';\n  @Input() newThresholdDays: number = 7; // Days to consider a product \"new\"\n  \n  // Configuration for what to show\n  @Input() showNewBadge: boolean = true;\n  @Input() showFeaturedBadge: boolean = true;\n  @Input() showBestsellerBadge: boolean = true;\n  @Input() showSoldOutBadge: boolean = true;\n  @Input() showImageHoverControls: boolean = true;\n  @Input() showImageIndicators: boolean = true;\n  @Input() showStockIndicator: boolean = true;\n  @Input() showRating: boolean = true;\n  @Input() showShortDescription: boolean = false;\n  @Input() showKeyFeatures: boolean = false;\n  @Input() showShippingInfo: boolean = false;\n  @Input() cycleImagesOnHover: boolean = true;\n\n  // New Inputs for layout and specific button visibility\n  @Input() size: 'small' | 'medium' | 'large' = 'medium';\n  @Input() showBuyNowButton: boolean = true;\n  @Input() showQuantityControl: boolean = true; // For controlling the +/- quantity input\n  @Input() layout: 'vertical' | 'horizontal' = 'vertical';\n\n\n  // Event Emitters - Renamed to avoid conflict with method names\n  @Output() productAddedToCart = new EventEmitter<{product: Product, quantity: number}>();\n  @Output() productAddedToWishlist = new EventEmitter<Product>();\n  @Output() productCompared = new EventEmitter<Product>();\n  @Output() productViewed = new EventEmitter<Product>(); // For quick view\n  @Output() productBoughtNow = new EventEmitter<{product: Product, quantity: number}>();\n\n\n  isNew = false;\n  isBestSeller = false;\n  isLowStock = false;\n  discountPercentage: number | null = null;\n  discountAmount: number | null = null;\n\n  currentImageIndex = 0;\n  private imageChangeInterval: any;\n\n  addingToCart = false;\n  addingToWishlistState = false; // Renamed to avoid conflict\n  uiShowQuantitySelector = false; // Renamed to avoid conflict\n  selectedQuantity: number = 1;\n\n  isInWishlist$: Observable<boolean> = of(false); // Default to false\n  isInCompare$: Observable<boolean> = of(false); // Placeholder for compare feature\n\n\n  constructor(\n    private store: Store<AppState>, // Inject Store\n    private wishlistService: WishlistService, // Inject WishlistService\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  ngOnInit(): void {\n    this.updateProductFlags();\n    this.calculateDiscount();\n    if (this.product && this.product.id) { // Ensure product and product.id exist\n        this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n        // this.isInCompare$ = this.compareService.isInCompare(this.product.id); // If you have a compare service\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['product'] && this.product && this.product.id) { // Ensure product and product.id exist\n      this.updateProductFlags();\n      this.calculateDiscount();\n      this.selectedQuantity = 1; // Reset quantity when product changes\n      this.uiShowQuantitySelector = false;\n      this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n      // this.isInCompare$ = this.compareService.isInCompare(this.product.id);\n      this.cdr.markForCheck();\n    }\n  }\n\n  private updateProductFlags(): void {\n    if (!this.product) return;\n\n    const now = new Date();\n    const productDate = this.product.createdAt ? new Date(this.product.createdAt) : now;\n    const diffTime = Math.abs(now.getTime() - productDate.getTime());\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    this.isNew = diffDays <= (this.newThresholdDays || 7);\n\n    this.isBestSeller = !!this.product.featured ||\n                       ( (this.product.rating || 0) >= 4.5 && (this.product.reviews?.length || 0) >= 50); // Adjusted review count\n    \n    this.isLowStock = (this.product.stockQuantity || 0) > 0 && (this.product.stockQuantity || 0) <= 10;\n  }\n\n  private calculateDiscount(): void {\n    if (!this.product) {\n      this.discountPercentage = null;\n      this.discountAmount = null;\n      return;\n    }\n    if (this.product.regularPrice && this.product.regularPrice > this.product.price) {\n      this.discountPercentage = Math.round(\n        ((this.product.regularPrice - this.product.price) / this.product.regularPrice) * 100\n      );\n      this.discountAmount = this.product.regularPrice - this.product.price;\n    } else {\n      this.discountPercentage = null;\n      this.discountAmount = null;\n    }\n  }\n\n  // Mouse enter/leave handlers for image cycling\n  onMouseEnter(): void {\n    if (this.cycleImagesOnHover) {\n      this.startImageCycle();\n    }\n  }\n\n  onMouseLeave(): void {\n    if (this.cycleImagesOnHover) {\n      this.stopImageCycle();\n    }\n  }\n  \n  startImageCycle(): void {\n    if (this.cycleImagesOnHover && this.product?.images && this.product.images.length > 1) {\n      this.stopImageCycle(); // Clear existing interval\n      this.imageChangeInterval = setInterval(() => {\n        if (this.product.images && this.product.images.length > 1) {\n          this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n          this.cdr.markForCheck(); // Trigger change detection\n        }\n      }, 2000); // Change image every 2 seconds\n    }\n  }\n\n  stopImageCycle(): void {\n    if (this.imageChangeInterval) {\n      clearInterval(this.imageChangeInterval);\n      this.imageChangeInterval = null;\n    }\n  }\n  \n  // Image navigation\n  prevImage(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.product?.images && this.product.images.length > 0) {\n      this.currentImageIndex = (this.currentImageIndex - 1 + this.product.images.length) % this.product.images.length;\n    }\n  }\n\n  nextImage(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.product?.images && this.product.images.length > 0) {\n      this.currentImageIndex = (this.currentImageIndex + 1) % this.product.images.length;\n    }\n  }\n  \n  setImage(index: number, event: MouseEvent): void {\n    event.stopPropagation();\n    this.currentImageIndex = index;\n  }\n\n  onImageError(event: Event): void {\n    const imgElement = event.target as HTMLImageElement;\n    imgElement.src = 'assets/images/placeholder.png'; // Fallback image\n  }\n\n\n  // Action Methods\n  addToCartHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product || (this.product.stockQuantity || 0) === 0 || this.addingToCart) return;\n\n        this.addingToCart = true;\n    const cartItem: CartItem = {\n      productId: this.product.id,\n      quantity: this.selectedQuantity,\n      name: this.product.name,\n      price: this.product.discountPrice || this.product.price,\n      unitPrice: this.product.discountPrice || this.product.price,\n      image: this.product.imageUrl || (this.product.images && this.product.images[0]?.url) || ''\n    };\n    // Simulate API call\n    setTimeout(() => {\n      this.store.dispatch(CartActions.addToCart({ item: cartItem }));\n      this.productAddedToCart.emit({product: this.product, quantity: this.selectedQuantity});\n      this.addingToCart = false;\n      this.uiShowQuantitySelector = false; // Hide quantity selector after adding\n      this.selectedQuantity = 1; // Reset quantity\n      this.cdr.markForCheck();\n    }, 500);\n  }\n\n  addToWishlistHandler(event: MouseEvent): void { // Renamed method\n    event.stopPropagation();\n    if (!this.product || this.addingToWishlistState) return;\n\n    this.addingToWishlistState = true;\n    // Assuming WishlistService has a method like toggleWishlistItem or add/remove\n    // For now, let's assume toggleWishlist exists and works as intended.\n    // If toggleWishlist is not the correct method, this needs to be adjusted based on WishlistService's API.\n    this.wishlistService.toggleWishlist(this.product.id).subscribe(() => {\n        this.productAddedToWishlist.emit(this.product);\n        this.addingToWishlistState = false;\n        if (this.product && this.product.id) { // Re-check after ensuring product.id exists\n             this.isInWishlist$ = this.wishlistService.isInWishlist(this.product.id);\n        }\n        this.cdr.markForCheck();\n    });\n  }\n  \n  compareProductHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product) return;\n    this.productCompared.emit(this.product);\n    // Add logic for compare service if available\n    // this.isInCompare$ = this.compareService.toggleCompare(this.product.id);\n    this.cdr.markForCheck();\n  }\n\n  viewProductHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product) return;\n    this.productViewed.emit(this.product);\n    // Logic for opening a quick view modal, for example\n  }\n\n\n  buyNowHandler(event: MouseEvent): void {\n    event.stopPropagation();\n    if (!this.product || (this.product.stockQuantity || 0) === 0) return;\n    \n        const cartItem: CartItem = {\n      productId: this.product.id,\n      quantity: this.selectedQuantity,\n      name: this.product.name,\n      price: this.product.discountPrice || this.product.price,\n      unitPrice: this.product.discountPrice || this.product.price,\n      image: this.product.imageUrl || (this.product.images && this.product.images[0]?.url) || ''\n    };\n    this.store.dispatch(CartActions.addToCart({ item: cartItem }));\n    this.productBoughtNow.emit({product: this.product, quantity: this.selectedQuantity});\n    // Typically, you'd navigate to checkout here or dispatch another action\n    // If 'navigateToCheckout' is not a standard action, you might need to implement custom navigation\n    // or a specific NGRX effect that handles this. For now, commenting out if it causes issues.\n    // this.store.dispatch(CartActions.navigateToCheckout()); \n    console.log('Buy Now: Navigating to checkout (placeholder)');\n    this.cdr.markForCheck();\n  }\n\n  toggleQuantitySelectorHandler(event: MouseEvent): void { // Renamed method\n    event.stopPropagation();\n    if ((this.product?.stockQuantity || 0) === 0) return;\n    this.uiShowQuantitySelector = !this.uiShowQuantitySelector;\n  }\n\n  onQuantityChange(): void {\n    if (this.selectedQuantity < 1) {\n      this.selectedQuantity = 1;\n    }\n    if (this.product?.stockQuantity && this.selectedQuantity > this.product.stockQuantity) {\n      this.selectedQuantity = this.product.stockQuantity;\n    }\n  }\n\n  incrementQuantity(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.product?.stockQuantity && this.selectedQuantity < this.product.stockQuantity) {\n      this.selectedQuantity++;\n    }\n  }\n\n  decrementQuantity(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.selectedQuantity > 1) {\n      this.selectedQuantity--;\n    }\n  }\n\n  get currentDisplayImage(): string {\n    if (this.product?.images && this.product.images.length > 0 && this.product.images[this.currentImageIndex]?.url) {\n      return this.product.images[this.currentImageIndex].url;\n    }\n    return this.product?.imageUrl || 'assets/images/placeholder.png';\n  }\n\n  get stockStatusClass(): string {\n    if ((this.product?.stockQuantity || 0) === 0) return 'out-of-stock';\n    if ((this.product?.stockQuantity || 0) <= 10 && (this.product?.stockQuantity || 0) > 0) return 'low-stock'; // Fixed condition\n    return 'in-stock';\n  }\n\n  get cardClasses(): string[] {\n    const classes = ['product-card'];\n    if (this.product?.featured) {\n      classes.push('product-card--featured');\n    }\n    if (this.isNew) {\n      classes.push('product-card--new');\n    }\n    if (this.isBestSeller) {\n      classes.push('product-card--bestseller');\n    }\n    if ((this.product?.stockQuantity || 0) === 0) {\n      classes.push('product-card--out-of-stock');\n    }\n    return classes;\n  }\n}\n","<div class=\"modern-product-card\" [ngClass]=\"cardClasses\" \n     [class.out-of-stock]=\"(product.stockQuantity || 0) === 0\"\n     [class.featured]=\"product.featured\"\n     [class.new-arrival]=\"isNew\"\n     [class.best-seller]=\"isBestSeller\"\n     (mouseenter)=\"onMouseEnter()\" \n     (mouseleave)=\"onMouseLeave()\">\n\n  <!-- Image Container with Modern Overlay -->\n  <div class=\"product-image-container\">\n    <a [routerLink]=\"['/products', product.id]\" class=\"image-link\">\n      <div class=\"image-wrapper\">\n        <img [src]=\"currentDisplayImage\" [alt]=\"product.name\" \n             class=\"product-image\" loading=\"lazy\"\n             (error)=\"onImageError($event)\">\n        <div class=\"image-overlay\"></div>\n      </div>\n    </a>\n    \n    <!-- Modern Badges with Icons -->\n    <div class=\"product-badges\">\n      <div class=\"badge discount-badge\" *ngIf=\"discountPercentage !== null && discountPercentage > 0\">\n        <i class=\"fas fa-percentage\"></i>\n        <span>{{ discountPercentage }}% OFF</span>\n      </div>\n      <div class=\"badge new-badge\" *ngIf=\"isNew && showNewBadge\">\n        <i class=\"fas fa-sparkles\"></i>\n        <span>NEW</span>\n      </div>\n      <div class=\"badge featured-badge\" *ngIf=\"product?.featured && showFeaturedBadge\">\n        <i class=\"fas fa-star\"></i>\n        <span>FEATURED</span>\n      </div>\n      <div class=\"badge bestseller-badge\" *ngIf=\"isBestSeller && showBestsellerBadge\">\n        <i class=\"fas fa-fire\"></i>\n        <span>BESTSELLER</span>\n      </div>\n      <div class=\"badge sold-out-badge\" *ngIf=\"(product?.stockQuantity || 0) === 0 && showSoldOutBadge\">\n        <i class=\"fas fa-times-circle\"></i>\n        <span>SOLD OUT</span>\n      </div>\n      <div class=\"badge low-stock-badge\" *ngIf=\"(product?.stockQuantity || 0) > 0 && (product?.stockQuantity || 0) <= 5\">\n        <i class=\"fas fa-exclamation-triangle\"></i>\n        <span>LOW STOCK</span>\n      </div>\n    </div>\n\n    <!-- Enhanced Quick Actions -->\n    <div class=\"quick-actions\">\n      <button mat-fab color=\"primary\" class=\"quick-action-btn wishlist-btn\" \n              [class.active]=\"(isInWishlist$ | async)\"\n              (click)=\"addToWishlistHandler($event)\" \n              [disabled]=\"addingToWishlistState\"\n              matTooltip=\"Add to Wishlist\" \n              matTooltipPosition=\"left\">\n        <i class=\"fas fa-heart\" *ngIf=\"(isInWishlist$ | async)\"></i>\n        <i class=\"far fa-heart\" *ngIf=\"!(isInWishlist$ | async)\"></i>\n      </button>\n      <button mat-fab color=\"accent\" class=\"quick-action-btn view-btn\" \n              (click)=\"viewProductHandler($event)\"\n              matTooltip=\"Quick View\" \n              matTooltipPosition=\"left\">\n        <i class=\"fas fa-eye\"></i>\n      </button>\n      <button mat-fab class=\"quick-action-btn compare-btn\" \n              [class.active]=\"(isInCompare$ | async)\"\n              (click)=\"compareProductHandler($event)\"\n              [matTooltip]=\"(isInCompare$ | async) ? 'Remove from compare' : 'Add to compare'\" \n              matTooltipPosition=\"left\">\n        <i class=\"fas fa-check-circle\" *ngIf=\"(isInCompare$ | async)\"></i>\n        <i class=\"fas fa-balance-scale\" *ngIf=\"!(isInCompare$ | async)\"></i>\n      </button>\n    </div>\n\n    <!-- Enhanced Image Navigation -->\n    <div class=\"image-navigation\" *ngIf=\"product?.images && (product.images?.length || 0) > 1 && showImageHoverControls\">\n      <button mat-mini-fab class=\"nav-btn prev-btn\" (click)=\"prevImage($event)\">\n        <i class=\"fas fa-chevron-left\"></i>\n      </button>\n      <button mat-mini-fab class=\"nav-btn next-btn\" (click)=\"nextImage($event)\">\n        <i class=\"fas fa-chevron-right\"></i>\n      </button>\n    </div>\n    \n    <!-- Modern Image Indicators -->\n    <div class=\"image-indicators\" *ngIf=\"product?.images && (product.images?.length || 0) > 1 && showImageIndicators\">\n      <button class=\"indicator-dot\" \n              *ngFor=\"let image of product.images; let i = index\"\n              [class.active]=\"i === currentImageIndex\"\n              (click)=\"setImage(i, $event)\"></button>\n    </div>\n\n    <!-- Enhanced Stock Indicator -->\n    <div class=\"stock-indicator\" *ngIf=\"showStockIndicator && product?.stockQuantity !== undefined && (product?.stockQuantity || 0) > 0 && (product?.stockQuantity || 0) <= 10\">\n      <div class=\"stock-bar\">\n        <div class=\"stock-fill\" [style.width.%]=\"((product.stockQuantity || 0) / 10) * 100\"></div>\n      </div>\n      <span class=\"stock-text\">\n        <i class=\"fas fa-box\"></i>\n        Only {{product.stockQuantity}} left\n      </span>\n    </div>\n  </div>\n\n  <!-- Modern Product Content -->\n  <div class=\"product-content\">\n    <!-- Brand and Category -->\n    <div class=\"product-meta\">\n      <span class=\"product-brand\" *ngIf=\"product?.brand\">\n        <i class=\"fas fa-tag\"></i>\n        {{product.brand}}\n      </span>\n      <span class=\"product-category\" *ngIf=\"product.category && product.category.name\">\n        <i class=\"fas fa-layer-group\"></i>\n        {{product.category.name}}\n      </span>\n    </div>\n\n    <!-- Product Name with Link -->\n    <a [routerLink]=\"['/products', product.id]\" class=\"product-name-link\">\n      <h3 class=\"product-name\" matTooltip=\"{{product.name}}\">{{product.name}}</h3>\n    </a>\n    \n    <!-- Enhanced Rating Display -->\n    <div class=\"product-rating\" *ngIf=\"showRating && product?.rating !== undefined && (product?.rating || 0) > 0\">\n      <div class=\"rating-stars\">\n        <div class=\"stars-container\">\n          <div class=\"stars-background\">\n            <i class=\"far fa-star\" *ngFor=\"let star of [1,2,3,4,5]\"></i>\n          </div>\n          <div class=\"stars-filled\" [style.width.%]=\"(product.rating || 0) * 20\">\n            <i class=\"fas fa-star\" *ngFor=\"let star of [1,2,3,4,5]\"></i>\n          </div>\n        </div>\n        <span class=\"rating-value\">{{product.rating | number:'1.1-1'}}</span>\n      </div>\n      <span class=\"review-count\" *ngIf=\"product.reviews?.length\">\n        ({{product.reviews?.length}} reviews)\n      </span>\n    </div>\n\n    <!-- Short Description -->\n    <div class=\"product-description\" *ngIf=\"showShortDescription\">\n      <p>{{ product.description | truncate:80 }}</p>\n    </div>\n\n    <!-- Enhanced Price Container -->\n    <div class=\"product-price-container\">\n      <div class=\"price-row\">\n        <span class=\"current-price\">\n          <i class=\"fas fa-dollar-sign\"></i>\n          {{ (product.discountPrice || product.price || 0) | currency:currencySymbol:'symbol':'1.0-0' }}\n        </span>\n        <span class=\"regular-price\" *ngIf=\"product?.regularPrice && product?.price && (product?.regularPrice || 0) > (product?.price || 0)\">\n          {{product.regularPrice | currency:currencySymbol:'symbol':'1.0-0'}}\n        </span>\n      </div>\n      <div class=\"savings-row\" *ngIf=\"discountAmount !== null && discountAmount > 0\">\n        <span class=\"discount-amount\">\n          <i class=\"fas fa-piggy-bank\"></i>\n          Save {{discountAmount | currency:currencySymbol:'symbol':'1.0-0'}}\n        </span>\n      </div>\n      <p class=\"price-per-unit\" *ngIf=\"product?.unit && product?.unitQuantity && product?.price\">\n        {{(product.price / (product.unitQuantity || 1)) | currency:currencySymbol:'symbol':'1.2-2'}}/{{product.unit}}\n      </p>\n    </div>\n\n    <!-- Key Features -->\n    <div class=\"product-features\" *ngIf=\"showKeyFeatures && product?.keyFeatures && (product.keyFeatures?.length || 0) > 0\">\n      <div class=\"feature\" *ngFor=\"let feature of (product.keyFeatures?.slice(0, 2) || [])\">\n        <i class=\"fas fa-check-circle\"></i>\n        <span>{{feature}}</span>\n      </div>\n    </div>\n\n    <!-- Enhanced Shipping Info -->\n    <div class=\"shipping-info\" *ngIf=\"showShippingInfo\">\n      <div class=\"shipping-item\" *ngIf=\"product?.freeShipping\">\n        <i class=\"fas fa-shipping-fast\"></i>\n        <span>Free Shipping</span>\n      </div>\n      <div class=\"shipping-item\" *ngIf=\"product?.fastDelivery\">\n        <i class=\"fas fa-bolt\"></i>\n        <span>Fast Delivery</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modern Product Actions -->\n  <div class=\"product-actions\" [ngClass]=\"{'show-quantity': uiShowQuantitySelector}\">\n    <!-- Main Add to Cart Button -->\n    <div class=\"primary-action\">\n      <button mat-raised-button color=\"primary\" class=\"add-to-cart-btn\" \n              (click)=\"addToCartHandler($event)\" \n              [disabled]=\"(product.stockQuantity || 0) === 0 || addingToCart\">\n        <div class=\"btn-content\">\n          <i class=\"fas fa-shopping-cart\" *ngIf=\"!addingToCart\"></i>\n          <mat-progress-spinner *ngIf=\"addingToCart\" mode=\"indeterminate\" diameter=\"18\"></mat-progress-spinner>\n          <span *ngIf=\"!addingToCart\">Add to Cart</span>\n          <span *ngIf=\"addingToCart\">Adding...</span>\n        </div>\n      </button>\n    </div>\n\n    <!-- Quantity Controls -->\n    <div class=\"quantity-section\" *ngIf=\"uiShowQuantitySelector && (product?.stockQuantity || 0) > 0\">\n      <div class=\"quantity-controls\">\n        <button mat-icon-button class=\"qty-btn\" (click)=\"decrementQuantity($event)\" [disabled]=\"selectedQuantity === 1\">\n          <i class=\"fas fa-minus\"></i>\n        </button>\n        <input type=\"number\" class=\"quantity-input\" \n               [(ngModel)]=\"selectedQuantity\" \n               min=\"1\" [max]=\"product.stockQuantity || 1\" \n               (change)=\"onQuantityChange()\" \n               (click)=\"$event.stopPropagation()\">\n        <button mat-icon-button class=\"qty-btn\" (click)=\"incrementQuantity($event)\" [disabled]=\"selectedQuantity >= (product.stockQuantity || 1)\">\n          <i class=\"fas fa-plus\"></i>\n        </button>\n      </div>\n    </div>\n\n    <!-- Buy Now Button -->\n    <div class=\"secondary-action\">\n      <button mat-stroked-button color=\"accent\" class=\"buy-now-btn\" \n              (click)=\"buyNowHandler($event)\"\n              [disabled]=\"(product.stockQuantity || 0) === 0\">\n        <i class=\"fas fa-bolt\"></i>\n        <span>Buy Now</span>\n      </button>\n    </div>\n  </div>\n</div>\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-quantity-selector',\n  template: `\n    <div class=\"quantity-selector\">\n      <button mat-icon-button color=\"primary\" \n              [disabled]=\"quantity <= min || disabled\"\n              (click)=\"decreaseQuantity()\">\n        <mat-icon>remove</mat-icon>\n      </button>\n      \n      <span class=\"quantity\">{{ quantity }}</span>\n      \n      <button mat-icon-button color=\"primary\" \n              [disabled]=\"quantity >= max || disabled\"\n              (click)=\"increaseQuantity()\">\n        <mat-icon>add</mat-icon>\n      </button>\n    </div>\n  `,\n  styles: [`\n    .quantity-selector {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    \n    .quantity {\n      margin: 0 10px;\n      min-width: 30px;\n      text-align: center;\n      font-weight: 500;\n    }\n    \n    button {\n      line-height: 30px;\n      height: 30px;\n      width: 30px;\n    }\n    \n    button ::ng-deep .mat-icon {\n      font-size: 18px;\n      line-height: 18px;\n      height: 18px;\n      width: 18px;\n    }\n  `]\n})\nexport class QuantitySelectorComponent {\n  @Input() quantity: number = 1;\n  @Input() value: number = 1;\n  @Input() min: number = 1;\n  @Input() max: number = 99;\n  @Input() disabled: boolean = false;\n  \n  @Output() quantityChange = new EventEmitter<number>();\n  @Output() valueChange = new EventEmitter<number>();\n  \n  increaseQuantity(): void {\n    if (this.quantity < this.max && !this.disabled) {\n      this.quantity++;\n      this.quantityChange.emit(this.quantity);\n      this.valueChange.emit(this.quantity);\n    }\n  }\n  \n  decreaseQuantity(): void {\n    if (this.quantity > this.min && !this.disabled) {\n      this.quantity--;\n      this.quantityChange.emit(this.quantity);\n      this.valueChange.emit(this.quantity);\n    }\n  }\n}","import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'app-star-rating',\n  template: `\n    <div class=\"star-rating-container\" [class.readonly]=\"readOnly\">\n      <button *ngFor=\"let star of stars; let i = index\" \n              type=\"button\"\n              class=\"star-button\"\n              [class.filled]=\"i < currentRating\"\n              [class.hovered]=\"!readOnly && hoverRating !== null && i < hoverRating\"\n              (click)=\"!readOnly && rate(i + 1)\"\n              (mouseenter)=\"!readOnly && onStarHover(i + 1)\"\n              (mouseleave)=\"!readOnly && onStarLeave()\">\n        <mat-icon>{{ (hoverRating !== null && i < hoverRating) ? 'star' : (i < currentRating ? 'star' : 'star_border') }}</mat-icon>\n      </button>\n      <span *ngIf=\"showReviewCount && reviewCount !== undefined\" class=\"review-count\">\n        ({{ reviewCount }} {{ reviewCount === 1 ? 'review' : 'reviews' }})\n      </span>\n    </div>\n  `,\n  styleUrls: ['./star-rating.component.scss'] // Create this SCSS file\n})\nexport class StarRatingComponent implements OnChanges {\n  @Input() rating: number = 0;\n  @Input() maxRating: number = 5;\n  @Input() readOnly: boolean = false; // Added Input\n  @Input() reviewCount?: number;\n  @Input() showReviewCount: boolean = true;\n\n  @Output() ratingChange = new EventEmitter<number>();\n\n  stars: any[] = [];\n  currentRating: number = 0;\n  hoverRating: number | null = null;\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['rating'] || changes['maxRating']) {\n      this.currentRating = this.rating;\n      this.stars = Array(this.maxRating).fill(0);\n    }\n  }\n\n  rate(ratingValue: number): void {\n    if (!this.readOnly) {\n      this.currentRating = ratingValue;\n      this.ratingChange.emit(this.currentRating);\n    }\n  }\n\n  onStarHover(ratingValue: number): void {\n    if (!this.readOnly) {\n      this.hoverRating = ratingValue;\n    }\n  }\n\n  onStarLeave(): void {\n    if (!this.readOnly) {\n      this.hoverRating = null;\n    }\n  }\n}","import { Directive, ElementRef, HostListener, Input, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: '[appHighlight]'\n})\nexport class HighlightDirective {\n  @Input('appHighlight') highlightEnabled: boolean = true;\n  @Input() highlightColor: string = '#f5f5dc'; // Beige\n  @Input() defaultColor: string = '';\n\n  private originalColor: string = '';\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {\n    this.originalColor = this.el.nativeElement.style.backgroundColor;\n  }\n\n  ngOnInit() {\n    this.defaultColor = this.defaultColor || this.originalColor;\n    if (this.highlightEnabled) {\n      this.renderer.addClass(this.el.nativeElement, 'highlighted-item');\n    }\n  }\n\n  @HostListener('mouseenter') onMouseEnter() {\n    if (this.highlightEnabled) {\n      this.highlight(this.highlightColor);\n    }\n  }\n\n  @HostListener('mouseleave') onMouseLeave() {\n    if (this.highlightEnabled) {\n      this.highlight(this.defaultColor);\n    }\n  }\n\n  private highlight(color: string) {\n    this.renderer.setStyle(this.el.nativeElement, 'backgroundColor', color);\n  }\n}","import { Directive, ElementRef, HostBinding, Input, OnInit } from '@angular/core';\n\n@Directive({\n  selector: 'img[appLazyImg]'\n})\nexport class LazyImgDirective implements OnInit {\n  @HostBinding('attr.src') srcAttr = '';\n  @Input() src: string = '';\n  @Input() placeholderSrc: string = 'assets/images/placeholder.png';\n\n  constructor(private el: ElementRef) {}\n\n  ngOnInit() {\n    // Set placeholder image initially\n    this.srcAttr = this.placeholderSrc;\n    \n    // Use Intersection Observer to detect when the image is in viewport\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          // Element is in viewport, load the actual image\n          this.loadImage();\n          // Stop observing once loaded\n          observer.unobserve(this.el.nativeElement);\n        }\n      });\n    });\n\n    observer.observe(this.el.nativeElement);\n  }\n\n  private loadImage() {\n    // Create a new image element to preload the image\n    const img = new Image();\n    \n    img.onload = () => {\n      // When the image is loaded, set the source to the element\n      this.srcAttr = this.src || this.el.nativeElement.getAttribute('src');\n    };\n    \n    img.onerror = () => {\n      // If the image fails to load, keep the placeholder\n      this.srcAttr = this.placeholderSrc;\n    };\n    \n    // Start loading the image\n    img.src = this.src || this.el.nativeElement.getAttribute('src');\n  }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'price'\n})\nexport class PricePipe implements PipeTransform {\n  transform(value: number | undefined, currency: string = '$'): string {\n    if (value === undefined || value === null) {\n      return '';\n    }\n    \n    return `${currency}${value.toFixed(2)}`;\n  }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'truncate'\n})\nexport class TruncatePipe implements PipeTransform {\n  transform(value: string, limit: number = 100, completeWords: boolean = false, ellipsis: string = '...'): string {\n    if (!value) {\n      return '';\n    }\n\n    if (value.length <= limit) {\n      return value;\n    }\n\n    if (completeWords) {\n      limit = value.substring(0, limit).lastIndexOf(' ');\n    }\n    \n    return `${value.substring(0, limit)}${ellipsis}`;\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\n// Angular Material Imports\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatListModule } from '@angular/material/list';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n// Components\nimport { HeaderComponent } from './components/header/header.component';\nimport { FooterComponent } from './components/footer/footer.component';\nimport { LoadingSpinnerComponent } from './components/loading-spinner/loading-spinner.component';\nimport { ProductCardComponent } from './components/product-card/product-card.component';\nimport { StarRatingComponent } from './components/star-rating/star-rating.component';\nimport { NotFoundComponent } from './components/not-found/not-found.component';\nimport { QuantitySelectorComponent } from './components/quantity-selector/quantity-selector.component';\nimport { ConfirmDialogComponent } from './components/confirm-dialog/confirm-dialog.component';\n\n// Pipes\nimport { TruncatePipe } from './pipes/truncate.pipe';\nimport { PricePipe } from './pipes/price.pipe';\n\n// Directives\nimport { HighlightDirective } from './directives/highlight.directive';\nimport { LazyImgDirective } from './directives/lazy-img.directive';\n\nconst materialModules = [\n  MatButtonModule,\n  MatCardModule,\n  MatIconModule,\n  MatInputModule,\n  MatFormFieldModule,\n  MatSelectModule,\n  MatSnackBarModule,\n  MatBadgeModule,\n  MatMenuModule,\n  MatToolbarModule,\n  MatTableModule,\n  MatPaginatorModule,\n  MatSortModule,\n  MatDialogModule,\n  MatProgressSpinnerModule,\n  MatDividerModule,\n  MatListModule,\n  MatStepperModule,\n  MatExpansionModule,\n  MatChipsModule,\n  MatTabsModule,\n  MatTooltipModule\n];\n\nconst components = [\n  HeaderComponent,\n  FooterComponent,\n  LoadingSpinnerComponent,\n  ProductCardComponent,\n  StarRatingComponent,\n  NotFoundComponent,\n  QuantitySelectorComponent,\n  ConfirmDialogComponent\n];\n\nconst pipes = [\n  TruncatePipe,\n  PricePipe\n];\n\nconst directives = [\n  HighlightDirective,\n  LazyImgDirective\n];\n\n@NgModule({\n  declarations: [\n    ...components,\n    ...pipes,\n    ...directives\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n    ReactiveFormsModule,\n    FormsModule,\n    HttpClientModule,\n    ...materialModules\n  ],\n  exports: [\n    CommonModule,\n    RouterModule,\n    ReactiveFormsModule,\n    FormsModule,\n    ...materialModules,\n    ...components,\n    ...pipes,\n    ...directives\n  ]\n})\nexport class SharedModule { }\n","import { createAction, props } from '@ngrx/store';\nimport { User } from '../../core/models/user.model';\n\n// Check Auth Status\nexport const checkAuthStatus = createAction(\n  '[Auth] Check Auth Status'\n);\n\nexport const checkAuthStatusSuccess = createAction(\n  '[Auth] Check Auth Status Success',\n  props<{ user: User }>()\n);\n\nexport const checkAuthStatusFailure = createAction(\n  '[Auth] Check Auth Status Failure'\n);\n\n// Login\nexport const login = createAction(\n  '[Auth] Login',\n  props<{ email: string; password: string }>()\n);\n\nexport const loginSuccess = createAction(\n  '[Auth] Login Success',\n  props<{ user: User; token: string }>()\n);\n\nexport const loginFailure = createAction(\n  '[Auth] Login Failure',\n  props<{ error: any }>()\n);\n\n// Register\nexport const register = createAction(\n  '[Auth] Register',\n  props<{ name: string; email: string; password: string }>()\n);\n\nexport const registerSuccess = createAction(\n  '[Auth] Register Success',\n  props<{ user: User; token: string }>()\n);\n\nexport const registerFailure = createAction(\n  '[Auth] Register Failure',\n  props<{ error: any }>()\n);\n\n// Logout\nexport const logout = createAction(\n  '[Auth] Logout'\n);\n\nexport const logoutSuccess = createAction(\n  '[Auth] Logout Success'\n);\n\n// Reset Auth State\nexport const resetAuthState = createAction(\n  '[Auth] Reset Auth State'\n);","import { createAction, props } from '@ngrx/store';\nimport { Product } from '../../core/models/product.model';\nimport { CartItem } from '../../core/models/cart-item.model';\n\nexport const addToCart = createAction(\n  '[Cart Page] Add to Cart',\n  props<{ item: CartItem }>()\n);\n\nexport const removeFromCart = createAction(\n  '[Cart Page] Remove from Cart',\n  props<{ productId: string }>() // Changed from itemId to productId for consistency\n);\n\nexport const updateCartItemQuantity = createAction(\n  '[Cart Page] Update Cart Item Quantity',\n  props<{ productId: string; quantity: number }>() // Changed from itemId to productId\n);\n\nexport const clearCart = createAction(\n  '[Cart Page] Clear Cart'\n);\n\nexport const loadCart = createAction('[Cart API] Load Cart');\nexport const loadCartSuccess = createAction('[Cart API] Load Cart Success', props<{ items: CartItem[] }>());\nexport const loadCartFailure = createAction('[Cart API] Load Cart Failure', props<{ error: any }>());\n\nexport const navigateToCheckout = createAction('[Cart Page] Navigate To Checkout');\n\n// Actions for syncing cart with server (if applicable)\nexport const syncCartWithServer = createAction('[Cart] Sync Cart With Server');\nexport const syncCartWithServerSuccess = createAction('[Cart API] Sync Cart With Server Success');\nexport const syncCartWithServerFailure = createAction('[Cart API] Sync Cart With Server Failure', props<{ error: any }>());\n","import { createAction, props } from '@ngrx/store';\nimport { Product, Category, PaginatedResponse } from '../../core/models/product.model';\n\n// Load All Products\nexport const loadProducts = createAction(\n  '[Products Page] Load Products',\n  props<{ params?: any }>() // Optional params for filtering, pagination\n);\nexport const loadProductsSuccess = createAction(\n  '[Products API] Load Products Success',\n  props<{ paginatedResponse: PaginatedResponse<Product> }>()\n);\nexport const loadProductsFailure = createAction(\n  '[Products API] Load Products Failure',\n  props<{ error: any }>()\n);\n\n// Load Single Product\nexport const loadProductById = createAction(\n  '[Product Details Page] Load Product By Id',\n  props<{ productId: string }>()\n);\nexport const loadProductByIdSuccess = createAction(\n  '[Products API] Load Product By Id Success',\n  props<{ product: Product }>()\n);\nexport const loadProductByIdFailure = createAction(\n  '[Products API] Load Product By Id Failure',\n  props<{ error: any }>()\n);\n\n// Load Categories\nexport const loadCategories = createAction('[Category] Load Categories');\nexport const loadCategoriesSuccess = createAction(\n  '[Category API] Load Categories Success',\n  props<{ categories: Category[] }>()\n);\nexport const loadCategoriesFailure = createAction(\n  '[Category API] Load Categories Failure',\n  props<{ error: any }>()\n);\n","import { createAction, props } from '@ngrx/store';\n\nexport const setLoading = createAction(\n  '[UI] Set Loading',\n  props<{ isLoading: boolean }>()\n);\n\nexport const showNotification = createAction(\n  '[UI] Show Notification',\n  props<{ message: string; notificationType: 'success' | 'error' | 'info' | 'warning' }>()\n);\n\nexport const clearNotification = createAction(\n  '[UI] Clear Notification'\n);\n\nexport const setError = createAction(\n  '[UI] Set Error',\n  props<{ error: string | null }>()\n);\n\nexport const clearError = createAction(\n  '[UI] Clear Error'\n);\n","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { ROUTER_NAVIGATION } from '@ngrx/router-store';\nimport { tap } from 'rxjs/operators';\nimport { Store } from '@ngrx/store';\n\nimport { AppState } from '../index';\nimport { setLoading, clearError } from '../actions/ui.actions';\n\n@Injectable()\nexport class AppEffects {\n  // Clear errors when navigating\n  navigationEffect$ = createEffect(() => \n    this.actions$.pipe(\n      ofType(ROUTER_NAVIGATION),\n      tap(() => {\n        this.store.dispatch(clearError());\n      })\n    ),\n    { dispatch: false }\n  );\n\n  constructor(\n    private actions$: Actions,\n    private store: Store<AppState>\n  ) {}\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { map, catchError, exhaustMap, tap } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Store } from '@ngrx/store';\n\nimport { AuthService } from '../../core/services/auth.service';\nimport { StorageService } from '../../core/services/storage.service';\nimport { NotificationService } from '../../core/services/notification.service';\nimport * as AuthActions from '../actions/auth.actions';\nimport * as UiActions from '../actions/ui.actions';\nimport { AppState } from '../index';\n\n@Injectable()\nexport class AuthEffects {\n  checkAuthStatus$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(AuthActions.checkAuthStatus),\n      tap(() => this.store.dispatch(UiActions.setLoading({ isLoading: true }))),\n      exhaustMap(() => {\n        const token = this.storageService.getItem('auth_token');\n        if (!token) {\n          this.store.dispatch(UiActions.setLoading({ isLoading: false }));\n          return of(AuthActions.checkAuthStatusFailure());\n        }\n        \n        return this.authService.getCurrentUser().pipe(\n          map(user => {\n            this.store.dispatch(UiActions.setLoading({ isLoading: false }));\n            if (user) {\n              return AuthActions.checkAuthStatusSuccess({ user });\n            }\n            return AuthActions.checkAuthStatusFailure();\n          }),\n          catchError(error => {\n            this.store.dispatch(UiActions.setLoading({ isLoading: false }));\n            return of(AuthActions.checkAuthStatusFailure());\n          })\n        );\n      })\n    )\n  );\n\n  login$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(AuthActions.login),\n      tap(() => this.store.dispatch(UiActions.setLoading({ isLoading: true }))),\n      exhaustMap(({ email, password }) =>\n        this.authService.login(email, password).pipe(\n          map(response => {\n            this.storageService.setItem('auth_token', response.token);\n            this.store.dispatch(UiActions.setLoading({ isLoading: false }));\n            this.notificationService.showSuccess('Login successful');\n            return AuthActions.loginSuccess({\n              user: response.user,\n              token: response.token\n            });\n          }),\n          catchError(error => {\n            this.store.dispatch(UiActions.setLoading({ isLoading: false }));\n            this.notificationService.showError(error.message || 'Login failed');\n            return of(AuthActions.loginFailure({ error }));\n          })\n        )\n      )\n    )\n  );\n\n  register$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(AuthActions.register),\n      tap(() => this.store.dispatch(UiActions.setLoading({ isLoading: true }))),\n      exhaustMap(({ name, email, password }) =>\n        this.authService.signup(email, password, name).pipe(\n          map(response => {\n            this.storageService.setItem('auth_token', response.token);\n            this.store.dispatch(UiActions.setLoading({ isLoading: false }));\n            this.notificationService.showSuccess('Registration successful');\n            return AuthActions.registerSuccess({\n              user: response.user,\n              token: response.token\n            });\n          }),\n          catchError(error => {\n            this.store.dispatch(UiActions.setLoading({ isLoading: false }));\n            this.notificationService.showError(error.message || 'Registration failed');\n            return of(AuthActions.registerFailure({ error }));\n          })\n        )\n      )\n    )\n  );\n\n  loginSuccess$ = createEffect(\n    () =>\n      this.actions$.pipe(\n        ofType(AuthActions.loginSuccess, AuthActions.registerSuccess),\n        tap(() => this.router.navigate(['/']))\n      ),\n    { dispatch: false }\n  );\n\n  logout$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(AuthActions.logout),\n      tap(() => {\n        this.storageService.removeItem('auth_token');\n        this.notificationService.showInfo('You have been logged out');\n        this.router.navigate(['/']);\n        return AuthActions.logoutSuccess();\n      })\n    )\n  );\n\n  constructor(\n    private actions$: Actions,\n    private authService: AuthService,\n    private storageService: StorageService,\n    private router: Router,\n    private notificationService: NotificationService,\n    private store: Store<AppState>\n  ) {}\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { Store } from '@ngrx/store';\nimport { of } from 'rxjs';\nimport { map, catchError, exhaustMap, tap, withLatestFrom } from 'rxjs/operators';\n\nimport { CartService } from '../../core/services/cart.service';\nimport { NotificationService } from '../../core/services/notification.service';\nimport { StorageService } from '../../core/services/storage.service';\nimport { CartItem } from '../../core/models/cart-item.model';\nimport { AppState } from '../index';\nimport * as CartActions from '../actions/cart.actions';\nimport * as UiActions from '../actions/ui.actions';\nimport { selectCartItems } from '../selectors/cart.selectors';\nimport { selectIsAuthenticated } from '../selectors/auth.selectors';\n\n@Injectable()\nexport class CartEffects {\n  loadCart$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(CartActions.loadCart),\n      withLatestFrom(this.store.select(selectIsAuthenticated)),\n      exhaustMap(([_, isAuthenticated]) => {\n        if (isAuthenticated) {\n          return this.cartService.getCart().pipe(\n            map(items => CartActions.loadCartSuccess({ items })),\n            catchError(error => of(CartActions.loadCartFailure({ error })))\n          );\n        } else {\n          const localCart = this.storageService.getItem<string>('cart') || '[]';\n          try {\n            const items = JSON.parse(localCart);\n            return of(CartActions.loadCartSuccess({ items }));\n          } catch (error) {\n            return of(CartActions.loadCartFailure({ error: 'Failed to parse cart data' }));\n          }\n        }\n      })\n    )\n  );\n\n  addToCart$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(CartActions.addToCart),\n      withLatestFrom(\n        this.store.select(selectCartItems),\n        this.store.select(selectIsAuthenticated)\n      ),\n      tap(([action, currentItems, isAuthenticated]) => {\n        this.notificationService.showSuccess(`${action.item.name || action.item.productId} added to cart`);\n        \n        // Only update localStorage for non-authenticated users\n        // The reducer will handle the state update\n        if (!isAuthenticated) {\n          // Sync with localStorage after reducer updates state\n          setTimeout(() => {\n            const updatedItems = [...currentItems];\n            const existingItemIndex = updatedItems.findIndex(cartItem => cartItem.productId === action.item.productId);\n\n            if (existingItemIndex >= 0) {\n              updatedItems[existingItemIndex] = {\n                ...updatedItems[existingItemIndex],\n                quantity: updatedItems[existingItemIndex].quantity + action.item.quantity\n              };\n            } else {\n              const cartItem: CartItem = {\n                productId: action.item.productId,\n                name: action.item.name || '',\n                price: action.item.price,\n                image: action.item.image || action.item.imageUrl || '',\n                quantity: action.item.quantity\n              };\n              updatedItems.push(cartItem);\n            }\n            \n            this.storageService.setItem('cart', JSON.stringify(updatedItems));\n          }, 0);\n        }\n      })\n    ),\n    { dispatch: false }\n  );\n\n  removeFromCart$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(CartActions.removeFromCart),\n      map(action => action.productId), // Extract productId\n      withLatestFrom(\n        this.store.select(selectCartItems),\n        this.store.select(selectIsAuthenticated)\n      ),\n      tap(([productId, currentItems, _]) => { // Use extracted productId\n        const item = currentItems.find(item => item.productId === productId);\n        if (item) {\n          this.notificationService.showInfo(`${item.name} removed from cart`);\n        }\n      }),\n      exhaustMap(([productId, currentItems, isAuthenticated]) => { // Use extracted productId\n        const updatedItems = currentItems.filter(item => item.productId !== productId);\n        this.storageService.setItem('cart', JSON.stringify(updatedItems));\n\n        if (isAuthenticated) {\n          return this.cartService.syncCart(updatedItems).pipe(\n            map(() => CartActions.syncCartWithServerSuccess()),\n            catchError(error => of(CartActions.syncCartWithServerFailure({ error })))\n          );\n        }\n        \n        return of(CartActions.syncCartWithServerSuccess());\n      })\n    )\n  );\n\n  updateCartItemQuantity$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(CartActions.updateCartItemQuantity),\n      map(action => ({ productId: action.productId, quantity: action.quantity })), // Extract properties\n      withLatestFrom(\n        this.store.select(selectCartItems),\n        this.store.select(selectIsAuthenticated)\n      ),\n      exhaustMap(([{ productId, quantity }, currentItems, isAuthenticated]) => { // Use extracted properties\n        const updatedItems = currentItems.map(item => \n          item.productId === productId ? { ...item, quantity } : item\n        );\n        \n        this.storageService.setItem('cart', JSON.stringify(updatedItems));\n\n        if (isAuthenticated) {\n          return this.cartService.syncCart(updatedItems).pipe(\n            map(() => CartActions.syncCartWithServerSuccess()),\n            catchError(error => of(CartActions.syncCartWithServerFailure({ error })))\n          );\n        }\n        \n        return of(CartActions.syncCartWithServerSuccess());\n      })\n    )\n  );\n\n  clearCart$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(CartActions.clearCart),\n      withLatestFrom(this.store.select(selectIsAuthenticated)),\n      exhaustMap(([action, isAuthenticated]) => {\n        if (isAuthenticated) {\n          // Simulate API call to clear backend cart\n          return of({ type: '[Cart API] Clear Cart Success - Backend (Placeholder)' }).pipe(\n            map(() => CartActions.loadCartSuccess({ items: [] })),\n            catchError(error => of({ type: '[Cart API] Clear Cart Failure - Backend', error }))\n          );\n        } else {\n          // For non-authenticated users, just return success\n          return of(CartActions.loadCartSuccess({ items: [] }));\n        }\n      })\n    )\n  );\n\n  constructor(\n    private actions$: Actions,\n    private cartService: CartService,\n    private storageService: StorageService,\n    private notificationService: NotificationService,\n    private store: Store<AppState>\n  ) {}\n}\n","import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { of } from 'rxjs';\nimport { map, catchError, switchMap } from 'rxjs/operators';\n\nimport { ProductService } from '../../core/services/product.service';\nimport * as ProductActions from '../actions/product.actions';\n\n@Injectable()\nexport class ProductEffects {\n  \n  loadProducts$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ProductActions.loadProducts),\n      switchMap(({ params }) => {\n        console.log('ProductEffects: loadProducts effect triggered with params:', params);\n        return this.productService.getProducts(params).pipe(\n          map(paginatedResponse => {\n            console.log('ProductEffects: loadProducts success with response:', paginatedResponse);\n            return ProductActions.loadProductsSuccess({ paginatedResponse });\n          }),\n          catchError(error => {\n            console.error('ProductEffects: loadProducts error:', error);\n            return of(ProductActions.loadProductsFailure({ error }));\n          })\n        )\n      })\n    )\n  );\n\n  loadProductById$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ProductActions.loadProductById),\n      switchMap(({ productId }) =>\n        this.productService.getProductById(productId).pipe(\n          map(product => ProductActions.loadProductByIdSuccess({ product })),\n          catchError(error => of(ProductActions.loadProductByIdFailure({ error })))\n        )\n      )\n    )\n  );\n\n  loadCategories$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(ProductActions.loadCategories),\n      switchMap(() => {\n        console.log('ProductEffects: loadCategories effect triggered');\n        return this.productService.getCategories().pipe(\n          map(categories => {\n            console.log('ProductEffects: loadCategories success with categories:', categories);\n            return ProductActions.loadCategoriesSuccess({ categories });\n          }),\n          catchError(error => {\n            console.error('ProductEffects: loadCategories error:', error);\n            return of(ProductActions.loadCategoriesFailure({ error }));\n          })\n        )\n      })\n    )\n  );\n\n  constructor(\n    private actions$: Actions,\n    private productService: ProductService\n  ) {}\n}\n","import { ActionReducerMap, MetaReducer } from '@ngrx/store';\nimport { routerReducer, RouterReducerState } from '@ngrx/router-store';\nimport { environment } from '../../environments/environment';\n\n// Import feature reducers\nimport * as fromAuth from './reducers/auth.reducer';\nimport * as fromCart from './reducers/cart.reducer';\nimport * as fromProducts from './reducers/products.reducer';\nimport * as fromOrders from './reducers/orders.reducer';\nimport * as fromUI from './reducers/ui.reducer';\n\n// Define the global AppState type\nexport interface AppState {\n  router: RouterReducerState;\n  auth: fromAuth.State;\n  cart: fromCart.State;\n  products: fromProducts.State;\n  orders: fromOrders.State;\n  ui: fromUI.State;\n}\n\n// Combine all reducers\nexport const reducers: ActionReducerMap<AppState> = {\n  router: routerReducer,\n  auth: fromAuth.reducer,\n  cart: fromCart.reducer,\n  products: fromProducts.reducer,\n  orders: fromOrders.reducer,\n  ui: fromUI.reducer\n};\n\n// Meta reducers\nexport const metaReducers: MetaReducer<AppState>[] = !environment.production ? [] : [];\n","import { createReducer, on } from '@ngrx/store';\n\nexport interface State {\n  user: any | null;\n  isAuthenticated: boolean;\n  loading: boolean;\n  error: string | null;\n}\n\nexport const initialState: State = {\n  user: null,\n  isAuthenticated: false,\n  loading: false,\n  error: null\n};\n\nexport const reducer = createReducer(\n  initialState\n  // Add actions later\n);\n","import { createReducer, on } from '@ngrx/store';\nimport { CartItem } from '../../core/models/cart-item.model';\nimport * as CartActions from '../actions/cart.actions';\n\nexport interface State {\n  items: CartItem[];\n  total: number;\n  loading: boolean;\n  error: string | null;\n}\n\nexport const initialState: State = {\n  items: [],\n  total: 0,\n  loading: false,\n  error: null\n};\n\nexport const reducer = createReducer(\n  initialState,\n  \n  // Add to cart\n  on(CartActions.addToCart, (state, { item }) => {\n    const existingItemIndex = state.items.findIndex(cartItem => cartItem.productId === item.productId);\n    let updatedItems: CartItem[];\n    \n    if (existingItemIndex >= 0) {\n      // Item exists, update quantity\n      updatedItems = state.items.map((cartItem, index) => \n        index === existingItemIndex \n                  ? { ...cartItem, quantity: cartItem.quantity + item.quantity }\n          : cartItem\n      );\n    } else {\n      // New item, add to cart\n      updatedItems = [...state.items, item];\n    }\n    \n    const newState = {\n      ...state,\n      items: updatedItems,\n      total: calculateTotal(updatedItems)\n    };\n    \n    return newState;\n  }),\n  \n  // Remove from cart\n  on(CartActions.removeFromCart, (state, { productId }) => {\n    const updatedItems = state.items.filter(item => item.productId !== productId);\n    return {\n      ...state,\n      items: updatedItems,\n      total: calculateTotal(updatedItems)\n    };\n  }),\n  \n  // Update cart item quantity\n  on(CartActions.updateCartItemQuantity, (state, { productId, quantity }) => {\n    const updatedItems = state.items.map(item => \n      item.productId === productId ? { ...item, quantity } : item\n    );\n    return {\n      ...state,\n      items: updatedItems,\n      total: calculateTotal(updatedItems)\n    };\n  }),\n  \n  // Clear cart\n  on(CartActions.clearCart, () => initialState),\n  \n  // Load cart\n  on(CartActions.loadCart, (state) => ({\n    ...state,\n    loading: true,\n    error: null\n  })),\n  \n  // Load cart success\n  on(CartActions.loadCartSuccess, (state, { items }) => ({\n    ...state,\n    items,\n    total: calculateTotal(items),\n    loading: false,\n    error: null\n  })),\n  \n  // Load cart failure\n  on(CartActions.loadCartFailure, (state, { error }) => ({\n    ...state,\n    loading: false,\n    error: typeof error === 'string' ? error : 'Failed to load cart'\n  }))\n);\n\n// Helper function to calculate total\nfunction calculateTotal(items: CartItem[]): number {\n  return items.reduce((total, item) => total + (item.price * item.quantity), 0);\n}\n","import { createReducer, on } from '@ngrx/store';\n\nexport interface Order {\n  id: number;\n  date: Date;\n  total: number;\n  status: string;\n  items: any[];\n}\n\nexport interface State {\n  orders: Order[];\n  currentOrder: Order | null;\n  loading: boolean;\n  error: string | null;\n}\n\nexport const initialState: State = {\n  orders: [],\n  currentOrder: null,\n  loading: false,\n  error: null\n};\n\nexport const reducer = createReducer(\n  initialState\n  // Add actions later\n);\n","import { createReducer, on } from '@ngrx/store';\nimport { Product, Category, Review } from '../../core/models/product.model';\nimport * as ProductActions from '../actions/product.actions';\n\nexport interface State {\n  items: Product[];\n  categories: Category[];\n  reviews: Review[];\n  selectedProduct: Product | null;\n  currentProduct: Product | null;\n  total: number;\n  loading: boolean;\n  error: string | null;\n}\n\nexport interface ProductState extends State {} // Add alias for ProductState\n\nexport const initialState: State = {\n  items: [],\n  categories: [],\n  reviews: [],\n  selectedProduct: null,\n  currentProduct: null,\n  total: 0,\n  loading: false,\n  error: null\n};\n\nexport const reducer = createReducer(\n  initialState,\n  \n  // Load Products\n  on(ProductActions.loadProducts, (state) => ({\n    ...state,\n    loading: true,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductsSuccess, (state, { paginatedResponse }) => ({\n    ...state,\n    items: paginatedResponse.items,\n    total: paginatedResponse.totalCount,\n    loading: false,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductsFailure, (state, { error }) => ({\n    ...state,\n    loading: false,\n    error: error\n  })),\n  \n  // Load Product By ID\n  on(ProductActions.loadProductById, (state) => ({\n    ...state,\n    loading: true,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductByIdSuccess, (state, { product }) => ({\n    ...state,\n    currentProduct: product,\n    selectedProduct: product,\n    loading: false,\n    error: null\n  })),\n  \n  on(ProductActions.loadProductByIdFailure, (state, { error }) => ({\n    ...state,\n    loading: false,\n    error: error\n  })),\n  \n  // Load Categories\n  on(ProductActions.loadCategories, (state) => {\n    console.log('Products Reducer: loadCategories action received');\n    return {\n      ...state,\n      loading: true,\n      error: null\n    };\n  }),\n  \n  on(ProductActions.loadCategoriesSuccess, (state, { categories }) => {\n    console.log('Products Reducer: loadCategoriesSuccess action received', categories);\n    return {\n      ...state,\n      categories: categories,\n      loading: false,\n      error: null\n    };\n  }),\n  \n  on(ProductActions.loadCategoriesFailure, (state, { error }) => {\n    console.log('Products Reducer: loadCategoriesFailure action received', error);\n    return {\n      ...state,\n      loading: false,\n      error: error\n    };\n  })\n);\n","import { createReducer, on } from '@ngrx/store';\nimport * as UiActions from '../actions/ui.actions';\n\nexport interface State {\n  loading: boolean;\n  sidenavOpen: boolean;\n  error: string | null;\n}\n\nexport const initialState: State = {\n  loading: false,\n  sidenavOpen: false,\n  error: null\n};\n\nexport const reducer = createReducer(\n  initialState,\n  on(UiActions.setLoading, (state, { isLoading }) => ({\n    ...state,\n    loading: isLoading\n  })),\n  on(UiActions.setError, (state, { error }) => ({\n    ...state,\n    error\n  })),\n  on(UiActions.clearNotification, state => ({\n    ...state,\n    error: null\n  }))\n);\n","import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport { State } from '../reducers/auth.reducer';\n\nexport const selectAuthState = createFeatureSelector<State>('auth');\n\nexport const selectIsAuthenticated = createSelector(\n  selectAuthState,\n  state => state.isAuthenticated\n);\n\nexport const selectCurrentUser = createSelector(\n  selectAuthState,\n  state => state.user\n);\n\nexport const selectAuthError = createSelector(\n  selectAuthState,\n  state => state.error\n);\n\nexport const selectAuthLoading = createSelector(\n  selectAuthState,\n  state => state.loading\n);\n\nexport const selectIsAdmin = createSelector(\n  selectCurrentUser,\n  user => user?.isAdmin || false\n);","import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport { State } from '../reducers/cart.reducer';\n\nexport const selectCartState = createFeatureSelector<State>('cart');\n\nexport const selectCartItems = createSelector(\n  selectCartState,\n  state => state.items\n);\n\nexport const selectCartItemCount = createSelector(\n  selectCartItems,\n  items => items.reduce((count, item) => count + item.quantity, 0)\n);\n\nexport const selectCartTotal = createSelector(\n  selectCartItems,\n  items => items.reduce((total, item) => total + (item.price * item.quantity), 0)\n);\n\nexport const selectCartLoading = createSelector(\n  selectCartState,\n  state => state.loading\n);\n\nexport const selectCartError = createSelector(\n  selectCartState,\n  state => state.error\n);","import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport { State } from '../reducers/ui.reducer';\n\nexport const selectUiState = createFeatureSelector<State>('ui');\n\nexport const selectIsLoading = createSelector(\n  selectUiState,\n  state => state.loading\n);\n\nexport const selectSidenavOpen = createSelector(\n  selectUiState,\n  state => state.sidenavOpen\n);\n\nexport const selectError = createSelector(\n  selectUiState,\n  state => state.error\n);","export const environment = {\n  production: false,\n  apiUrl: '/api',\n  useMockData: false, // Changed to false to use Fake Store API\n  useFakeStoreApi: true // Added flag for Fake Store API\n};\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["RouterModule","PreloadAllModules","AuthGuard","AdminGuard","NotFoundComponent","routes","path","loadChildren","then","m","HomeModule","ProductsModule","CartModule","CheckoutModule","canActivate","AuthModule","ProfileModule","OrdersModule","WishlistModule","AdminModule","AboutModule","ContactModule","component","AppRoutingModule","forRoot","preloadingStrategy","scrollPositionRestoration","useHash","imports","i1","exports","NavigationEnd","filter","takeUntil","Subject","checkAuthStatus","logout","selectIsLoading","selectIsAuthenticated","selectCurrentUser","selectCartItemCount","i0","ɵɵelement","ɵɵproperty","AppComponent","constructor","store","router","swUpdate","updateAvailable","showBackToTop","destroy$","isLoading$","select","isAuthenticated$","currentUser$","cartItemCount$","onWindowScroll","window","pageYOffset","ngOnInit","dispatch","events","pipe","event","subscribe","scrollTo","top","behavior","isEnabled","versionUpdates","ngOnDestroy","next","complete","scrollToTop","updateApp","activateUpdate","document","location","reload","ɵɵdirectiveInject","Store","i2","Router","i3","SwUpdate","selectors","hostBindings","AppComponent_HostBindings","rf","ctx","$event","ɵɵresolveWindow","ɵɵelementStart","ɵɵtemplate","AppComponent_app_loading_spinner_4_Template","ɵɵelementEnd","ɵɵlistener","AppComponent_Template_button_click_7_listener","ɵɵtext","ɵɵadvance","ɵɵpipeBind1","ɵɵclassProp","isDevMode","BrowserModule","BrowserAnimationsModule","HttpClientModule","HTTP_INTERCEPTORS","ServiceWorkerModule","StoreModule","EffectsModule","StoreDevtoolsModule","StoreRouterConnectingModule","CoreModule","SharedModule","reducers","metaReducers","AppEffects","AuthEffects","CartEffects","ProductEffects","JwtInterceptor","ErrorInterceptor","CacheInterceptor","ProductsPageComponent","MatProgressSpinnerModule","MatIconModule","AppModule","bootstrap","provide","useClass","multi","instrument","maxAge","logOnly","autoPause","register","enabled","registrationStrategy","declarations","StoreRootModule","EffectsRootModule","i4","i5","CommonModule","AuthService","ProductService","CartService","OrderService","NotificationService","StorageService","parentModule","Error","ɵɵinject","map","take","notificationService","route","state","user","isAdmin","error","createUrlTree","factory","ɵfac","providedIn","isAuthenticated","info","queryParams","returnUrl","url","HttpResponse","of","tap","shareReplay","cache","Map","CACHE_DURATION","intercept","request","method","handle","headers","get","includes","cacheKey","cachedEntry","now","Date","timestamp","response","delete","set","clearCache","clear","removeFromCache","throwError","catchError","setError","errorMessage","ErrorEvent","message","status","navigate","showError","authService","console","log","token","getToken","clone","setHeaders","Authorization","BehaviorSubject","environment","http","storageService","apiUrl","userSubject","user$","asObservable","autoLogin","signup","email","password","name","post","handleAuthentication","login","removeItem","tokenExpirationTimer","clearTimeout","userData","getItem","loadedUser","tokenExpirationDate","setAutoLogoutTimer","getTime","getCurrentUser","expiresIn","expirationDate","toISOString","setItem","JSON","stringify","expirationDuration","setTimeout","HttpClient","addToCart","removeFromCart","updateCartItemQuantity","loadCart","getCart","product","quantity","cartItem","productId","id","price","discountPrice","unitPrice","image","imageUrl","item","getCartItems","updateQuantity","clearCart","syncCart","items","FakeStoreApiService","baseUrl","getProducts","options","category","encodeURIComponent","params","URLSearchParams","limit","append","toString","sortBy","order","queryString","products","transformToAppProducts","getEmptyResponse","getProductById","transformSingleProduct","getCategories","categories","transformToAppCategories","getProductsByCategory","categoryName","p","fakeProduct","title","description","images","altText","capitalizeCategory","categoryId","stock","Math","floor","random","stockQuantity","rating","rate","brand","generateBrandFromCategory","sku","createdAt","featured","regularPrice","undefined","availabilityStatus","freeShipping","fastDelivery","reviews","generateMockReviews","count","fakeProducts","search","searchTerm","toLowerCase","page","length","startIndex","endIndex","paginatedProducts","slice","totalCount","totalPages","ceil","cat","split","word","charAt","toUpperCase","join","brandMap","brands","maxReviews","min","i","push","userId","userName","comment","delay","MockDataService","parentId","updatedAt","keyFeatures","filteredProducts","categoryFilter","subcategory","subCategoryTerm","some","kf","minPrice","maxPrice","sort","a","b","aValue","bValue","find","getProductReviews","productReviews","r","getFeaturedProducts","snackBar","show","duration","open","verticalPosition","horizontalPosition","success","panelClass","warn","showSuccess","showInfo","showWarning","MatSnackBar","getOrders","getOrderById","createOrder","orderData","cancelOrder","orderId","reason","HttpParams","mockDataService","fakeStoreApiService","categoriesUrl","useFakeStoreApi","useMockData","observe","body","totalCountHeader","handleError","buildCategoryTree","addProductReview","review","getRelatedProducts","categoryMap","forEach","children","rootCategories","parent","loadProducts","loadCategories","loadProductById","prefix","key","value","storageKey","localStorage","parse","Object","keys","startsWith","WishlistService","WISHLIST_KEY","wishlistSubject","wishlist$","wishlistCount$","loadWishlist","savedWishlist","Array","isArray","saveWishlist","addToWishlist","currentWishlist","existingIndex","findIndex","updatedWishlist","removeFromWishlist","isInWishlist","clearWishlist","getWishlist","toggleWishlist","productIndex","added","splice","switchMap","rxjsMap","ɵɵpureFunction1","_c0","product_r8","ɵɵsanitizeUrl","ɵɵtextInterpolate","ɵɵpipeBind3","ProductsPageComponent_div_4_div_1_div_1_Template","products_r3","ProductsPageComponent_div_4_div_1_Template","ProductsPageComponent_div_4_ng_template_2_Template","ɵɵtemplateRefExtractor","_r5","productService","pageTitle","currentPage","itemsPerPage","products$","capitalizeFirstLetter","str","ActivatedRoute","decls","vars","consts","template","ProductsPageComponent_Template","ProductsPageComponent_div_4_Template","ProductsPageComponent_ng_template_6_Template","_r1","MAT_DIALOG_DATA","ConfirmDialogComponent","dialogRef","data","MatDialogRef","ConfirmDialogComponent_Template","ɵɵsanitizeHtml","ɵɵtextInterpolate1","cancelButtonText","color","confirmButtonText","FooterComponent","currentYear","getFullYear","newsletterEmail","isSubscribing","subscribeNewsletter","emailRegex","test","FooterComponent_HostBindings","FooterComponent_Template_form_ngSubmit_11_listener","FooterComponent_Template_input_ngModelChange_13_listener","FooterComponent_span_15_Template","FooterComponent_span_16_Template","FooterComponent_Template_button_click_179_listener","FormControl","debounceTime","distinctUntilChanged","HeaderComponent_div_10_button_5_Template_button_click_0_listener","ɵɵrestoreView","_r15","ctx_r14","ɵɵnextContext","ɵɵresetView","clearSearch","HeaderComponent_div_10_div_6_div_1_Template_div_click_0_listener","restoredCtx","_r19","suggestion_r17","$implicit","ctx_r18","selectSuggestion","HeaderComponent_div_10_div_6_div_1_Template","ctx_r13","searchSuggestions","HeaderComponent_div_10_Template_input_focus_2_listener","_r21","ctx_r20","showSearchSuggestions","HeaderComponent_div_10_Template_input_keyup_enter_2_listener","ctx_r22","onSearch","HeaderComponent_div_10_button_5_Template","HeaderComponent_div_10_div_6_Template","ctx_r1","searchControl","HeaderComponent_nav_11_div_11_li_6_Template_a_click_1_listener","_r29","subcategory_r27","ctx_r28","navigateToSubcategory","HeaderComponent_nav_11_div_11_li_6_Template","category_r25","icon","subcategories","HeaderComponent_nav_11_Template_li_mouseenter_5_listener","_r31","ctx_r30","openMegaMenu","HeaderComponent_nav_11_Template_li_mouseleave_5_listener","ctx_r32","closeMegaMenu","HeaderComponent_nav_11_Template_a_click_6_listener","ctx_r33","toggleMegaMenuOnClick","HeaderComponent_nav_11_div_11_Template","HeaderComponent_nav_11_li_18_Template","ɵɵpureFunction0","ctx_r2","megaMenuOpen","isAdmin$","HeaderComponent_button_13_Template_button_click_0_listener","_r35","ctx_r34","toggleMobileSearch","count_r36","count_r37","tmp_0_0","ctx_r38","avatar","HeaderComponent_div_24_button_24_Template_button_click_0_listener","_r43","ctx_r42","navigateToAdmin","HeaderComponent_div_24_img_2_Template","HeaderComponent_div_24_mat_icon_4_Template","HeaderComponent_div_24_Template_button_click_16_listener","_r45","ctx_r44","navigateToProfile","HeaderComponent_div_24_Template_button_click_20_listener","ctx_r46","navigateToOrders","HeaderComponent_div_24_button_24_Template","HeaderComponent_div_24_Template_button_click_27_listener","ctx_r47","_r40","tmp_1_0","ctx_r6","tmp_2_0","tmp_3_0","firstName","tmp_4_0","HeaderComponent_ng_template_26_a_0_Template","HeaderComponent_ng_template_26_button_1_Template","ctx_r8","isMobile","HeaderComponent_button_28_Template_button_click_0_listener","_r51","ctx_r50","toggleMobileMenu","HeaderComponent_div_29_Template_button_click_5_listener","_r53","ctx_r52","HeaderComponent_div_29_Template_input_keyup_enter_8_listener","ctx_r54","onMobileSearch","HeaderComponent_div_29_Template_button_click_9_listener","ctx_r55","ctx_r10","mobileSearchOpen","mobileSearchControl","HeaderComponent_div_30_li_23_Template_a_click_1_listener","_r62","category_r60","ctx_r61","navigateToCategory","HeaderComponent_div_30_li_29_Template_a_click_1_listener","_r64","ctx_r63","closeMobileMenu","HeaderComponent_div_30_li_31_Template_a_click_1_listener","_r66","ctx_r65","HeaderComponent_div_30_div_33_Template_button_click_1_listener","_r68","ctx_r67","HeaderComponent_div_30_Template_button_click_5_listener","_r70","ctx_r69","HeaderComponent_div_30_Template_a_click_11_listener","ctx_r71","HeaderComponent_div_30_Template_a_click_16_listener","ctx_r72","toggleMobileCategories","HeaderComponent_div_30_li_23_Template","HeaderComponent_div_30_Template_a_click_25_listener","ctx_r73","HeaderComponent_div_30_li_29_Template","HeaderComponent_div_30_li_31_Template","HeaderComponent_div_30_div_33_Template","ctx_r11","mobileMenuOpen","showMobileCategories","isLoggedIn$","HeaderComponent","cartService","showMobileSearch","showMobileMenu","isScrolled","popularCategories$","notificationsSubject","type","read","auth","cartItems$","cart","reduce","role","notifications$","notificationCount$","notifications","n","detectMobile","valueChanges","term","onResize","onDocumentClick","target","closest","performSearch","mockSuggestions","suggestion","setValue","searchInput","querySelector","focus","style","overflow","stopPropagation","navigateToWishlist","navigateToCart","markAllAsRead","updatedNotifications","markAsRead","notification","getNotificationIcon","innerWidth","HeaderComponent_HostBindings","HeaderComponent_resize_HostBindingHandler","HeaderComponent_click_HostBindingHandler","ɵɵresolveDocument","HeaderComponent_span_9_Template","HeaderComponent_div_10_Template","HeaderComponent_nav_11_Template","HeaderComponent_button_13_Template","HeaderComponent_Template_button_click_14_listener","HeaderComponent_span_17_Template","HeaderComponent_Template_button_click_19_listener","HeaderComponent_span_22_Template","HeaderComponent_div_24_Template","HeaderComponent_ng_template_26_Template","HeaderComponent_button_28_Template","HeaderComponent_div_29_Template","HeaderComponent_div_30_Template","_r7","LoadingSpinnerComponent","diameter","mode","overlay","inputs","LoadingSpinnerComponent_Template","NotFoundComponent_Template","EventEmitter","CartActions","ctx_r0","discountPercentage","ProductCardComponent_div_29_Template_button_click_1_listener","_r28","ctx_r27","prevImage","ProductCardComponent_div_29_Template_button_click_3_listener","ctx_r29","nextImage","ProductCardComponent_div_30_button_1_Template_button_click_0_listener","_r34","i_r32","index","setImage","currentImageIndex","ProductCardComponent_div_30_button_1_Template","ɵɵstyleProp","ctx_r12","ctx_r37","ProductCardComponent_div_39_i_4_Template","ProductCardComponent_div_39_i_6_Template","ProductCardComponent_div_39_span_10_Template","ctx_r15","ɵɵpipeBind2","ctx_r16","ɵɵpipeBind4","ctx_r17","currencySymbol","discountAmount","ɵɵtextInterpolate2","ctx_r19","unitQuantity","unit","feature_r41","ProductCardComponent_div_50_div_1_Template","_c1","ProductCardComponent_div_51_div_1_Template","ProductCardComponent_div_51_div_2_Template","ctx_r21","ProductCardComponent_div_60_Template_button_click_2_listener","decrementQuantity","ProductCardComponent_div_60_Template_input_ngModelChange_4_listener","selectedQuantity","ProductCardComponent_div_60_Template_input_change_4_listener","onQuantityChange","ProductCardComponent_div_60_Template_input_click_4_listener","ProductCardComponent_div_60_Template_button_click_5_listener","ctx_r49","incrementQuantity","ctx_r26","ProductCardComponent","wishlistService","cdr","newThresholdDays","showNewBadge","showFeaturedBadge","showBestsellerBadge","showSoldOutBadge","showImageHoverControls","showImageIndicators","showStockIndicator","showRating","showShortDescription","showKeyFeatures","showShippingInfo","cycleImagesOnHover","size","showBuyNowButton","showQuantityControl","layout","productAddedToCart","productAddedToWishlist","productCompared","productViewed","productBoughtNow","isNew","isBestSeller","isLowStock","addingToCart","addingToWishlistState","uiShowQuantitySelector","isInWishlist$","isInCompare$","updateProductFlags","calculateDiscount","ngOnChanges","changes","markForCheck","productDate","diffTime","abs","diffDays","round","onMouseEnter","startImageCycle","onMouseLeave","stopImageCycle","imageChangeInterval","setInterval","clearInterval","onImageError","imgElement","src","addToCartHandler","emit","addToWishlistHandler","compareProductHandler","viewProductHandler","buyNowHandler","toggleQuantitySelectorHandler","currentDisplayImage","stockStatusClass","cardClasses","classes","ChangeDetectorRef","outputs","features","ɵɵNgOnChangesFeature","ProductCardComponent_Template","ProductCardComponent_Template_div_mouseenter_0_listener","ProductCardComponent_Template_div_mouseleave_0_listener","ProductCardComponent_Template_img_error_4_listener","ProductCardComponent_div_7_Template","ProductCardComponent_div_8_Template","ProductCardComponent_div_9_Template","ProductCardComponent_div_10_Template","ProductCardComponent_div_11_Template","ProductCardComponent_div_12_Template","ProductCardComponent_Template_button_click_14_listener","ProductCardComponent_i_16_Template","ProductCardComponent_i_18_Template","ProductCardComponent_Template_button_click_20_listener","ProductCardComponent_Template_button_click_22_listener","ProductCardComponent_i_25_Template","ProductCardComponent_i_27_Template","ProductCardComponent_div_29_Template","ProductCardComponent_div_30_Template","ProductCardComponent_div_31_Template","ProductCardComponent_span_34_Template","ProductCardComponent_span_35_Template","ProductCardComponent_div_39_Template","ProductCardComponent_div_40_Template","ProductCardComponent_span_47_Template","ProductCardComponent_div_48_Template","ProductCardComponent_p_49_Template","ProductCardComponent_div_50_Template","ProductCardComponent_div_51_Template","ProductCardComponent_Template_button_click_54_listener","ProductCardComponent_i_56_Template","ProductCardComponent_mat_progress_spinner_57_Template","ProductCardComponent_span_58_Template","ProductCardComponent_span_59_Template","ProductCardComponent_div_60_Template","ProductCardComponent_Template_button_click_62_listener","_c2","ɵɵpropertyInterpolate","_c3","QuantitySelectorComponent","max","disabled","quantityChange","valueChange","increaseQuantity","decreaseQuantity","QuantitySelectorComponent_Template","QuantitySelectorComponent_Template_button_click_1_listener","QuantitySelectorComponent_Template_button_click_6_listener","StarRatingComponent_button_1_Template_button_click_0_listener","i_r3","ctx_r4","readOnly","StarRatingComponent_button_1_Template_button_mouseenter_0_listener","onStarHover","StarRatingComponent_button_1_Template_button_mouseleave_0_listener","ctx_r7","onStarLeave","currentRating","hoverRating","reviewCount","StarRatingComponent","maxRating","showReviewCount","ratingChange","stars","fill","ratingValue","StarRatingComponent_Template","StarRatingComponent_button_1_Template","StarRatingComponent_span_2_Template","HighlightDirective","el","renderer","highlightEnabled","highlightColor","defaultColor","originalColor","nativeElement","backgroundColor","addClass","highlight","setStyle","ElementRef","Renderer2","HighlightDirective_HostBindings","HighlightDirective_mouseleave_HostBindingHandler","LazyImgDirective","srcAttr","placeholderSrc","observer","IntersectionObserver","entries","entry","isIntersecting","loadImage","unobserve","img","Image","onload","getAttribute","onerror","hostVars","LazyImgDirective_HostBindings","PricePipe","transform","currency","toFixed","pure","TruncatePipe","completeWords","ellipsis","substring","lastIndexOf","ReactiveFormsModule","FormsModule","MatButtonModule","MatCardModule","MatInputModule","MatFormFieldModule","MatSelectModule","MatSnackBarModule","MatBadgeModule","MatMenuModule","MatToolbarModule","MatTableModule","MatPaginatorModule","MatSortModule","MatDialogModule","MatDividerModule","MatListModule","MatStepperModule","MatExpansionModule","MatChipsModule","MatTabsModule","MatTooltipModule","materialModules","components","pipes","directives","createAction","props","checkAuthStatusSuccess","checkAuthStatusFailure","loginSuccess","loginFailure","registerSuccess","registerFailure","logoutSuccess","resetAuthState","loadCartSuccess","loadCartFailure","navigateToCheckout","syncCartWithServer","syncCartWithServerSuccess","syncCartWithServerFailure","loadProductsSuccess","loadProductsFailure","loadProductByIdSuccess","loadProductByIdFailure","loadCategoriesSuccess","loadCategoriesFailure","setLoading","showNotification","clearNotification","clearError","createEffect","ofType","ROUTER_NAVIGATION","actions$","navigationEffect$","Actions","exhaustMap","AuthActions","UiActions","checkAuthStatus$","isLoading","login$","register$","loginSuccess$","logout$","i6","withLatestFrom","selectCartItems","loadCart$","_","localCart","addToCart$","action","currentItems","updatedItems","existingItemIndex","removeFromCart$","updateCartItemQuantity$","clearCart$","ProductActions","loadProducts$","paginatedResponse","loadProductById$","loadCategories$","routerReducer","fromAuth","fromCart","fromProducts","fromOrders","fromUI","reducer","orders","ui","production","createReducer","initialState","loading","on","total","newState","calculateTotal","currentOrder","selectedProduct","currentProduct","sidenavOpen","createSelector","createFeatureSelector","selectAuthState","selectAuthError","selectAuthLoading","selectIsAdmin","selectCartState","selectCartTotal","selectCartLoading","selectCartError","selectUiState","selectSidenavOpen","selectError","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}